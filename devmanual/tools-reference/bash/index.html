<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Gentoo Development Guide: bash -- Standard Shell</title>
<link rel="stylesheet" href="../../devmanual.css" type="text/css">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The Gentoo Devmanual is a technical manual which covers topics such as writing ebuilds and eclasses, and policies that developers should be abiding by.">
<link href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/tyrian.min.css" rel="stylesheet" media="screen">
<link rel="icon" href="/images/favicon.png" type="image/x-icon">
</head>
<body>
<header><div class="site-title"><div class="container"><div class="row">
<div class="site-title-buttons"><div class="btn-group btn-group-sm">
<a href="https://get.gentoo.org/" role="button" class="btn get-gentoo"><span class="fa fa-fw fa-download"></span><strong> Get Gentoo!</strong></a><div class="btn-group btn-group-sm">
<a class="btn gentoo-org-sites dropdown-toggle" data-toggle="dropdown" data-target="#" href="#"><span class="fa fa-fw fa-map-o"></span><span class="hidden-xs"> gentoo.org sites </span><span class="caret"></span></a><ul class="dropdown-menu dropdown-menu-right">
<li><a href="https://www.gentoo.org/" title="Main Gentoo website"><span class="fa fa-home fa-fw"></span> gentoo.org</a></li>
<li><a href="https://wiki.gentoo.org/" title="Find and contribute documentation"><span class="fa fa-file-text-o fa-fw"></span> Wiki</a></li>
<li><a href="https://bugs.gentoo.org/" title="Report issues and find common issues"><span class="fa fa-bug fa-fw"></span> Bugs</a></li>
<li><a href="https://forums.gentoo.org/" title="Discuss with the community"><span class="fa fa-comments-o fa-fw"></span> Forums</a></li>
<li><a href="https://packages.gentoo.org/" title="Find software for your Gentoo"><span class="fa fa-hdd-o fa-fw"></span> Packages</a></li>
<li class="divider">
<li><a href="https://planet.gentoo.org/" title="Find out what's going on in the developer community"><span class="fa fa-rss fa-fw"></span> Planet</a></li>
<li><a href="https://archives.gentoo.org/" title="Read up on past discussions"><span class="fa fa-archive fa-fw"></span> Archives</a></li>
<li><a href="https://sources.gentoo.org/" title="Browse our source code"><span class="fa fa-code fa-fw"></span> Sources</a></li>
<li class="divider">
<li><a href="https://infra-status.gentoo.org/" title="Get updates on the services provided by Gentoo"><span class="fa fa-server fa-fw"></span> Infra Status</a></li>
</ul>
</div>
</div></div>
<div class="logo">
<a href="/" title="Back to the homepage" class="site-logo"><object data="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.svg" type="image/svg+xml"><img src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/site-logo.png" alt="Gentoo Linux Logo"></object></a><span class="site-label">Development Guide</span>
</div>
</div></div></div>
<nav class="tyrian-navbar" role="navigation"><div class="container"><div class="row">
<div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div>
<div class="collapse navbar-collapse navbar-main-collapse"><ul class="nav navbar-nav">
<li><a href="../..//index.html"><span class="glyphicon glyphicon-home"></span>  Home</a></li>
<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">bash -- Standard Shell<span class="caret"></span></a></li>
<li><a href="../index.html"><span class="glyphicon glyphicon-arrow-left"></span>  Tools Reference</a></li>
<li><a href="../../tools-reference/cat/index.html">cat -- File Concatenation  <span class="glyphicon glyphicon-arrow-right"></span></a></li>
</ul></div>
</div></div></nav></header><div class="container"><div class="row"><div class="col-md010"><ol class="breadcrumb">
<li><a href="../../index.html">Master Index</a></li>
<li><a href="../index.html">Tools Reference</a></li>
</ol></div></div></div>
<div class="container">
<h1 class="first-header">
<code class="docutils literal"><span class="pre">bash</span></code> -- Standard Shell</h1>

<p>
A thorough understanding of <code class="docutils literal"><span class="pre">bash</span></code> programming is vital when working with
ebuilds.
</p>

<div class="section">
<h2 id="bash-conditionals">Bash Conditionals</h2>

<div class="section">
<h3 id="basic-selection">Basic Selection</h3>

<p>
The basic conditional operator is the <code class="docutils literal"><span class="pre">if</span></code> statement:
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">if</span> something <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    do_stuff
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">fi</span>
</span></pre>

</div>

<div class="section">
<h3 id="multiple-selection">Multiple Selection</h3>

<p>
Multiple pronged selection can be done using <code class="docutils literal"><span class="pre">else</span></code> and <code class="docutils literal"><span class="pre">elif</span></code>:
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">if</span> something <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    do_stuff
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">elif</span> something_else <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    do_other_stuff
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">elif</span> full_moon <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    howl
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">else</span>
    turn_into_a_newt
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">fi</span>
</span></pre>

<div class="alert alert-warning" role="alert">
<strong>Warning:</strong>
You <b>must</b> specify at least one statement inside each block. The
following will <b>not</b> work:
</div>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">if</span> some_stuff <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Comment">#</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">A</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">statement</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">is</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">required</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">here.</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">a</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">blank</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">or</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">a</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">comment</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Comment">#</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">isn't</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">enough!</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">else</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">einfo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>Not some stuff<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">fi</span>
</span></pre>

<p>
If you really don't want to restructure the block, you can use a single colon
(<code class="docutils literal"><span class="pre">:</span></code>) on its own as a null statement.
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">if</span> some_stuff <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Comment">#</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">Do</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">nothing</span>
    :
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">else</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">einfo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>Not some stuff<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">fi</span>
</span></pre>

</div>

<div class="section">
<h3 id="selection-tests">Selection Tests</h3>

<p>
To do comparisons or file attribute tests, <code class="docutils literal"><span class="pre">[ ]</span></code> or <code class="docutils literal"><span class="pre">[[ ]]</span></code> blocks are
needed.
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">#</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">is</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">$foo</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">zero</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">length?</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">if</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">[[</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">-z</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${foo}</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">]]</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">die</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>Please set foo<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">fi</span>

<span xmlns="http://www.w3.org/1999/xhtml" class="Comment">#</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">is</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">$foo</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">equal</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">to</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"></span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">moo</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">?</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">if</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">[[</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${foo}</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier"></span><span xmlns="http://www.w3.org/1999/xhtml" class="Constant">=</span>= <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>moo<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">]]</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">einfo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>Hello Larry<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">fi</span>

<span xmlns="http://www.w3.org/1999/xhtml" class="Comment">#</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">does</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"></span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">${ROOT}/etc/deleteme</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment"> </span><span xmlns="http://www.w3.org/1999/xhtml" class="Comment">exist?</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">if</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">[[</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">-f</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${ROOT}</span>/etc/deleteme<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">]]</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">then</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">einfo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>Please delete <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${ROOT}</span>/etc/readme manually!<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">fi</span>
</span></pre>

</div>

<div class="section">
<h3 id="single-versus-double-brackets-in-bash">Single versus Double Brackets in <code class="docutils literal"><span class="pre">bash</span></code>
</h3>

<div class="alert alert-info" role="alert">
<strong>Important:</strong>
The <code class="docutils literal"><span class="pre">[[ ]]</span></code> form is generally safer than <code class="docutils literal"><span class="pre">[ ]</span></code> and should be used in
all new code.
</div>

<p>
This is because <code class="docutils literal"><span class="pre">[[ ]]</span></code> is a bash syntax construct, whereas <code class="docutils literal"><span class="pre">[ ]</span></code> is a
program which happens to be implemented as an internal -- as such, cleaner
syntax is possible with the former. For a simple illustration, consider:
</p>

<pre><span class="Constant">bash$ <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">[</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">-n</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">$foo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">]</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">&amp;&amp;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">[</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">-z</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">$foo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">]</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">&amp;&amp;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">echo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>huh?<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
huh?
bash$ <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">[[</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">-n</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">$foo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">]]</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">&amp;&amp;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">[[</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">-z</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">$foo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">]]</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">&amp;&amp;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">echo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>huh?<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
bash$
</span></pre>

</div>

<div class="section">
<h3 id="string-comparison-in-bash">String Comparison in <code class="docutils literal"><span class="pre">bash</span></code>
</h3>

<p>
The general form of a string comparison is <code class="docutils literal"><span class="pre">string1 operator string2</span></code>. The
following are available:
</p>

<table class="table">
  <tr>
    <th>
      Operator
    </th>
    <th>
      Purpose
    </th>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">==</span></code> (also <code class="docutils literal"><span class="pre">=</span></code>)
    </td>
    <td class="devbook">
      String equality
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">!=</span></code>
    </td>
    <td class="devbook">
      String inequality
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">&lt;</span></code>
    </td>
    <td class="devbook">
      String lexiographic comparison (before)
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">&gt;</span></code>
    </td>
    <td class="devbook">
      String lexiographic comparison (after)
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">=~</span></code>
    </td>
    <td class="devbook">
      String regular expression match (<b>bash 3 only</b>, not currently allowed in ebuilds)
    </td>
  </tr>
</table>

</div>

<div class="section">
<h3 id="string-tests-in-bash">String Tests in <code class="docutils literal"><span class="pre">bash</span></code>
</h3>

<p>
The general form of string tests is <code class="docutils literal"><span class="pre">-operator "string"</span></code>. The following are
available:
</p>

<table class="table">
  <tr>
    <th>
      Operator
    </th>
    <th>
      Purpose
    </th>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-z "string"</span></code>
    </td>
    <td class="devbook">
      String has zero length
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-n "string"</span></code>
    </td>
    <td class="devbook">
      String has non-zero length
    </td>
  </tr>
</table>

<div class="alert alert-success" role="alert">
<strong>Note:</strong>
To check whether a variable is set and not blank, use <code class="docutils literal"><span class="pre">-n "${BLAH}"</span></code>
rather than <code class="docutils literal"><span class="pre">-n $BLAH</span></code>. The latter will cause problems in some situations if
the variable is unset.
</div>

</div>

<div class="section">
<h3 id="integer-comparison-in-bash">Integer Comparison in <code class="docutils literal"><span class="pre">bash</span></code>
</h3>

<p>
The general form of integer comparisons is <code class="docutils literal"><span class="pre">int1 -operator int2</span></code>. The
following are available:
</p>

<table class="table">
  <tr>
    <th>
      Operator
    </th>
    <th>
      Purpose
    </th>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-eq</span></code>
    </td>
    <td class="devbook">
      Integer equality
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-ne</span></code>
    </td>
    <td class="devbook">
      Integer inequality
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-lt</span></code>
    </td>
    <td class="devbook">
      Integer less than
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-le</span></code>
    </td>
    <td class="devbook">
      Integer less than or equal to
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-gt</span></code>
    </td>
    <td class="devbook">
      Integer greater than
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-ge</span></code>
    </td>
    <td class="devbook">
      Integer greater than or equal to
    </td>
  </tr>
</table>

</div>

<div class="section">
<h3 id="file-tests-in-bash">File Tests in <code class="docutils literal"><span class="pre">bash</span></code>
</h3>

<p>
The general form of a file test is <code class="docutils literal"><span class="pre">-operator "filename"</span></code>. The following are
available (lifted from <code class="docutils literal"><span class="pre">man bash</span></code>):
</p>

<table class="table">
  <tr>
    <th>
      Operator
    </th>
    <th>
      Purpose
    </th>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-a file</span></code>
    </td>
    <td class="devbook">
      Exists (use <code class="docutils literal"><span class="pre">-e</span></code> instead)
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-b file</span></code>
    </td>
    <td class="devbook">
      Exists and is a block special file
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-c file</span></code>
    </td>
    <td class="devbook">
      Exists and is a character special file
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-d file</span></code>
    </td>
    <td class="devbook">
      Exists and is a directory
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-e file</span></code>
    </td>
    <td class="devbook">
      Exists
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-f file</span></code>
    </td>
    <td class="devbook">
      Exists and is a regular file
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-g file</span></code>
    </td>
    <td class="devbook">
      Exists and is set-group-id
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-h file</span></code>
    </td>
    <td class="devbook">
      Exists and is a symbolic link
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-k file</span></code>
    </td>
    <td class="devbook">
      Exists and its sticky bit is set
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-p file</span></code>
    </td>
    <td class="devbook">
      Exists and is a named pipe (FIFO)
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-r file</span></code>
    </td>
    <td class="devbook">
      Exists and is readable
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-s file</span></code>
    </td>
    <td class="devbook">
      Exists and has a size greater than zero
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-t fd</span></code>
    </td>
    <td class="devbook">
      Descriptor fd is open and refers to a terminal
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-u file</span></code>
    </td>
    <td class="devbook">
      Exists and its set-user-id bit is set
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-w file</span></code>
    </td>
    <td class="devbook">
      Exists and is writable
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-x file</span></code>
    </td>
    <td class="devbook">
      Exists and is executable
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-O file</span></code>
    </td>
    <td class="devbook">
      Exists and is owned by the effective user id
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-G file</span></code>
    </td>
    <td class="devbook">
      Exists and is owned by the effective group id
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-L file</span></code>
    </td>
    <td class="devbook">
      Exists and is a symbolic link
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-S file</span></code>
    </td>
    <td class="devbook">
      Exists and is a socket
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-N file</span></code>
    </td>
    <td class="devbook">
      Exists and has been modified since it was last read
    </td>
  </tr>
</table>

</div>

<div class="section">
<h3 id="file-comparison-in-bash">File Comparison in <code class="docutils literal"><span class="pre">bash</span></code>
</h3>

<p>
The general form of a file comparison is <code class="docutils literal"><span class="pre">"file1" -operator "file2"</span></code>. The
following are available (lifted from <code class="docutils literal"><span class="pre">man bash</span></code>):
</p>

<table class="table">
  <tr>
    <th>
      Operator
    </th>
    <th>
      Purpose
    </th>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">file1 -nt file2</span></code>
    </td>
    <td class="devbook">
      file1 is newer (according to modification date) than
      file2, or if file1 exists and file2 does not.
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">file1 -ot file2</span></code>
    </td>
    <td class="devbook">
      file1 is older than file2, or if file2 exists and
      file1 does not.
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">file1 -ef file2</span></code>
    </td>
    <td class="devbook">
      file1 and file2 refer to the same device and inode
      numbers.
    </td>
  </tr>
</table>

</div>

<div class="section">
<h3 id="boolean-algebra-in-bash">Boolean Algebra in <code class="docutils literal"><span class="pre">bash</span></code>
</h3>

<p>
There are constructs available for boolean algebra ('and', 'or' and 'not').
These are used <i>outside</i> of the <code class="docutils literal"><span class="pre">[[ ]]</span></code> blocks. For operator precedence, use
<code class="docutils literal"><span class="pre">( )</span></code>.
</p>

<table class="table">
  <tr>
    <th>
      Construct
    </th>
    <th>
      Effect
    </th>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">first || second</span></code>
    </td>
    <td class="devbook">
      first <i>or</i> second (short circuit)
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">
        first &amp;&amp; second</span></code>
    </td>
    <td class="devbook">
      first <i>and</i> second (short circuit)
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">! condition</span></code>
    </td>
    <td class="devbook">
      <i>not</i> condition
    </td>
  </tr>
</table>


<div class="alert alert-success" role="alert">
<strong>Note:</strong>
These will also sometimes work <i>inside</i> <code class="docutils literal"><span class="pre">[[ ]]</span></code> constructs, and using
<code class="docutils literal"><span class="pre">!</span></code> before a test is fairly common. <code class="docutils literal"><span class="pre">[[ ! -f foo ]] &amp;&amp; bar</span></code> is fine. However,
there are catches -- <code class="docutils literal"><span class="pre">[[ -f foo &amp;&amp; bar ]]</span></code> will <b>not</b> work properly, since
commands cannot be run inside <code class="docutils literal"><span class="pre">[[ ]]</span></code> blocks.
</div>

<p>
Inside <code class="docutils literal"><span class="pre">[ ]</span></code> blocks, several <code class="docutils literal"><span class="pre">-test</span></code> style boolean operators are available.
These should be avoided in favour of <code class="docutils literal"><span class="pre">[[ ]]</span></code> and the above operators.
</p>

</div>

</div>

<div class="section">
<h2 id="bash-iterative-structures">Bash Iterative Structures</h2>

<p>
There are a few simple iterative structures available from within <code class="docutils literal"><span class="pre">bash</span></code>. The
most useful of these is a <code class="docutils literal"><span class="pre">for</span></code> loop. This can be used to perform the same
task upon multiple items.
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">for</span> myvar <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">in</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>the first<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>the second<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>and the third<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">do</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">einfo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>This is <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${myvar}</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">done</span>
</span></pre>

<p>
There is a second form of the <code class="docutils literal"><span class="pre">for</span></code> loop which can be used for repeating an
event a given number of times.
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">for</span> <span xmlns="http://www.w3.org/1999/xhtml" class="PreProc">(</span><span xmlns="http://www.w3.org/1999/xhtml" class="PreProc">(</span> i <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier"></span><span xmlns="http://www.w3.org/1999/xhtml" class="Constant">=</span> 1 <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> i <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">&lt;</span><span xmlns="http://www.w3.org/1999/xhtml" class="Constant">=</span> 10 <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> i++ <span xmlns="http://www.w3.org/1999/xhtml" class="PreProc">)</span><span xmlns="http://www.w3.org/1999/xhtml" class="PreProc">)</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">do</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">einfo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>i is <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${i}</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">done</span>
</span></pre>

<p>
There is also a <code class="docutils literal"><span class="pre">while</span></code> loop, although this is usually not useful within
ebuilds.
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">while</span> hungry <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">do</span>
    eat_cookies
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">done</span>
</span></pre>

<p>
This is most commonly used to iterate over lines in a file:
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">while</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">read</span> myline <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">;</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">do</span>
    <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">einfo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>It says <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${myline}</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">done</span> &lt; some_file
</span></pre>

<p>
See <a href="../../ebuild-writing/error-handling/index.html#die-and-subshells">die and Subshells</a>
for an explanation of why <code class="docutils literal"><span class="pre">while read &lt; file</span></code> should
be used over <code class="docutils literal"><span class="pre">cat file | while read</span></code>.
</p>

</div>

<div class="section">
<h2 id="bash-variable-manipulation">Bash Variable Manipulation</h2>

<p>
There are a number of special <code class="docutils literal"><span class="pre">${}</span></code> constructs in <code class="docutils literal"><span class="pre">bash</span></code> which either
manipulate or return information based upon variables. These can be used instead
of expensive (or illegal, if we're in global scope) external calls to <code class="docutils literal"><span class="pre">sed</span></code>
and friends.
</p>

<div class="section">
<h3 id="bash-string-length">
<code class="docutils literal"><span class="pre">bash</span></code> String Length</h3>

<p>
The <code class="docutils literal"><span class="pre">${#somevar}</span></code> construct can be used to obtain the length of a string
variable.
</p>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">somevar</span><span xmlns="http://www.w3.org/1999/xhtml" class="Constant">=</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>Hello World<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">echo</span> <span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${somevar}</span> is <span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">${#somevar}</span> characters long<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
</span></pre>

</div>

<div class="section">
<h3 id="bash-variable-default-values">
<code class="docutils literal"><span class="pre">bash</span></code> Variable Default Values</h3>

<p>
There are a number of ways of using a default value if a variable is unset or
zero length. The <code class="docutils literal"><span class="pre">${var:-value}</span></code> construct expands to the value of <code class="docutils literal"><span class="pre">${var}</span></code>
if it is set and not null, or <code class="docutils literal"><span class="pre">value</span></code> otherwise. The <code class="docutils literal"><span class="pre">${var-value}</span></code>
construct is similar, but checks only that the variable is set.
</p>

<p>
The <code class="docutils literal"><span class="pre">${var:=value}</span></code> and <code class="docutils literal"><span class="pre">${var=value}</span></code> forms will also assign <code class="docutils literal"><span class="pre">value</span></code> to
<code class="docutils literal"><span class="pre">var</span></code> if <code class="docutils literal"><span class="pre">var</span></code> is unset (and also set, but null for the <code class="docutils literal"><span class="pre">:=</span></code> form).
</p>

<p>
The <code class="docutils literal"><span class="pre">${var:?message}</span></code> form will display <code class="docutils literal"><span class="pre">message</span></code> to stderr and then exit if
<code class="docutils literal"><span class="pre">var</span></code> is unset or null. This should generally not be used within ebuilds as it
does not use the <code class="docutils literal"><span class="pre">die</span></code> mechanism. There is a <code class="docutils literal"><span class="pre">${var?message}</span></code> form too.
</p>

<p>
The <code class="docutils literal"><span class="pre">${var:+value}</span></code> form expands to <code class="docutils literal"><span class="pre">value</span></code> if <code class="docutils literal"><span class="pre">var</span></code> is set and not null,
or a blank string otherwise. There is a <code class="docutils literal"><span class="pre">${var+value}</span></code> form.
</p>

</div>

<div class="section">
<h3 id="bash-substring-extraction">
<code class="docutils literal"><span class="pre">bash</span></code> Substring Extraction</h3>

<p>
The <code class="docutils literal"><span class="pre">${var:offset}</span></code> and <code class="docutils literal"><span class="pre">${var:offset:length}</span></code> constructs can be used to
obtain a substring. Strings are zero-indexed. Both <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">length</span></code> are
arithmetic expressions.
</p>

<p>
The first form with a positive offset returns a substring starting with the
character at <code class="docutils literal"><span class="pre">offset</span></code> and continuing to the end of a string. If the offset is
negative, the offset is taken relative to the <i>end</i> of the string.
</p>

<div class="alert alert-success" role="alert">
<strong>Note:</strong>
For reasons which will not be discussed here, any negative value must be
an <i>expression</i> which results in a negative value, rather than simply a negative
value. The best way to handle this is to use <code class="docutils literal"><span class="pre">${var:0-1}</span></code>. <code class="docutils literal"><span class="pre">${var:-1}</span></code> will
<b>not</b> work.
</div>

<p>
The second form returns the first <code class="docutils literal"><span class="pre">length</span></code> characters of the value of
<code class="docutils literal"><span class="pre">${var}</span></code> starting at <code class="docutils literal"><span class="pre">offset</span></code>. If <code class="docutils literal"><span class="pre">offset</span></code> is negative, the offset is
taken from the <i>end</i> of the string. The <code class="docutils literal"><span class="pre">length</span></code> parameter <i>must not</i> be less
than zero. Again, negative <code class="docutils literal"><span class="pre">offset</span></code> values must be given as an expression.
</p>

</div>

<div class="section">
<h3 id="bash-command-substitution">
<code class="docutils literal"><span class="pre">bash</span></code> Command Substitution</h3>

<p>
The <code class="docutils literal"><span class="pre">$(command)</span></code> construct can be used to run a command and capture the
output (<code class="docutils literal"><span class="pre">stdout</span></code>) as a string.
</p>

<div class="alert alert-success" role="alert">
<strong>Note:</strong>
The <code class="docutils literal"><span class="pre">`command`</span></code> construct also does this, but should be avoided in
favour of <code class="docutils literal"><span class="pre">$(command )</span></code> for clarity, ease of reading and nesting purposes.
</div>

<pre><span class="Constant"><span xmlns="http://www.w3.org/1999/xhtml" class="Identifier">myconf</span><span xmlns="http://www.w3.org/1999/xhtml" class="Constant">=</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span><span xmlns="http://www.w3.org/1999/xhtml" class="PreProc">$(</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">use_enable</span> acl<span xmlns="http://www.w3.org/1999/xhtml" class="PreProc">)</span> <span xmlns="http://www.w3.org/1999/xhtml" class="PreProc">$(</span><span xmlns="http://www.w3.org/1999/xhtml" class="Statement">use_enable</span> nls<span xmlns="http://www.w3.org/1999/xhtml" class="PreProc">)</span> --with-tlib=ncurses<span xmlns="http://www.w3.org/1999/xhtml" class="Statement">"</span>
</span></pre>

</div>

<div class="section">
<h3 id="bash-string-replacements">
<code class="docutils literal"><span class="pre">bash</span></code> String Replacements</h3>

<p>
There are three basic string replacement forms available: <code class="docutils literal"><span class="pre">${var#pattern}</span></code>,
<code class="docutils literal"><span class="pre">${var%pattern}</span></code> and <code class="docutils literal"><span class="pre">${var/pattern/replacement}</span></code>. The first two are used
for deleting content from the start and end of a string respectively. The third
is used to replace a match with different content.
</p>

<p>
The <code class="docutils literal"><span class="pre">${var#pattern}</span></code> form will return <code class="docutils literal"><span class="pre">var</span></code> with the shortest match of
<code class="docutils literal"><span class="pre">pattern</span></code> at the start of the value of <code class="docutils literal"><span class="pre">var</span></code> deleted. If no match can be
made, the value of <code class="docutils literal"><span class="pre">var</span></code> is given. To delete the <i>longest</i> match at the start,
use <code class="docutils literal"><span class="pre">${var##pattern}</span></code> instead.
</p>

<p>
The <code class="docutils literal"><span class="pre">${var%pattern}</span></code> and <code class="docutils literal"><span class="pre">${var%%pattern}</span></code> forms are similar, but delete the
shortest and longest matches at the <i>end</i> of <code class="docutils literal"><span class="pre">var</span></code> respectively.
</p>

<div class="alert alert-success" role="alert">
<strong>Note:</strong>
The terms <i>greedy</i> and <i>non-greedy</i> are sometimes used here (<code class="docutils literal"><span class="pre">%</span></code> and
<code class="docutils literal"><span class="pre">#</span></code> being the non-greedy forms). This is arguably incorrect, but the terms
are fairly close.
</div>

<p>
The <code class="docutils literal"><span class="pre">${var/pattern/replacement}</span></code> construct expands to the value of <code class="docutils literal"><span class="pre">var</span></code>
with the first match of <code class="docutils literal"><span class="pre">pattern</span></code> replaced with <code class="docutils literal"><span class="pre">replacement</span></code>. To replace
<i>all</i> matches, <code class="docutils literal"><span class="pre">${var//pattern/replacement}</span></code> can be used.
</p>

<div class="alert alert-success" role="alert">
<strong>Note:</strong>
<code class="docutils literal"><span class="pre">man bash</span></code> incorrectly describes what will be matched. Of all the possible
leftmost matches, the longest will be taken. Yes, really, the longest, even if
it involves favouring later groups or later branches. This is <b>not</b> like
<code class="docutils literal"><span class="pre">perl</span></code> or <code class="docutils literal"><span class="pre">sed</span></code>. See <a href="http://www.opengroup.org/onlinepubs/000095399/basedefs/xbd_chap09.html#tag_09_01">
IEEE1003.1-2004-9.1</a> for details.
</div>

<p>
To match only if <code class="docutils literal"><span class="pre">pattern</span></code> occurs at the start of the value of <code class="docutils literal"><span class="pre">var</span></code>, the
pattern should begin with a <code class="docutils literal"><span class="pre">#</span></code> character. To match only at the end, the
pattern should begin with a <code class="docutils literal"><span class="pre">%</span></code>.
</p>

<p>
If <code class="docutils literal"><span class="pre">replacement</span></code> is null, matches are deleted and the <code class="docutils literal"><span class="pre">/</span></code> following
<code class="docutils literal"><span class="pre">pattern</span></code> may be omitted.
</p>

<p>
The <code class="docutils literal"><span class="pre">pattern</span></code> may contain a number of special metacharacters for pattern
matching.
</p>

<div class="alert alert-success" role="alert">
<strong>Todo:</strong>
tables of bash metachars
</div>

<p>
If the <code class="docutils literal"><span class="pre">extglob</span></code> shell option is enabled, a number of additional constructs
are available. These can be <i>extremely</i> useful sometimes.
</p>

<div class="alert alert-success" role="alert">
<strong>Todo:</strong>
table of extra bash goodies
</div>

</div>

<div class="section">
<h3 id="bash-arithmetic-expansion">
<code class="docutils literal"><span class="pre">bash</span></code> Arithmetic Expansion</h3>

<p>
The <code class="docutils literal"><span class="pre">$(( expression ))</span></code> construct can be used for integer arithmetic
evaluation. <code class="docutils literal"><span class="pre">expression</span></code> is a C-like arithmetic expression. The following
operators are supported (the table is in order of precedence, highest first):
</p>

<table class="table">
  <tr>
    <th>
      Operators
    </th>
    <th>
      Effect
    </th>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">var++</span></code>, <code class="docutils literal"><span class="pre">var--</span></code>
    </td>
    <td class="devbook">
      Variable post-increment, post-decrement
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">++var</span></code>, <code class="docutils literal"><span class="pre">--var</span></code>
    </td>
    <td class="devbook">
      Variable pre-increment, pre-decrement
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">-</span></code>, <code class="docutils literal"><span class="pre">+</span></code>
    </td>
    <td class="devbook">
      Unary minus and plus
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">!</span></code>, <code class="docutils literal"><span class="pre">~</span></code>
    </td>
    <td class="devbook">
      Logical negation, bitwise negation
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">**</span></code>
    </td>
    <td class="devbook">
      Exponentiation
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">*</span></code>, <code class="docutils literal"><span class="pre">/</span></code>, <code class="docutils literal"><span class="pre">%</span></code>
    </td>
    <td class="devbook">
      Multiplication, division, remainder
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">+</span></code>, <code class="docutils literal"><span class="pre">-</span></code>
    </td>
    <td class="devbook">
      Addition, subtraction
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">&lt;&lt;</span></code>, <code class="docutils literal"><span class="pre">&gt;&gt;</span></code>
    </td>
    <td class="devbook">
      Left, right bitwise shifts
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">&lt;=</span></code>, <code class="docutils literal"><span class="pre">&gt;=</span></code>, <code class="docutils literal"><span class="pre">&lt;</span></code>, <code class="docutils literal"><span class="pre">&gt;</span></code>
    </td>
    <td class="devbook">
      Comparison: less than or equal to, greater than or
      equal to, strictly less than, strictly greater than
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">==</span></code>, <code class="docutils literal"><span class="pre">!=</span></code>
    </td>
    <td class="devbook">
      Equality, inequality
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">&amp;</span></code>
    </td>
    <td class="devbook">
      Bitwise AND
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">^</span></code>
    </td>
    <td class="devbook">
      Bitwise exclusive OR
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">|</span></code>
    </td>
    <td class="devbook">
      Bitwise OR
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">&amp;&amp;</span></code>
    </td>
    <td class="devbook">
      Logical AND
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">||</span></code>
    </td>
    <td class="devbook">
      Logical OR
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">expr ? expr : expr</span></code>
    </td>
    <td class="devbook">
      Conditional operator
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">=</span></code>, <code class="docutils literal"><span class="pre">*=</span></code>, <code class="docutils literal"><span class="pre">/=</span></code>, <code class="docutils literal"><span class="pre">%=</span></code>, <code class="docutils literal"><span class="pre">+=</span></code>, <code class="docutils literal"><span class="pre">-=</span></code>, <code class="docutils literal"><span class="pre">&lt;&lt;=</span></code>,
      <code class="docutils literal"><span class="pre">&gt;&gt;=</span></code>, <code class="docutils literal"><span class="pre">&amp;=</span></code>, <code class="docutils literal"><span class="pre">^=</span></code>, <code class="docutils literal"><span class="pre">|=</span></code>
    </td>
    <td class="devbook">
      Assignment
    </td>
  </tr>
  <tr>
    <td class="devbook">
      <code class="docutils literal"><span class="pre">expr1 , expr2</span></code>
    </td>
    <td class="devbook">
      Multiple statements
    </td>
  </tr>
</table>

<div class="alert alert-success" role="alert">
<strong>Note:</strong>
There is no <code class="docutils literal"><span class="pre">**=</span></code> assignment operator.
</div>

</div>

</div>


</div>
<footer><div class="container">
<div class="row">
<div class="col-xs-12 col-md-offset-2 col-md-7"></div>
<div class="col-xs-12 col-md-3">
<h3 class="footerhead">Questions or comments?</h3>
              Please feel free to <a href="https://www.gentoo.org/inside-gentoo/contact/">contact us</a>.
            </div>
</div>
<div class="row">
<div class="col-xs-2 col-sm-3 col-md-2"><ul class="footerlinks three-icons">
<li><a href="http://twitter.com/gentoo" title="@Gentoo on Twitter"><span class="fa fa-twitter fa-fw"></span></a></li>
<li><a href="https://plus.google.com/+Gentoo" title="+Gentoo on Google+"><span class="fa fa-google-plus fa-fw"></span></a></li>
<li><a href="https://www.facebook.com/gentoo.org" title="Gentoo on Facebook"><span class="fa fa-facebook fa-fw"></span></a></li>
</ul></div>
<div class="col-xs-10 col-sm-9 col-md-10">
<strong>Copyright (C) 2001-2015 Gentoo Foundation, Inc.</strong><br><small>
                Gentoo is a trademark of the Gentoo Foundation, Inc.
                The text of this document is distributed under the <a href="http://creativecommons.org/licenses/by-sa/2.0/">Creative Commons Attribution-ShareAlike 2.0 License</a>.
                The <a href="https://www.gentoo.org/inside-gentoo/foundation/name-logo-guidelines.html">Gentoo Name and Logo Usage Guidelines</a> apply.
              </small>
</div>
</div>
</div></footer><script src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/jquery.min.js"></script><script src="https://1b9a50f4f9de4348cd9f-e703bc50ba0aa66772a874f8c7698be7.ssl.cf5.rackcdn.com/bootstrap.min.js"></script>
</body>
</html>
