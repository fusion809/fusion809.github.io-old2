## Gentoo Linux
{% include_relative infoboxes/07-gentoo.html %}

[**Gentoo Linux**][700] is an independent, source-based Linux distribution that was originally developed by a Canadian-born American programmer named Daniel Robbins. The date it was "founded" depends on what you mean by this. If you mean, "When was the idea of Gentoo born?" Or, "When did Daniel Robbins start working on it?" That would be in 1999, when it was originally known as Enoch Linux, although it was later this year renamed as Gentoo Linux, after the fastest species of penguin, the gentoo penguin. It was not until 2002, however, that the first stable release of Gentoo became available. In 2004 Robbins left the Gentoo project apparently due to financial problems, although up until this time Robbins was the Benevolent Dictator for Life (BDFL) of Gentoo Linux. Then the Gentoo Foundation was founded and Gentoo's development became driven by a democratic-style process.{% include Links/fn.html no="10" %} 

Gentoo uses its own package manager, Portage (which is primarily invoked from the command-line with the `emerge` command), that is so named because it is similar to FreeBSD's Ports system. Portage compiles and installs software from source code by following instructions in a specialized type of shell script known as an ebuild. These ebuilds are stored in repositories that are usually git-controlled and are referred to as overlays. Despite it serving as a source package manager by default, Portage can also install pre-built binary packages. [Calculate Linux][701] is a distribution derived from Gentoo Linux that despite using the Portage package manager works with binary packages by default.

The official Gentoo overlay is also known as the Portage Tree and is stored on a Gentoo system in the `/usr/portage` directory. The Portage Tree has looser licensing requirements than the official repositories of Arch Linux, CentOS, Debian, Fedora and many other distributions. Not only does it contain some proprietary firmware but it also contains some proprietary desktop applications such as [Google Chrome][702], [Opera][703], [RuneScape's NXT Client][704], [Spotify][705], [Vivaldi][706], *etc.* Unofficial overlays are installed via the official tool (that is, it is developed by the Gentoo Linux development team), [Layman][707], to `/var/lib/layman`.

ebuilds usually include USE flag and keyword fields. USE flags are essentially options that determine which features of the package provided by the ebuild are built and which are not. For example, the `gtk` USE flag, if enabled, would cause one's packages to be built with GTK widget toolkit support. Likewise keywords tell one the stability of the ebuild on the various processor architectures Gentoo has been ported to. For example, the `amd64` keyword means that the ebuild is stable (and well-tested) on AMD64 (or x86-64) platforms. Likewise the `~x86` keyword means that the ebuild is unstable (or at least not adequately tested) on x86 (or 32-bit Intel processors) platforms.

Many packages, especially core packages like the Linux kernel sources package &mdash; [`sys-kernel/gentoo-sources`][708] &mdash; have several different available versions, often with alternate versions being provided from the same overlay. This is often when there are multiple different versions of the package still supported upstream (like in the case of LTS releases) and the older versions of the package are better tested (and hence more likely to be marked stable). By default, Portage favours the most up-to-date and stable packages when given a choice of package versions. So it will pick the ebuild with the highest version number among those ebuilds marked stable. By adjusting keyword settings in `/etc/portage/make.conf` one can switch from a "stable" system to a bleeding-edge system (for details [see this answer][709] to one of my questions at Unix & Linux StackExchange).

Portage is a complicated package manager to use too. Frequently Portage will complain of an error (most often a package or USE flag conflict) and exit, leaving the user to fix whatever is wrong. For advanced users this is usually no problem, but for less sophisticated users it can be a deal-breaker. I used to hate Portage when I used Sabayon Linux for a few months as my primary OS. Mostly because it seemed like I always got errors from Portage whenever I tried to install packages. It took a fair bit of effort for me to learn the basics of Portage error-fixing. Nowadays while I do not have Sabayon installed on any of the partitions of my day-to-day PC, I still use Portage on a weekly basis (roughly), which is roughly how often I fire up my Gentoo Linux VirtualBox VM and update it using the commands:

{% include Code/coder.html line1="emerge --sync && layman -S" line2="emerge -uDU --with-bdeps=y @world" %}

Despite this Gentoo Linux's documentation (which is mostly located at the [*Gentoo Wiki*][710] is second only to Arch Linux in terms of quality and comprehensibility in my opinion. Do see for yourself).

Creating your own custom ebuilds for Gentoo is more challenging, in my opinion, than packaging for RPM-based distros or Arch Linux. This is partly because ebuilds have security features in place (restricting access to one's file system during the build), that while may make the building process safer, can also make it more annoying. For example, the Atom ebuild in the Portage Tree is incredibly complicated (instead of using the default build system of Atom) mostly because simpler ebuilds (that do use Atom's default build system) give access violation errors and fail. Likewise there are several functions used in ebuilds (that are not usual shell script functions, but rather functions specifically defined for ebuilds) that you need to be familiar with in order to efficiently write a working ebuild. I have found them similar in difficulty to write as Debian packages are to build. I have created my own (at the moment unmaintained) overlay for Gentoo/Sabayon, [`sabayon-tools`][711]. The OBS used to have support for building Gentoo and Sabayon packages, although it does not anymore. 

Gentoo Linux is one of only two independent, source-based Linux distribution I have successfully installed, the other being [Lunar Linux][712]. Lunar, has a command-line automated installer, so I would argue it was far easier to install than Gentoo was. I have also attempted twice (and failed twice) to install [Linux From Scratch][10] (LFS) on a VM. LFS is an independent source-based distribution that is distinguished from Gentoo and other source-based distributions in that it has no package manager. All packages have to be compiled and installed manually by the user.

I have also successfully installed, in a VirtualBox VM, [Funtoo Linux][713], a source-based Gentoo derivative (and as it is a Gentoo derivative it is not an "independent" source-based distribution) that was first developed and is presently lead in its development by Daniel Robbins, the original developer of Gentoo Linux. I have also tried Funtoo outside a VM and it is not too bad. It is more conservative in its included software than a bleeding-edge Gentoo system, for example, as of 14 March 2017 it still has GNOME 3.20 as its latest available version of GNOME even though GNOME 3.22 has been in the Portage Tree (of Gentoo) since December 2016. It is slightly more beginner-friendly than Gentoo, but I still would not recommend it to most beginners. It is slightly easier, in the sense that it uses a pre-compiled kernel by default, so it cuts that burden out for one, although beware you will likely have to perform a manual kernel upgrade sooner or later. I have found their user community, namely that found on the [#funtoo][714] IRC channel, rather friendly and helpful. As always there are always the odd user that is less friendly (especially when you do not seem to research your questions thoroughly enough for them, or be criticizing the project, even if you did research your question and you are not intending to criticize the project) than the rest, but on average I have found them fairly friendly.

I personally have found the Gentoo forums fairly unhelpful but I have only used them select few times (on issues I doubt are common-place there), so I cannot be confident in this impression of mine.

Ideal Gentoo users are advanced users that:

* Want a lot of freedom to customize their system to their liking.
* Are not open-source software-obsessed. Proprietary software riddles the Portage Tree. If one is obsessed with open-source one should probably consider using the Free Software Foundation-approved derivative of Gentoo Linux, [Ututo XS][715] (the official home page is in Spanish, so those not fluent in Spanish beware, as while Google Translate may help it is not perfect at translation), which is entirely open-source.
* Learn well by reading written documentation or already have plenty of experience with Portage.
* May need to install obscure pieces of software on the odd occasion (not absolutely necessary, but it would suit these users especially well). As Gentoo Portage overlays are very extensive it is likely that if one requires any obscure software one will be able to find it by searching [gpo.zugaina.org][716]. I would say Gentoo is second only to Arch Linux and distros derived from it, in terms of how easy it is to get any piece of software one wants.
* Are willing to wait a long time to setup one's system to one's liking. If one wants a desktop environment one will likely have to spend several hours (if not days) compiling the desktop environment components and their dependencies with Portage.

{% include Layouts/clear.html %}
