<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
Safe Tk(n)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Safe Tk(n)</td>
<td class="head-vol">
Tk Built-In Commands</td>
<td class="head-rtitle">
Safe Tk(n)</td>
</tr>
</tbody>
</table>
<br/>
<br/>
<div class="section">
<h1>NAME</h1> loadTk - Load Tk into a safe interpreter.</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>::safe::loadTk </b><i>slave</i> ?<b>-use</b> <i>windowId</i>? ?<b>-display</b> <i>displayName</i>?<br/>
<br/>
<div style="height: 0.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Safe Tk is based on Safe Tcl, which provides a mechanism that allows restricted and mediated access to auto-loading and packages for safe interpreters. Safe Tk adds the ability to configure the interpreter for safe Tk operations and load Tk into safe interpreters.<div class="spacer">
</div>
The <b>::safe::loadTk</b> command initializes the required data structures in the named safe interpreter and then loads Tk into it. The interpreter must have been created with  <b>::safe::interpCreate</b> or have been initialized with  <b>::safe::interpInit</b>. The command returns the name of the safe interpreter. If  <b>-use</b> is specified, the window identified by the specified system dependent identifier  <i>windowId</i> is used to contain the &#8220;.&#8221; window of the safe interpreter; it can be any valid id, eventually referencing a window belonging to another application. As a convenience, if the window you plan to use is a Tk Window of the application you can use the window name (e.g.  <b>.x.y</b>) instead of its window Id ( <b>[winfo id .x.y]</b>). When  <b>-use</b> is not specified, a new toplevel window is created for the &#8220;.&#8221; window of the safe interpreter. On X11 if you want the embedded window to use another display than the default one, specify it with  <b>-display</b>. See the  <b>SECURITY ISSUES</b> section below for implementation details.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SECURITY ISSUES</h1> Please read the  <b>safe</b> manual page for Tcl to learn about the basic security considerations for Safe Tcl.<div class="spacer">
</div>
<b>::safe::loadTk</b> adds the value of <b>tk_library</b> taken from the master interpreter to the virtual access path of the safe interpreter so that auto-loading will work in the safe interpreter.<div class="spacer">
</div>
Tk initialization is now safe with respect to not trusting the slave's state for startup.  <b>::safe::loadTk</b> registers the slave's name so when the Tk initialization ( <b>Tk_SafeInit</b>) is called and in turn calls the master's  <b>::safe::InitTk</b> it will return the desired  <b>argv</b> equivalent (<b>-use</b>  <i>windowId</i>, correct <b>-display</b>, etc.)<div class="spacer">
</div>
When <b>-use</b> is not used, the new toplevel created is specially decorated so the user is always aware that the user interface presented comes from a potentially unsafe code and can easily delete the corresponding interpreter.<div class="spacer">
</div>
On X11, conflicting <b>-use</b> and <b>-display</b> are likely to generate a fatal X error.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> safe(n), interp(n), library(n), load(n), package(n), source(n), unknown(n)<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>KEYWORDS</h1> alias, auto-loading, auto_mkindex, load, master interpreter, safe interpreter, slave interpreter, source<div style="height: 1.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
8.0</td>
<td class="foot-os">
Tk</td>
</tr>
</table>
</div>
</body>
</html>

