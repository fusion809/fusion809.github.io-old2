<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
fcntl.h(0P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
fcntl.h(0P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
fcntl.h(0P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>NAME</h1> fcntl.h &#8212; file control options</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;fcntl.h&gt;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constants for the <i>cmd</i> argument used by  <i>fcntl</i>(). The values shall be unique and shall be suitable for use in <b>#if</b> preprocessing directives.<dl>
<dt>
F_DUPFD</dt>
<dd>
Duplicate file descriptor.</dd>
</dl>
<dl>
<dt>
F_DUPFD_CLOEXEC</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Duplicate file descriptor with the close-on-<i>exec</i> flag FD_CLOEXEC set.</dd>
</dl>
<dl>
<dt>
F_GETFD</dt>
<dd>
Get file descriptor flags.</dd>
</dl>
<dl>
<dt>
F_SETFD</dt>
<dd>
Set file descriptor flags.</dd>
</dl>
<dl>
<dt>
F_GETFL</dt>
<dd>
Get file status flags and file access modes.</dd>
</dl>
<dl>
<dt>
F_SETFL</dt>
<dd>
Set file status flags.</dd>
</dl>
<dl>
<dt>
F_GETLK</dt>
<dd>
Get record locking information.</dd>
</dl>
<dl>
<dt>
F_SETLK</dt>
<dd>
Set record locking information.</dd>
</dl>
<dl>
<dt>
F_SETLKW</dt>
<dd>
Set record locking information; wait if blocked.</dd>
</dl>
<dl>
<dt>
F_GETOWN</dt>
<dd>
Get process or process group ID to receive SIGURG signals.</dd>
</dl>
<dl>
<dt>
F_SETOWN</dt>
<dd>
Set process or process group ID to receive SIGURG signals.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constant used for the  <i>fcntl</i>() file descriptor flags, which shall be suitable for use in <b>#if</b> preprocessing directives.<dl>
<dt>
FD_CLOEXEC</dt>
<dd>
Close the file descriptor upon execution of an <i>exec</i> family function.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall also define the following symbolic constants for the <i>l_type</i> argument used for record locking with  <i>fcntl</i>(). The values shall be unique and shall be suitable for use in <b>#if</b> preprocessing directives.<dl>
<dt>
F_RDLCK</dt>
<dd>
Shared or read lock.</dd>
</dl>
<dl>
<dt>
F_UNLCK</dt>
<dd>
Unlock.</dd>
</dl>
<dl>
<dt>
F_WRLCK</dt>
<dd>
Exclusive or write lock.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the values used for <i>l_whence</i>, SEEK_SET, SEEK_CUR, and SEEK_END as described in <i>&lt;stdio.h&gt;</i>.<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constants as file creation flags for use in the <i>oflag</i> value to  <i>open</i>() and  <i>openat</i>(). The values shall be bitwise-distinct and shall be suitable for use in <b>#if</b> preprocessing directives.<dl>
<dt>
O_CLOEXEC</dt>
<dd>
The FD_CLOEXEC flag associated with the new descriptor shall be set to close the file descriptor upon execution of an <i>exec</i> family function.</dd>
</dl>
<dl>
<dt>
O_CREAT</dt>
<dd>
Create file if it does not exist.</dd>
</dl>
<dl>
<dt>
O_DIRECTORY</dt>
<dd>
Fail if not a directory.</dd>
</dl>
<dl>
<dt>
O_EXCL</dt>
<dd>
Exclusive use flag.</dd>
</dl>
<dl>
<dt>
O_NOCTTY</dt>
<dd>
Do not assign controlling terminal.</dd>
</dl>
<dl>
<dt>
O_NOFOLLOW</dt>
<dd>
Do not follow symbolic links.</dd>
</dl>
<dl>
<dt>
O_TRUNC</dt>
<dd>
Truncate flag.</dd>
</dl>
<dl>
<dt>
O_TTY_INIT</dt>
<dd>
Set the <b>termios</b> structure terminal parameters to a state that provides conforming behavior; see <i>Section 11.2</i>, <i>Parameters that Can be Set</i>.</dd>
</dl>
<div class="spacer">
</div>
The O_TTY_INIT flag can have the value zero and in this case it need not be bitwise-distinct from the other flags.<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constants for use as file status flags for  <i>open</i>(),  <i>openat</i>(), and  <i>fcntl</i>(). The values shall be suitable for use in <b>#if</b> preprocessing directives.<dl>
<dt>
O_APPEND</dt>
<dd>
Set append mode.</dd>
</dl>
<dl>
<dt>
O_DSYNC</dt>
<dd>
Write according to synchronized I/O data integrity completion.</dd>
</dl>
<dl>
<dt>
O_NONBLOCK</dt>
<dd>
Non-blocking mode.</dd>
</dl>
<dl>
<dt>
O_RSYNC</dt>
<dd>
Synchronized read I/O operations.</dd>
</dl>
<dl>
<dt>
O_SYNC</dt>
<dd>
Write according to synchronized I/O file integrity completion.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constant for use as the mask for file access modes. The value shall be suitable for use in <b>#if</b> preprocessing directives.<dl>
<dt>
O_ACCMODE</dt>
<dd>
Mask for file access modes.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constants for use as the file access modes for  <i>open</i>(),  <i>openat</i>(), and  <i>fcntl</i>(). The values shall be unique, except that O_EXEC and O_SEARCH may have equal values. The values shall be suitable for use in <b>#if</b> preprocessing directives.<dl>
<dt>
O_EXEC</dt>
<dd>
Open for execute only (non-directory files). The result is unspecified if this flag is applied to a directory.</dd>
</dl>
<dl>
<dt>
O_RDONLY</dt>
<dd>
Open for reading only.</dd>
</dl>
<dl>
<dt>
O_RDWR</dt>
<dd>
Open for reading and writing.</dd>
</dl>
<dl>
<dt>
O_SEARCH</dt>
<dd>
Open directory for search only. The result is unspecified if this flag is applied to a non-directory file.</dd>
</dl>
<dl>
<dt>
O_WRONLY</dt>
<dd>
Open for writing only.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the symbolic constants for file modes for use as values of <b>mode_t</b> as described in <i>&lt;sys/stat.h&gt;</i>.<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constant as a special value used in place of a file descriptor for the <i>*at</i>() functions which take a directory file descriptor as a parameter:<dl>
<dt>
AT_FDCWD</dt>
<dd>
Use the current working directory to determine the target of relative file paths.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constant as a value for the <i>flag</i> used by  <i>faccessat</i>():<dl>
<dt>
AT_EACCESS</dt>
<dd>
Check access using effective user and group ID.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constant as a value for the <i>flag</i> used by  <i>fstatat</i>(),  <i>fchmodat</i>(),  <i>fchownat</i>(), and  <i>utimensat</i>():<dl>
<dt>
AT_SYMLINK_NOFOLLOW</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Do not follow symbolic links.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constant as a value for the flag used by  <i>linkat</i>():<dl>
<dt>
AT_SYMLINK_FOLLOW</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Follow symbolic link.<div style="height: 0.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constant as a value for the flag used by  <i>unlinkat</i>():<dl>
<dt>
AT_REMOVEDIR</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Remove directory instead of file.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the following symbolic constants for the <i>advice</i> argument used by  <i>posix_fadvise</i>():<dl>
<dt>
POSIX_FADV_DONTNEED</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The application expects that it will not access the specified data in the near future.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_NOREUSE</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The application expects to access the specified data once and then not reuse it thereafter.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_NORMAL</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The application has no advice to give on its behavior with respect to the specified data. It is the default characteristic if no advice is given for an open file.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_RANDOM</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The application expects to access the specified data in a random order.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_SEQUENTIAL</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The application expects to access the specified data sequentially from lower offsets to higher offsets.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_WILLNEED</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The application expects to access the specified data in the near future.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the <b>flock</b> structure describing a file lock. It shall include the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<b></b><br/>
<b>short  l_type   </b>Type of lock; F_RDLCK, F_WRLCK, F_UNLCK.<br/>
short  l_whence Flag for starting offset.<br/>
off_t  l_start  Relative offset in bytes.<br/>
off_t  l_len    Size; if 0 then until EOF.<br/>
pid_t  l_pid    Process ID of the process holding the lock; returned with F_GETLK.<br/>
</div>
<div class="spacer">
</div>
The <i>&lt;fcntl.h&gt;</i> header shall define the <b>mode_t</b>, <b>off_t</b>, and <b>pid_t</b> types as described in <i>&lt;sys/types.h&gt;</i>.<div class="spacer">
</div>
The following shall be declared as functions and may also be defined as macros. Function prototypes shall be provided.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<b></b><br/>
<b>int  creat(const char *, mode_t);</b><br/>
<b>int  fcntl(int, int, ...);</b><br/>
<b>int  open(const char *, int, ...);</b><br/>
<b>int  openat(int, const char *, int, ...);</b><br/>
<b>int  posix_fadvise(int, off_t, off_t, int);</b><br/>
<b>int  posix_fallocate(int, off_t, off_t);</b><br/>
</div>
<div class="spacer">
</div>
Inclusion of the <i>&lt;fcntl.h&gt;</i> header may also make visible all symbols from <i>&lt;sys/stat.h&gt;</i> and <i>&lt;unistd.h&gt;</i>.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>APPLICATION USAGE</h1> Although no existing implementation defines AT_SYMLINK_FOLLOW and AT_SYMLINK_NOFOLLOW as the same numeric value, POSIX.1&#8208;2008 does not prohibit that as the two constants are not used with the same interfaces.</div>
<div class="section">
<h1>RATIONALE</h1> While many of the symbolic constants introduced in the <i>&lt;fcntl.h&gt;</i> header do not strictly need to be used in <b>#if</b> preprocessor directives, widespread historic practice has defined them as macros that are usable in such constructs, and examination of existing applications has shown that they are occasionally used in such a way. Therefore it was decided to retain this requirement on an implementation in POSIX.1&#8208;2008.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1> <i><b>&lt;stdio.h&gt;</b></i>, <i><b>&lt;sys_stat.h&gt;</b></i>, <i><b>&lt;sys_types.h&gt;</b></i>, <i><b>&lt;unistd.h&gt;</b></i><div class="spacer">
</div>
The System Interfaces volume of POSIX.1&#8208;2008, <i><i>creat</i>()</i>, <i><i>exec</i></i>, <i><i>fcntl</i>()</i>, <i><i>futimens</i>()</i>, <i><i>open</i>()</i>, <i><i>posix_fadvise</i>()</i>, <i><i>posix_fallocate</i>()</i>, <i><i>posix_madvise</i>()</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2013 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 7, Copyright (C) 2013 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. (This is POSIX.1-2008 with the 2013 Technical Corrigendum 1 applied.) In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.unix.org/online.html .<div style="height: 1.00em;">
&#160;</div>
Any typographical or formatting errors that appear in this page are most likely to have been introduced during the conversion of the source files to man page format. To report such errors, see https://www.kernel.org/doc/man-pages/reporting_bugs.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2013</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

