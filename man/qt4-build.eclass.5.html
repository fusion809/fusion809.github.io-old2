<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
QT4-BUILD.ECLASS(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
QT4-BUILD.ECLASS(5)</td>
<td class="head-vol">
portage</td>
<td class="head-rtitle">
QT4-BUILD.ECLASS(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> qt4-build.eclass - Eclass for Qt4 split ebuilds.</div>
<div class="section">
<h1>DESCRIPTION</h1> This eclass contains various functions that are used when building Qt4.</div>
<div class="section">
<h1>FUNCTIONS</h1><dl>
<dt>
<b>qt4-build_pkg_setup</b></dt>
<dd>
Sets up PATH and LD_LIBRARY_PATH.</dd>
</dl>
<dl>
<dt>
<b>qt4-build_src_unpack</b></dt>
<dd>
Unpacks the sources.</dd>
</dl>
<dl>
<dt>
<b>qt4-build_src_prepare</b></dt>
<dd>
Prepare the sources before the configure phase. Strip CFLAGS if necessary, and fix the build system in order to respect CFLAGS/CXXFLAGS/LDFLAGS specified in make.conf.</dd>
</dl>
<dl>
<dt>
<b>qt4-build_src_configure</b></dt>
<dd>
Default configure phase</dd>
</dl>
<dl>
<dt>
<b>qt4-build_src_compile</b></dt>
<dd>
Actual compile phase</dd>
</dl>
<dl>
<dt>
<b>qt4-build_src_test</b></dt>
<dd>
Runs tests only in target directories.</dd>
</dl>
<dl>
<dt>
<b>fix_includes</b></dt>
<dd>
For MacOS X we need to add some symlinks when frameworks are being used, to avoid complications with some more or less stupid packages.</dd>
</dl>
<dl>
<dt>
<b>qt4-build_src_install</b></dt>
<dd>
Perform the actual installation including some library fixes.</dd>
</dl>
<dl>
<dt>
<b>qt4-build_pkg_postrm</b></dt>
<dd>
Regenerate configuration when the package is completely removed.</dd>
</dl>
<dl>
<dt>
<b>qt4-build_pkg_postinst</b></dt>
<dd>
Regenerate configuration, plus throw a message about possible breakages and proposed solutions.</dd>
</dl>
<dl>
<dt>
<b>qt_use</b> &lt; flag &gt; [ feature ] [ enableval ]</dt>
<dd>
This will echo &quot;-${enableval}-${feature}&quot; if &lt;flag&gt; is enabled, or &quot;-no-${feature}&quot; if it's disabled. If [feature] is not specified, &lt;flag&gt; will be used for that. If [enableval] is not specified, it omits the &quot;-${enableval}&quot; part.</dd>
</dl>
<dl>
<dt>
<b>qt_mkspecs_dir</b></dt>
<dd>
Allows us to define which mkspecs dir we want to use.<div style="height: 1.00em;">
&#160;</div>
Return value: the specs-directory w/o path</dd>
</dl>
</div>
<div class="section">
<h1>ECLASS VARIABLES</h1><dl>
<dt>
<b>PATCHES</b></dt>
<dd>
Array variable containing all the patches to be applied. This variable is expected to be defined in the global scope of ebuilds. Make sure to specify the full path. This variable is used in src_prepare phase.<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
PATCHES=(<br/>
	&quot;${FILESDIR}/mypatch.patch&quot;<br/>
	&quot;${FILESDIR}/patches_folder/&quot;<br/>
)<br/>
</dd>
</dl>
<dl>
<dt>
<b>QT4_EXTRACT_DIRECTORIES</b></dt>
<dd>
Space-separated list of directories that will be extracted from Qt tarball.</dd>
</dl>
<dl>
<dt>
<b>QT4_TARGET_DIRECTORIES</b></dt>
<dd>
Space-separated list of directories that will be configured, compiled, and installed. All paths must be relative to ${S}.</dd>
</dl>
<dl>
<dt>
<b>QCONFIG_ADD</b></dt>
<dd>
List options that need to be added to QT_CONFIG in qconfig.pri</dd>
</dl>
<dl>
<dt>
<b>QCONFIG_REMOVE</b></dt>
<dd>
List options that need to be removed from QT_CONFIG in qconfig.pri</dd>
</dl>
<dl>
<dt>
<b>QCONFIG_DEFINE</b></dt>
<dd>
List variables that should be defined at the top of QtCore/qconfig.h</dd>
</dl>
</div>
<div class="section">
<h1>MAINTAINERS</h1><br/>
Qt herd &lt;qt@gentoo.org&gt;<br/>
</div>
<div class="section">
<h1>REPORTING BUGS</h1> Please report bugs via http://bugs.gentoo.org/</div>
<div class="section">
<h1>FILES</h1> <b>/usr/portage/eclass/qt4-build.eclass</b></div>
<div class="section">
<h1>SEE ALSO</h1> <b>ebuild</b>(5)<br/>
https://gitweb.gentoo.org/repo/gentoo.git/log/eclass/qt4-build.eclass<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
Aug 2015</td>
<td class="foot-os">
Portage</td>
</tr>
</table>
</div>
</body>
</html>

