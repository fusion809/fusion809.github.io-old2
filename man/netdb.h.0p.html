<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
netdb.h(0P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
netdb.h(0P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
netdb.h(0P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>NAME</h1> netdb.h &#8212; definitions for network database operations</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;netdb.h&gt;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <i>&lt;netdb.h&gt;</i> header may define the <b>in_port_t</b> type and the <b>in_addr_t</b> type as described in <i>&lt;netinet/in.h&gt;</i>.<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>hostent</b> structure, which shall include at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<b></b><br/>
<b>char   *h_name       </b>Official name of the host.<br/>
char  **h_aliases    A pointer to an array of pointers to<br/>
                     alternative host names, terminated by a<br/>
                     null pointer.<br/>
int     h_addrtype   Address type.<br/>
int     h_length     The length, in bytes, of the address.<br/>
char  **h_addr_list  A pointer to an array of pointers to network<br/>
                     addresses (in network byte order) for the host,<br/>
                     terminated by a null pointer.<br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>netent</b> structure, which shall include at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<b></b><br/>
<b>char     *n_name      </b>Official, fully-qualified (including the<br/>
                      domain) name of the host.<br/>
char    **n_aliases   A pointer to an array of pointers to<br/>
                      alternative network names, terminated by a<br/>
                      null pointer.<br/>
int       n_addrtype  The address type of the network.<br/>
uint32_t  n_net       The network number, in host byte order.<br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>uint32_t</b> type as described in <i>&lt;inttypes.h&gt;</i>.<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>protoent</b> structure, which shall include at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<b></b><br/>
<b>char   *p_name     </b>Official name of the protocol.<br/>
char  **p_aliases  A pointer to an array of pointers to<br/>
                   alternative protocol names, terminated by<br/>
                   a null pointer.<br/>
int     p_proto    The protocol number.<br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>servent</b> structure, which shall include at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<b></b><br/>
<b>char   *s_name     </b>Official name of the service.<br/>
char  **s_aliases  A pointer to an array of pointers to<br/>
                   alternative service names, terminated by<br/>
                   a null pointer.<br/>
int     s_port     A value which, when converted to uint16_t,<br/>
                   yields the port number in network byte order<br/>
                   at which the service resides.<br/>
char   *s_proto    The name of the protocol to use when<br/>
                   contacting the service.<br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the IPPORT_RESERVED symbolic constant with the value of the highest reserved Internet port number.<div class="subsection">
<h2>Address Information Structure</h2> The <i>&lt;netdb.h&gt;</i> header shall define the <b>addrinfo</b> structure, which shall include at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<b></b><br/>
<b>int               ai_flags      </b>Input flags.<br/>
int               ai_family     Address family of socket.<br/>
int               ai_socktype   Socket type.<br/>
int               ai_protocol   Protocol of socket.<br/>
socklen_t         ai_addrlen    Length of socket address.<br/>
struct sockaddr  *ai_addr       Socket address of socket.<br/>
char             *ai_canonname  Canonical name of service location.<br/>
struct addrinfo  *ai_next       Pointer to next in list.<br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the following symbolic constants that evaluate to bitwise-distinct integer constants for use in the <i>flags</i> field of the <b>addrinfo</b> structure:<dl>
<dt>
AI_PASSIVE</dt>
<dd>
Socket address is intended for  <i>bind</i>().</dd>
</dl>
<dl>
<dt>
AI_CANONNAME</dt>
<dd>
Request for canonical name.</dd>
</dl>
<dl>
<dt>
AI_NUMERICHOST</dt>
<dd>
Return numeric host address as name.</dd>
</dl>
<dl>
<dt>
AI_NUMERICSERV</dt>
<dd>
Inhibit service name resolution.</dd>
</dl>
<dl>
<dt>
AI_V4MAPPED</dt>
<dd>
If no IPv6 addresses are found, query for IPv4 addresses and return them to the caller as IPv4-mapped IPv6 addresses.</dd>
</dl>
<dl>
<dt>
AI_ALL</dt>
<dd>
Query for both IPv4 and IPv6 addresses.</dd>
</dl>
<dl>
<dt>
AI_ADDRCONFIG</dt>
<dd>
Query for IPv4 addresses only when an IPv4 address is configured; query for IPv6 addresses only when an IPv6 address is configured.</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the following symbolic constants that evaluate to bitwise-distinct integer constants for use in the <i>flags</i> argument to  <i>getnameinfo</i>():<dl>
<dt>
NI_NOFQDN</dt>
<dd>
Only the nodename portion of the FQDN is returned for local hosts.</dd>
</dl>
<dl>
<dt>
NI_NUMERICHOST</dt>
<dd>
The numeric form of the node's address is returned instead of its name.</dd>
</dl>
<dl>
<dt>
NI_NAMEREQD</dt>
<dd>
Return an error if the node's name cannot be located in the database.</dd>
</dl>
<dl>
<dt>
NI_NUMERICSERV</dt>
<dd>
The numeric form of the service address is returned instead of its name.</dd>
</dl>
<dl>
<dt>
NI_NUMERICSCOPE</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
For IPv6 addresses, the numeric form of the scope identifier is returned instead of its name.</dd>
</dl>
<dl>
<dt>
NI_DGRAM</dt>
<dd>
Indicates that the service is a datagram service (SOCK_DGRAM).</dd>
</dl>
</div>
<div class="subsection">
<h2>Address Information Errors</h2> The <i>&lt;netdb.h&gt;</i> header shall define the following symbolic constants for use as error values for  <i>getaddrinfo</i>() and  <i>getnameinfo</i>(). The values shall be suitable for use in <b>#if</b> preprocessing directives.<dl>
<dt>
EAI_AGAIN</dt>
<dd>
The name could not be resolved at this time. Future attempts may succeed.</dd>
</dl>
<dl>
<dt>
EAI_BADFLAGS</dt>
<dd>
The flags had an invalid value.</dd>
</dl>
<dl>
<dt>
EAI_FAIL</dt>
<dd>
A non-recoverable error occurred.</dd>
</dl>
<dl>
<dt>
EAI_FAMILY</dt>
<dd>
The address family was not recognized or the address length was invalid for the specified family.</dd>
</dl>
<dl>
<dt>
EAI_MEMORY</dt>
<dd>
There was a memory allocation failure.</dd>
</dl>
<dl>
<dt>
EAI_NONAME</dt>
<dd>
The name does not resolve for the supplied parameters.</dd>
</dl>
<div style="margin-left: 14.00ex;">
<div class="spacer">
</div>
NI_NAMEREQD is set and the host's name cannot be located, or both <i>nodename</i> and <i>servname</i> were null.</div>
<dl>
<dt>
EAI_SERVICE</dt>
<dd>
The service passed was not recognized for the specified socket type.</dd>
</dl>
<dl>
<dt>
EAI_SOCKTYPE</dt>
<dd>
The intended socket type was not recognized.</dd>
</dl>
<dl>
<dt>
EAI_SYSTEM</dt>
<dd>
A system error occurred. The error code can be found in <i>errno</i>.</dd>
</dl>
<dl>
<dt>
EAI_OVERFLOW</dt>
<dd>
An argument buffer overflowed.</dd>
</dl>
<div class="spacer">
</div>
The following shall be declared as functions and may also be defined as macros. Function prototypes shall be provided.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<b></b><br/>
<b>void              endhostent(void);</b><br/>
<b>void              endnetent(void);</b><br/>
<b>void              endprotoent(void);</b><br/>
<b>void              endservent(void);</b><br/>
<b>void              freeaddrinfo(struct addrinfo *);</b><br/>
<b>const char       *gai_strerror(int);</b><br/>
<b>int               getaddrinfo(const char *restrict, const char *restrict,</b><br/>
<b>                      const struct addrinfo *restrict,</b><br/>
<b>                      struct addrinfo **restrict);</b><br/>
<b>struct hostent   *gethostent(void);</b><br/>
<b>int               getnameinfo(const struct sockaddr *restrict, socklen_t,</b><br/>
<b>                      char *restrict, socklen_t, char *restrict,</b><br/>
<b>                      socklen_t, int);</b><br/>
<b>struct netent    *getnetbyaddr(uint32_t, int);</b><br/>
<b>struct netent    *getnetbyname(const char *);</b><br/>
<b>struct netent    *getnetent(void);</b><br/>
<b>struct protoent  *getprotobyname(const char *);</b><br/>
<b>struct protoent  *getprotobynumber(int);</b><br/>
<b>struct protoent  *getprotoent(void);</b><br/>
<b>struct servent   *getservbyname(const char *, const char *);</b><br/>
<b>struct servent   *getservbyport(int, const char *);</b><br/>
<b>struct servent   *getservent(void);</b><br/>
<b>void              sethostent(int);</b><br/>
<b>void              setnetent(int);</b><br/>
<b>void              setprotoent(int);</b><br/>
<b>void              setservent(int);</b><br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>socklen_t</b> type through <b>typedef</b>, as described in <i>&lt;sys/socket.h&gt;</i>.<div class="spacer">
</div>
Inclusion of the <i>&lt;netdb.h&gt;</i> header may also make visible all symbols from <i>&lt;netinet/in.h&gt;</i>, <i>&lt;sys/socket.h&gt;</i>, and <i>&lt;inttypes.h&gt;</i>.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
</div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1> <i><b>&lt;inttypes.h&gt;</b></i>, <i><b>&lt;netinet_in.h&gt;</b></i>, <i><b>&lt;sys_socket.h&gt;</b></i><div class="spacer">
</div>
The System Interfaces volume of POSIX.1&#8208;2008, <i><i>bind</i>()</i>, <i><i>endhostent</i>()</i>, <i><i>endnetent</i>()</i>, <i><i>endprotoent</i>()</i>, <i><i>endservent</i>()</i>, <i><i>freeaddrinfo</i>()</i>, <i><i>gai_strerror</i>()</i>, <i><i>getnameinfo</i>()</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2013 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 7, Copyright (C) 2013 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. (This is POSIX.1-2008 with the 2013 Technical Corrigendum 1 applied.) In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.unix.org/online.html .<div style="height: 1.00em;">
&#160;</div>
Any typographical or formatting errors that appear in this page are most likely to have been introduced during the conversion of the source files to man page format. To report such errors, see https://www.kernel.org/doc/man-pages/reporting_bugs.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2013</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

