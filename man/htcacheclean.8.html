<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
HTCACHECLEAN(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
HTCACHECLEAN(8)</td>
<td class="head-vol">
htcacheclean</td>
<td class="head-rtitle">
HTCACHECLEAN(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> htcacheclean - Clean up the disk cache<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>htcacheclean</b> [ -<b>D</b> ] [ -<b>v</b> ] [ -<b>t</b> ] [ -<b>r</b> ] [ -<b>n</b> ] -<b>p</b><i>path</i> -<b>l</b><i>limit</i><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<b>htcacheclean</b> [ -<b>n</b> ] [ -<b>t</b> ] [ -<b>i</b> ] -<b>d</b><i>interval</i> -<b>p</b><i>path</i> -<b>l</b><i>limit</i><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SUMMARY</h1> htcacheclean is used to keep the size of mod_disk_cache's storage within a certain limit. This tool can run either manually or in daemon mode. When running in daemon mode, it sleeps in the background and checks the cache directories at regular intervals for cached content to be removed. You can stop the daemon cleanly by sending it a TERM or INT signal.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
-d<i>interval</i></dt>
<dd>
Daemonize and repeat cache cleaning every <i>interval</i> minutes. This option is mutually exclusive with the -D, -v and -r options. To shutdown the daemon cleanly, just send it a SIGTERM or SIGINT.</dd>
</dl>
<dl>
<dt>
-D</dt>
<dd>
Do a dry run and don't delete anything. This option is mutually exclusive with the -d option.</dd>
</dl>
<dl>
<dt>
-v</dt>
<dd>
Be verbose and print statistics. This option is mutually exclusive with the -d option.</dd>
</dl>
<dl>
<dt>
-r</dt>
<dd>
Clean thoroughly. This assumes that the Apache web server is not running (otherwise you may get garbage in the cache). This option is mutually exclusive with the -d option and implies the -t option.</dd>
</dl>
<dl>
<dt>
-n</dt>
<dd>
Be nice. This causes slower processing in favour of other processes. htcacheclean will sleep from time to time so that (a) the disk IO will be delayed and (b) the kernel can schedule other processes in the meantime.</dd>
</dl>
<dl>
<dt>
-t</dt>
<dd>
Delete all empty directories. By default only cache files are removed, however with some configurations the large number of directories created may require attention. If your configuration requires a very large number of directories, to the point that inode or file allocation table exhaustion may become an issue, use of this option is advised.</dd>
</dl>
<dl>
<dt>
-p<i>path</i></dt>
<dd>
Specify <i>path</i> as the root directory of the disk cache. This should be the same value as specified with the CacheRoot directive.</dd>
</dl>
<dl>
<dt>
-l<i>limit</i></dt>
<dd>
Specify <i>limit</i> as the total disk cache size limit. The value is expressed in bytes by default (or attaching B to the number). Attach K for Kbytes or M for MBytes.</dd>
</dl>
<dl>
<dt>
-i</dt>
<dd>
Be intelligent and run only when there was a modification of the disk cache. This option is only possible together with the -d option.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>EXIT STATUS</h1> htcacheclean returns a zero status (&quot;true&quot;) if all operations were successful, 1 otherwise.<div style="height: 1.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2008-05-06</td>
<td class="foot-os">
Apache HTTP Server</td>
</tr>
</table>
</div>
</body>
</html>

