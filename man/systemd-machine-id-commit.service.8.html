<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
SYSTEMD-MACHINE-ID-COMMIT.SERVICE(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SYSTEMD-MACHINE-ID-COMMIT.SERVICE(8)</td>
<td class="head-vol">
systemd-machine-id-commit.service</td>
<td class="head-rtitle">
SYSTEMD-MACHINE-ID-COMMIT.SERVICE(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> systemd-machine-id-commit.service - Commit transient machine-id to disk</div>
<div class="section">
<h1>SYNOPSIS</h1> systemd-machine-id-commit.service<div class="spacer">
</div>
/usr/lib/systemd/systemd-machine-id-commit</div>
<div class="section">
<h1>DESCRIPTION</h1> systemd-machine-id-commit.service is a service responsible for committing any transient /etc/machine-id file to a writable file system. See  <b>machine-id</b>(5) for more information about this file.<div class="spacer">
</div>
This service is started shortly after local-fs.target if /etc/machine-id is an independent mount point (probably a tmpfs one) and /etc is writable.  <b>systemd-machine-id-commit</b> will then write current machine ID to disk and unmount the transient /etc/machine-id file in a race-free manner to ensure that file is always valid for other processes.<div class="spacer">
</div>
Note that the traditional way to initialize the machine ID in /etc/machine-id is to use  <b>systemd-machine-id-setup</b> by system installer tools. You can also use  <b>systemd-firstboot</b>(1) to initialize the machine ID on mounted (but not booted) system images. The main use case for that service is /etc/machine-id being an empty file at boot and initrd chaining to systemd giving it a read only file system that will be turned read-write later during the boot process.<div class="spacer">
</div>
There is no consequence if that service fails other than a newer machine-id will be generated during next system boot.</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>systemd</b>(1),  <b>systemd-machine-id-commit</b>(1),  <b>systemd-machine-id-setup</b>(1),  <b>machine-id</b>(5),  <b>systemd-firstboot</b>(1)</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
systemd 226</td>
</tr>
</table>
</div>
</body>
</html>

