<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Tue Jun 21 13:46:11 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>dpkg&minus;query</title>

</head>
<body>

<h1 align="center">dpkg&minus;query</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#ENVIRONMENT">ENVIRONMENT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">dpkg&minus;query
&minus; a tool to query the dpkg database</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dpkg&minus;query</b>
[<i>option</i>...] <i>command</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>dpkg&minus;query</b></i>
is a tool to show information about packages listed in the
<b>dpkg</b> database.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;l</b>,
<b>&minus;&minus;list</b>
[<i>package-name-pattern</i>...]</p>

<p style="margin-left:22%;">List packages matching given
pattern. If no <i>package-name-pattern</i> is given, list
all packages in <i>/var/lib/dpkg/status</i>, excluding the
ones marked as not-installed (i.e. those which have been
previously purged). Normal shell wildchars are allowed in
<i>package-name-pattern</i>. Please note you will probably
have to quote <i>package-name-pattern</i> to prevent the
shell from performing filename expansion. For example this
will list all package names starting with
&ldquo;libc6&rdquo;:</p>


<p style="margin-left:22%; margin-top: 1em"><b>dpkg&minus;query
&minus;l 'libc6*'</b></p>

<p style="margin-left:22%; margin-top: 1em">The first three
columns of the output show the desired action, the package
status, and errors, in that order.</p>

<p style="margin-left:22%; margin-top: 1em">Desired action:
<br>
u = Unknown <br>
i = Install <br>
h = Hold <br>
r = Remove <br>
p = Purge</p>

<p style="margin-left:22%; margin-top: 1em">Package status:
<br>
n = Not-installed <br>
c = Config-files <br>
H = Half-installed <br>
U = Unpacked <br>
F = Half-configured <br>
W = Triggers-awaiting <br>
t = Triggers-pending <br>
i = Installed</p>

<p style="margin-left:22%; margin-top: 1em">Error flags:
<br>
&lt;empty&gt; = (none) <br>
R = Reinst-required</p>

<p style="margin-left:22%; margin-top: 1em">An uppercase
status or error letter indicates the package is likely to
cause severe problems. Please refer to <b>dpkg</b>(1) for
information about the above states and flags.</p>

<p style="margin-left:22%; margin-top: 1em">The output
format of this option is not configurable, but varies
automatically to fit the terminal width. It is intended for
human readers, and is not easily machine-readable. See
<b>&minus;W</b> (<b>&minus;&minus;show</b>) and
<b>&minus;&minus;showformat</b> for a way to configure the
output format.</p>

<p style="margin-left:11%;"><b>&minus;W</b>,
<b>&minus;&minus;show</b>
[<i>package-name-pattern</i>...]</p>

<p style="margin-left:22%;">Just like the
<b>&minus;&minus;list</b> option this will list all packages
matching the given pattern. However the output can be
customized using the <b>&minus;&minus;showformat</b> option.
The default output format gives one line per matching
package, each line having the name (extended with the
architecture qualifier for <b>Multi&minus;Arch same</b>
packages) and installed version of the package, separated by
a tab.</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;&minus;status</b> <i>package-name</i>...</p>

<p style="margin-left:22%;">Report status of specified
package. This just displays the entry in the installed
package status database. When multiple <i>package-name</i>
are listed, the requested status entries are separated by an
empty line, with the same order as specified on the argument
list.</p>

<p style="margin-left:11%;"><b>&minus;L</b>,
<b>&minus;&minus;listfiles</b> <i>package-name</i>...</p>

<p style="margin-left:22%;">List files installed to your
system from <i>package-name</i>. When multiple
<i>package-name</i> are listed, the requested lists of files
are separated by an empty line, with the same order as
specified on the argument list. However, note that files
created by package-specific installation-scripts are not
listed.</p>


<p style="margin-left:11%;"><b>&minus;&minus;control&minus;list</b>
<i>package-name</i></p>

<p style="margin-left:22%;">List control files installed to
your system from <i>package-name</i>. These can be used as
input arguments to
<b>&minus;&minus;control&minus;show</b>.</p>


<p style="margin-left:11%;"><b>&minus;&minus;control&minus;show</b>
<i>package-name control-file</i></p>

<p style="margin-left:22%;">Print the <i>control-file</i>
installed to your system from <i>package-name</i> to the
standard output.</p>

<p style="margin-left:11%;"><b>&minus;c</b>,
<b>&minus;&minus;control&minus;path</b> <i>package-name</i>
[<i>control-file</i>]</p>

<p style="margin-left:22%;">List paths for control files
installed to your system from <i>package-name</i>. If
<i>control-file</i> is specified then only list the path for
that control file if it is present.</p>


<p style="margin-left:22%; margin-top: 1em"><b>Warning</b>:
this command is deprecated as it gives direct access to the
internal dpkg database, please switch to use
<b>&minus;&minus;control&minus;list</b> and
<b>&minus;&minus;control&minus;show</b> instead for all
cases where those commands might give the same end result.
Although, as long as there is still at least one case where
this command is needed (i.e. when having to remove a
damaging postrm maintainer script), and while there is no
good solution for that, this command will not get
removed.</p>

<p style="margin-left:11%;"><b>&minus;S</b>,
<b>&minus;&minus;search</b>
<i>filename-search-pattern</i>...</p>

<p style="margin-left:22%;">Search for packages that own
files corresponding to the given pattern. Standard shell
wildchars can be used in the pattern. This command will not
list extra files created by maintainer scripts, nor will it
list alternatives.</p>

<p style="margin-left:11%;"><b>&minus;p</b>,
<b>&minus;&minus;print&minus;avail</b>
<i>package-name</i>...</p>

<p style="margin-left:22%;">Display details about
<i>package-name</i>, as found in
<i>/var/lib/dpkg/available</i>. When multiple
<i>package-name</i> are listed, the requested
<i>available</i> entries are separated by an empty line,
with the same order as specified on the argument list.</p>

<p style="margin-left:22%; margin-top: 1em">Users of
APT-based frontends should use <b>apt&minus;cache show</b>
<i>package-name</i> instead as the <i>available</i> file is
only kept up-to-date when using <b>dselect</b>.</p>

<p style="margin-left:11%;"><b>&minus;?</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">Show the usage message and
exit.</p>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">Show the version and exit.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;admindir=</b><i>dir</i></p>

<p style="margin-left:22%;">Change the location of the
<b>dpkg</b> database. The default location is
<i>/var/lib/dpkg</i>.</p>


<p style="margin-left:11%;"><b>&minus;&minus;load&minus;avail</b></p>

<p style="margin-left:22%;">Also load the available file
when using the <b>&minus;&minus;show</b> and
<b>&minus;&minus;list</b> commands, which now default to
only querying the status file.</p>

<p style="margin-left:11%;"><b>&minus;f</b>,
<b>&minus;&minus;showformat=</b><i>format</i></p>

<p style="margin-left:22%;">This option is used to specify
the format of the output <b>&minus;&minus;show</b> will
produce. The format is a string that will be output for each
package listed.</p>

<p style="margin-left:22%; margin-top: 1em">In the format
string, &ldquo;<b>\</b>&rdquo; introduces escapes:</p>

<p style="margin-left:22%; margin-top: 1em"><b>\n</b>
newline <b><br>
\r</b> carriage return <b><br>
\t</b> tab</p>


<p style="margin-left:22%; margin-top: 1em">&ldquo;<b>\</b>&rdquo;
before any other character suppresses any special meaning of
the following character, which is useful for
&ldquo;<b>\</b>&rdquo; and &ldquo;<b>$</b>&rdquo;.</p>

<p style="margin-left:22%; margin-top: 1em">Package
information can be included by inserting variable references
to package fields using the syntax
&ldquo;<b>${</b><i>field</i>[<b>;</b><i>width</i>]<b>}</b>&rdquo;.
Fields are printed right-aligned unless the width is
negative in which case left alignment will be used. The
following <i>field</i>s are recognized but they are not
necessarily available in the status file (only internal
fields or fields stored in the binary package end up in
it):</p>


<p style="margin-left:22%; margin-top: 1em"><b>Architecture
<br>
Bugs <br>
Conffiles</b> (internal) <b><br>
Config&minus;Version</b> (internal) <b><br>
Conflicts <br>
Breaks <br>
Depends <br>
Description <br>
Enhances <br>
Essential <br>
Filename</b> (internal, front-end related) <b><br>
Homepage <br>
Installed&minus;Size <br>
MD5sum</b> (internal, front-end related) <b><br>
MSDOS&minus;Filename</b> (internal, front-end related)
<b><br>
Maintainer <br>
Origin <br>
Package <br>
Pre&minus;Depends <br>
Priority <br>
Provides <br>
Recommends <br>
Replaces <br>
Revision</b> (obsolete) <b><br>
Section <br>
Size</b> (internal, front-end related) <b><br>
Source <br>
Status</b> (internal) <b><br>
Suggests <br>
Tag</b> (usually not in .deb but in repository Packages
files) <b><br>
Triggers&minus;Awaited</b> (internal) <b><br>
Triggers&minus;Pending</b> (internal) <b><br>
Version</b></p>

<p style="margin-left:22%; margin-top: 1em">The following
are virtual fields, generated by <b>dpkg&minus;query</b>
from values from other fields (note that these do not use
valid names for fields in control files): <b><br>
binary:Package</b></p>

<p style="margin-left:32%;">It contains the binary package
name with a possible architecture qualifier like
&quot;libc6:amd64&quot; (since dpkg 1.16.2). The
architecture qualifier will only be present if the package
has a <b>Multi&minus;Arch</b> field with a value of
<b>same</b>. This makes the package name unambiguous.</p>

<p style="margin-left:22%;"><b>binary:Summary</b></p>

<p style="margin-left:32%;">It contains the package short
description (since dpkg 1.16.2).</p>


<p style="margin-left:22%;"><b>db:Status&minus;Abbrev</b></p>

<p style="margin-left:32%;">It contains the abbreviated
package status, such as &ldquo;ii&rdquo; (since dpkg
1.16.2).</p>


<p style="margin-left:22%;"><b>db:Status&minus;Want</b></p>

<p style="margin-left:32%;">It contains the package wanted
status, part of the Status field (since dpkg 1.17.11).</p>


<p style="margin-left:22%;"><b>db:Status&minus;Status</b></p>

<p style="margin-left:32%;">It contains the package status
word, part of the Status field (since dpkg 1.17.11).</p>


<p style="margin-left:22%;"><b>db:Status&minus;Eflag</b></p>

<p style="margin-left:32%;">It contains the package status
error flag, part of the Status field (since dpkg
1.17.11).</p>

<p style="margin-left:22%;"><b>source:Package</b></p>

<p style="margin-left:32%;">It contains the source package
name for this binary package (since dpkg 1.16.2).</p>

<p style="margin-left:22%;"><b>source:Version</b></p>

<p style="margin-left:32%;">It contains the source package
version for this binary package (since dpkg 1.16.2)</p>

<p style="margin-left:22%; margin-top: 1em">The default
format string is
&ldquo;<b>${binary:Package}\t${Version}\n</b>&rdquo;.
Actually, all other fields found in the status file (i.e.
user defined fields) can be requested, too. They will be
printed as-is, though, no conversion nor error checking is
done on them. To get the name of the <b>dpkg</b> maintainer
and the installed version, you could run:</p>


<p style="margin-left:22%; margin-top: 1em"><b>dpkg&minus;query
&minus;W &minus;f='${binary:Package}
${Version}\t${Maintainer}\n' dpkg</b></p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>0</b></p></td>
<td width="10%"></td>
<td width="78%">


<p style="margin-top: 1em">The requested query was
successfully performed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="10%"></td>
<td width="78%">


<p>Problems were encountered while parsing the command line
or performing the query, including no file or package being
found (except for
<b>&minus;&minus;control&minus;path</b>).</p> </td></tr>
</table>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>DPKG_ADMINDIR</b></p>

<p style="margin-left:22%;">If set and the
<b>&minus;&minus;admindir</b> option has not been specified,
it will be used as the <b>dpkg</b> data directory.</p>

<p style="margin-left:11%;"><b>COLUMNS</b></p>

<p style="margin-left:22%;">This setting influences the
output of the <b>&minus;&minus;list</b> option by changing
the width of its output.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>dpkg</b>(1).</p>
<hr>
</body>
</html>
