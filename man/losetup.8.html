<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
LOSETUP(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LOSETUP(8)</td>
<td class="head-vol">
System Administration</td>
<td class="head-rtitle">
LOSETUP(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> losetup - set up and control loop devices</div>
<div class="section">
<h1>SYNOPSIS</h1> Get info:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>losetup</b> <i>loopdev</i><div style="height: 1.00em;">
&#160;</div>
<b>losetup -l</b> [<b>-a</b>]<div style="height: 1.00em;">
&#160;</div>
<b>losetup -j</b> <i>file</i> [<b>-o</b> <i>offset</i>]<div style="height: 1.00em;">
&#160;</div>
<br/>
Detach a loop device:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>losetup -d</b> <i>loopdev</i>...<div style="height: 1.00em;">
&#160;</div>
<br/>
Detach all associated loop devices:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>losetup -D</b><div style="height: 1.00em;">
&#160;</div>
<br/>
Print the name of the first unused loop device:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>losetup -f</b><div style="height: 1.00em;">
&#160;</div>
<br/>
Set up a loop device:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>losetup</b> [<b>-o</b> <i>offset</i>] [<b>--sizelimit</b> <i>size</i>]<br/>
[<b>-Pr</b>] [<b>--show</b>]<b> -f</b>|<b><i>loopdev</i></b> <i>file</i><div style="height: 1.00em;">
&#160;</div>
<br/>
Resize a loop device:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>losetup -c</b> <i>loopdev</i><br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>losetup</b> is used to associate loop devices with regular files or block devices, to detach loop devices, and to query the status of a loop device.  If only the  <i>loopdev</i> argument is given, the status of the corresponding loop device is shown.  If no option is given, all loop devices are shown.<div style="height: 1.00em;">
&#160;</div>
Note that the old output format (i.e. <b>losetup -a</b>) with comma-delimited strings is deprecated in favour of the  <b>--list</b> output format.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1> The  <i>size</i> and <i>offset</i> arguments may be followed by the multiplicative suffixes KiB (=1024), MiB (=1024*1024), and so on for GiB, TiB, PiB, EiB, ZiB and YiB (the &quot;iB&quot; is optional, e.g., &quot;K&quot; has the same meaning as &quot;KiB&quot;) or the suffixes KB (=1000), MB (=1000*1000), and so on for GB, TB, PB, EB, ZB and YB.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>-a</b>,<b> --all</b></dt>
<dd>
Show the status of all loop devices.  Note that not all information is accessible for non-root users.  See also  <b>--list</b>.  The old output format (as printed without  <b>--list)</b> is deprecated.</dd>
</dl>
<dl>
<dt>
<b>-c</b>,<b> --set-capacity </b><i>loopdev</i></dt>
<dd>
Force the loop driver to reread the size of the file associated with the specified loop device.</dd>
</dl>
<dl>
<dt>
<b>-d</b>,<b> --detach </b><i>loopdev</i>...</dt>
<dd>
Detach the file or device associated with the specified loop device(s).</dd>
</dl>
<dl>
<dt>
<b>-D</b>,<b> --detach-all</b></dt>
<dd>
Detach all associated loop devices.</dd>
</dl>
<dl>
<dt>
<b>-f</b>,<b> --find</b></dt>
<dd>
Find the first unused loop device.  If a <i>file</i> argument is present, use the found device as loop device. Otherwise, just print its name.</dd>
</dl>
<dl>
<dt>
<b>-j, --associated </b><i>file</i><b></b></dt>
<dd>
Show the status of all loop devices associated with the given <i>file</i>.</dd>
</dl>
<dl>
<dt>
<b>-J, </b><b>--json</b><b></b></dt>
<dd>
Use JSON format for <b>--list</b> output.</dd>
</dl>
<dl>
<dt>
<b>-l</b>,<b> --list</b></dt>
<dd>
If a loop device or the <b>-a</b> option is specified, print the default columns for either the specified loop device or all loop devices; the default is to print info about all devices.  See also  <b>--output</b>, <b>--noheadings</b>  <b>--json</b> and <b>--raw</b>.</dd>
</dl>
<dl>
<dt>
<b>-n</b>,<b> --noheadings</b></dt>
<dd>
Don't print headings for <b>--list</b> output format.</dd>
</dl>
<dl>
<dt>
<b>-o</b>,<b> --offset </b><i>offset</i></dt>
<dd>
The data start is moved <i>offset</i> bytes into the specified file or device.</dd>
</dl>
<dl>
<dt>
<b>-O</b>,<b> --output </b><i>columns</i></dt>
<dd>
Specify the columns that are to be printed for the <b>--list</b> output.</dd>
</dl>
<dl>
<dt>
<b>-P</b>,<b> --partscan</b></dt>
<dd>
Force the kernel to scan the partition table on a newly created loop device.</dd>
</dl>
<dl>
<dt>
<b>--raw</b></dt>
<dd>
Use the raw <b>--list</b> output format.</dd>
</dl>
<dl>
<dt>
<b>-r</b>,<b> --read-only</b></dt>
<dd>
Set up a read-only loop device.</dd>
</dl>
<dl>
<dt>
<b>--sizelimit </b><i>size</i><b></b></dt>
<dd>
The data end is set to no more than <i>size</i> bytes after the data start.</dd>
</dl>
<dl>
<dt>
<b>--show</b></dt>
<dd>
Display the name of the assigned loop device if the <b>-f</b> option and a <i>file</i> argument are present.</dd>
</dl>
<dl>
<dt>
<b>-v</b>,<b> --verbose</b></dt>
<dd>
Verbose mode.</dd>
</dl>
<dl>
<dt>
<b>-V</b>,<b> --version</b></dt>
<dd>
Display version information and exit.</dd>
</dl>
<dl>
<dt>
<b>-h</b>,<b> --help</b></dt>
<dd>
Display help text and exit.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>ENCRYPTION</h1> <b>Cryptoloop is no longer supported in favor of dm-crypt.</b> <b>For more details see cryptsetup (8).</b><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>RETURN VALUE</h1> <b>losetup</b> returns 0 on success, nonzero on failure.  When <b>losetup</b> displays the status of a loop device, it returns 1 if the device is not configured and 2 if an error occurred which prevented determining the status of the device.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<i>/dev/loop[0..N]</i></dt>
<dd>
loop block devices</dd>
</dl>
<dl>
<dt>
<i>/dev/loop-control</i></dt>
<dd>
loop control device<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>EXAMPLE</h1> The following commands can be used as an example of using the loop device.<dl>
<dt>
</dt>
<dd>
# dd if=/dev/zero of=~/file.img bs=1MiB count=10<br/>
# losetup --find --show ~/file.img<br/>
/dev/loop0<br/>
# mkfs -t ext2 /dev/loop0<br/>
# mount /dev/loop0 /mnt<br/>
 ...<br/>
# umount /dev/loop0<br/>
# losetup --detach /dev/loop0<br/>
</dd>
</dl>
</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
LOOPDEV_DEBUG=all</dt>
<dd>
enables debug output.</dd>
</dl>
</div>
<div class="section">
<h1>AUTHORS</h1> Karel Zak &lt;kzak@redhat.com&gt;, based on the original version from Theodore Ts'o &lt;tytso@athena.mit.edu&gt;</div>
<div class="section">
<h1>AVAILABILITY</h1> The losetup command is part of the util-linux package and is available from ftp://ftp.kernel.org/pub/linux/utils/util-linux/.</div>
<table class="foot">
<tr>
<td class="foot-date">
July 2014</td>
<td class="foot-os">
util-linux</td>
</tr>
</table>
</div>
</body>
</html>

