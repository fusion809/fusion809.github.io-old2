<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Wed Dec  2 01:50:17 2015 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>YUM2DNF</title>

</head>
<body>

<h1 align="center">YUM2DNF</h1>

<a href="#NAME">NAME</a><br>
<a href="#NO --SKIP-BROKEN">NO --SKIP-BROKEN</a><br>
<a href="#UPDATE AND UPGRADE COMMANDS ARE THE SAME">UPDATE AND UPGRADE COMMANDS ARE THE SAME</a><br>
<a href="#CLEAN_REQUIREMENTS_ON_REMOVE ON BY DEFAULT">CLEAN_REQUIREMENTS_ON_REMOVE ON BY DEFAULT</a><br>
<a href="#NO RESOLVEDEP COMMAND">NO RESOLVEDEP COMMAND</a><br>
<a href="#NO DEPLIST COMMAND">NO DEPLIST COMMAND</a><br>
<a href="#EXCLUDES AND REPO EXCLUDES APPLY TO ALL OPERATIONS">EXCLUDES AND REPO EXCLUDES APPLY TO ALL OPERATIONS</a><br>
<a href="#YUM&rsquo;S CONF DIRECTIVE INCLUDEPKGS IS JUST INCLUDE">YUM&rsquo;S CONF DIRECTIVE INCLUDEPKGS IS JUST INCLUDE</a><br>
<a href="#PROTECTED_PACKAGES IS SUPPORTED VIA PLUGIN">PROTECTED_PACKAGES IS SUPPORTED VIA PLUGIN</a><br>
<a href="#DNF REMOVE KERNEL DELETES ALL PACKAGES CALLED KERNEL">DNF REMOVE KERNEL DELETES ALL PACKAGES CALLED KERNEL</a><br>
<a href="#DNF PROVIDES /BIN/&lt;FILE&gt; DOES NOT FIND ANY PACKAGES ON FEDORA">DNF PROVIDES /BIN/&lt;FILE&gt; DOES NOT FIND ANY PACKAGES ON FEDORA</a><br>
<a href="#SKIP_IF_UNAVAILABLE ENABLED BY DEFAULT">SKIP_IF_UNAVAILABLE ENABLED BY DEFAULT</a><br>
<a href="#OVERWRITE_GROUPS DROPPED, COMPS FUNCTIONS ACTING AS IF ALWAYS DISABLED">OVERWRITE_GROUPS DROPPED, COMPS FUNCTIONS ACTING AS IF ALWAYS DISABLED</a><br>
<a href="#MIRRORLIST_EXPIRE DROPPED">MIRRORLIST_EXPIRE DROPPED</a><br>
<a href="#METALINK NOT RECOGNIZED IN THE MIRRORLIST REPO OPTION">METALINK NOT RECOGNIZED IN THE MIRRORLIST REPO OPTION</a><br>
<a href="#GROUP_PACKAGE_TYPES DROPPED">GROUP_PACKAGE_TYPES DROPPED</a><br>
<a href="#UPGRADE_REQUIREMENTS_ON_INSTALL DROPPED">UPGRADE_REQUIREMENTS_ON_INSTALL DROPPED</a><br>
<a href="#DNF HISTORY ROLLBACK CHECK DROPPED">DNF HISTORY ROLLBACK CHECK DROPPED</a><br>
<a href="#PACKAGES REPLACEMENT WITHOUT YUM SHELL OR YUM SWAP">PACKAGES REPLACEMENT WITHOUT YUM SHELL OR YUM SWAP</a><br>
<a href="#DNF HISTORY INFO LAST">DNF HISTORY INFO LAST</a><br>
<a href="#DEPENDENCY PROCESSING DETAILS ARE NOT SHOWN IN THE CLI">DEPENDENCY PROCESSING DETAILS ARE NOT SHOWN IN THE CLI</a><br>
<a href="#DNF PROVIDES COMPLIES WITH THE YUM DOCUMENTATION OF THE COMMAND">DNF PROVIDES COMPLIES WITH THE YUM DOCUMENTATION OF THE COMMAND</a><br>
<a href="#--ENABLEPLUGIN NOT RECOGNIZED">--ENABLEPLUGIN NOT RECOGNIZED</a><br>
<a href="#BANDWIDTH LIMITING">BANDWIDTH LIMITING</a><br>
<a href="#THE USAGE OF DELTA RPM FILES">THE USAGE OF DELTA RPM FILES</a><br>
<a href="#HANDLING .SRPM FILES AND NON-EXISTENT PACKAGES">HANDLING .SRPM FILES AND NON-EXISTENT PACKAGES</a><br>
<a href="#PROMOTING PACKAGE TO INSTALL TO A PACKAGE THAT OBSOLETES IT">PROMOTING PACKAGE TO INSTALL TO A PACKAGE THAT OBSOLETES IT</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">yum2dnf &minus;
Changes in DNF compared to Yum</p>

<h2>NO --SKIP-BROKEN
<a name="NO --SKIP-BROKEN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;&minus;skip&minus;broken</b> command line switch
is not recognized by DNF. The semantics this was supposed to
trigger in Yum is now the default for plain <b>dnf
update</b>. There is no equivalent for <b>yum
&minus;&minus;skip&minus;broken update foo</b>, as silently
skipping <b>foo</b> in this case only amounts to masking an
error contradicting the user request. To try using the
latest versions of packages in transactions there is the
<b>&minus;&minus;best</b> command line switch.</p>

<h2>UPDATE AND UPGRADE COMMANDS ARE THE SAME
<a name="UPDATE AND UPGRADE COMMANDS ARE THE SAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Invoking <b>dnf
update</b> or <b>dnf upgrade</b>, in all their forms, has
the same effect in DNF, with the latter being preferred. In
Yum <b>yum upgrade</b> was exactly like <b>yum
&minus;&minus;obsoletes update</b>.</p>

<h2>CLEAN_REQUIREMENTS_ON_REMOVE ON BY DEFAULT
<a name="CLEAN_REQUIREMENTS_ON_REMOVE ON BY DEFAULT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>clean_requirements_on_remove</i> switch is on by default
in DNF. It can thus be confusing to compare the
&quot;remove&quot; operation results between DNF and Yum as
by default DNF is often going to remove more packages.</p>

<h2>NO RESOLVEDEP COMMAND
<a name="NO RESOLVEDEP COMMAND"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Yum version
of this command is maintained for legacy reasons only. The
user can just do <b>dnf provides</b> to find out what
package gives a particular provide.</p>

<h2>NO DEPLIST COMMAND
<a name="NO DEPLIST COMMAND"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Alternative to
Yum <b>deplist</b> command to find out dependencies of the
package is <b>dnf repoquery &minus;&minus;requires</b> using
<i>repoquery plugin</i>.</p>

<h2>EXCLUDES AND REPO EXCLUDES APPLY TO ALL OPERATIONS
<a name="EXCLUDES AND REPO EXCLUDES APPLY TO ALL OPERATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Yum only
respects excludes during installs and upgrades. DNF extends
this to all operations, among others erasing and listing. If
you e.g. want to see a list of all installed
<b>python&minus;f*</b> packages but not any of the Flask
packages, the following will work:</p>

<pre style="margin-left:15%; margin-top: 1em">dnf &minus;x '*flask*' list installed 'python&minus;f*'</pre>


<h2>YUM&rsquo;S CONF DIRECTIVE INCLUDEPKGS IS JUST INCLUDE

<a name="YUM&rsquo;S CONF DIRECTIVE INCLUDEPKGS IS JUST INCLUDE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>include</b>
directive name of [main] and Repo configuration is more
logical and better named counterpart of <b>exclude</b> in
DNF.</p>

<h2>PROTECTED_PACKAGES IS SUPPORTED VIA PLUGIN
<a name="PROTECTED_PACKAGES IS SUPPORTED VIA PLUGIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DNF drops Yum's
<b>protected_packages</b> configuration option. Generally,
the core DNF lets the user do what she specified, even have
DNF itself removed. Similar functionality to
<b>protected_packages</b> is however provided by the
<i>protected_packages plugin</i>.</p>

<h2>DNF REMOVE KERNEL DELETES ALL PACKAGES CALLED KERNEL
<a name="DNF REMOVE KERNEL DELETES ALL PACKAGES CALLED KERNEL"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In Yum, the
running kernel is spared. There is no reason to keep this in
DNF, the user can always specify concrete versions on the
command line, e.g.:</p>

<pre style="margin-left:15%; margin-top: 1em">dnf remove kernel&minus;3.9.4</pre>



<h2>DNF PROVIDES /BIN/&lt;FILE&gt; DOES NOT FIND ANY PACKAGES ON FEDORA

<a name="DNF PROVIDES /BIN/&lt;FILE&gt; DOES NOT FIND ANY PACKAGES ON FEDORA"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">After
<i>UsrMove</i> there's no directory <b>/bin</b> on Fedora
systems and no files get installed there, <b>/bin</b> is
only a symlink created by the <b>filesystem</b> package to
point to <b>/usr/bin</b>. Resolving the symlinks to their
real path would only give the user false sense that this
works while in fact provides requests using globs such
as:</p>

<pre style="margin-left:15%; margin-top: 1em">dnf provides /b*/&lt;file&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">will fail still
(as it does in Yum now). To find what provides a particular
binary use the actual path for binaries on Fedora:</p>

<pre style="margin-left:15%; margin-top: 1em">dnf provides /usr/bin/&lt;file&gt;</pre>


<p style="margin-left:11%; margin-top: 1em">Also see
related Fedora bugzillas <i>982947</i> and
<i>982664</i>.</p>

<h2>SKIP_IF_UNAVAILABLE ENABLED BY DEFAULT
<a name="SKIP_IF_UNAVAILABLE ENABLED BY DEFAULT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The important
system repos should never be down and we see the third party
repos down often enough to warrant this change. Note that
without this setting and without an explicit
<b>skip_if_unavailable=True</b> in the relevant repo .ini
file Yum immediately stops on a repo error, confusing and
bothering the user.</p>

<p style="margin-left:11%; margin-top: 1em">See the related
<i>Fedora bug 984483</i>.</p>

<h2>OVERWRITE_GROUPS DROPPED, COMPS FUNCTIONS ACTING AS IF ALWAYS DISABLED
<a name="OVERWRITE_GROUPS DROPPED, COMPS FUNCTIONS ACTING AS IF ALWAYS DISABLED"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This config
option has been dropped. When DNF sees several groups with
the same group id it merges the groups' contents
together.</p>

<h2>MIRRORLIST_EXPIRE DROPPED
<a name="MIRRORLIST_EXPIRE DROPPED"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To simplify
things for the user, DNF uses <b>metadata_expire</b> for
both expiring metadata and the mirrorlist file (which is a
kind of metadata itself).</p>

<h2>METALINK NOT RECOGNIZED IN THE MIRRORLIST REPO OPTION
<a name="METALINK NOT RECOGNIZED IN THE MIRRORLIST REPO OPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
part of <b>yum.conf(5)</b> no longer applies for the
<b>mirrorlist</b> option:</p>

<p style="margin-left:15%;">As a special hack is the
mirrorlist URL contains the word &quot;metalink&quot; then
the value of mirrorlist is copied to metalink (if metalink
is not set).</p>

<p style="margin-left:11%; margin-top: 1em">The relevant
repository configuration files have been fixed to respect
this, see the related <i>Fedora bug 948788</i>.</p>

<h2>GROUP_PACKAGE_TYPES DROPPED
<a name="GROUP_PACKAGE_TYPES DROPPED"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Done to
simplify the configuration. User will typically want to
decide what packages to install per&minus;group and not via
a global setting:</p>

<pre style="margin-left:15%; margin-top: 1em">dnf group install with&minus;optional Editors</pre>


<h2>UPGRADE_REQUIREMENTS_ON_INSTALL DROPPED
<a name="UPGRADE_REQUIREMENTS_ON_INSTALL DROPPED"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Dropping this
config option with blurry semantics simplifies the
configuration. DNF behaves as if this was disabled. If the
user wanted to upgrade everything to the latest version
she'd simply use <b>dnf upgrade</b>.</p>

<h2>DNF HISTORY ROLLBACK CHECK DROPPED
<a name="DNF HISTORY ROLLBACK CHECK DROPPED"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DNF tolerates
the use of other package managers. Then it is possible that
not all changes to RPMDB are stored in the history of
transactions. Therefore, DNF does not fail if such a
situation is encountered and thus the <b>force</b> option is
not needed anymore.</p>

<h2>PACKAGES REPLACEMENT WITHOUT YUM SHELL OR YUM SWAP
<a name="PACKAGES REPLACEMENT WITHOUT YUM SHELL OR YUM SWAP"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Time after time
one needs to remove an installed package and replace it with
a different one, providing the same capabilities while other
packages depending on these capabilities stay installed.
Without (transiently) breaking consistency of the package
database this can be done by performing the remove and the
install in one transaction. The common way to setup such
transaction in Yum is to use <b>yum shell</b>.</p>

<p style="margin-left:11%; margin-top: 1em">There is no
shell in DNF but the case above is still valid. We provide
the <b>&minus;&minus;allowerasing</b> switch for this
purpose, e.g. say you want to replace <b>A</b> (providing
<b>P</b>) with B (also providing <b>P</b>, conflicting with
<b>A</b>) without deleting <b>C</b> (which requires
<b>P</b>) in the process. Use:</p>

<pre style="margin-left:15%; margin-top: 1em">dnf &minus;&minus;allowerasing install B</pre>


<p style="margin-left:11%; margin-top: 1em">This command is
equal to <b>yum swap A B</b>.</p>

<h2>DNF HISTORY INFO LAST
<a name="DNF HISTORY INFO LAST"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In this case,
DNF recognizes <b>last</b> as the ID of the last transaction
(like other <b>history</b> subcommands), while Yum considers
it a package name. It goes similarly for
<b>last&minus;N</b>.</p>

<h2>DEPENDENCY PROCESSING DETAILS ARE NOT SHOWN IN THE CLI
<a name="DEPENDENCY PROCESSING DETAILS ARE NOT SHOWN IN THE CLI"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">During its
depsolving phase, Yum outputs lines similar to:</p>

<pre style="margin-left:15%; margin-top: 1em">&minus;&minus;&minus;&gt; Package rubygem&minus;rhc.noarch 0:1.16.9&minus;1.fc19 will be an update
&minus;&minus;&gt; Processing Dependency: rubygem&minus;net&minus;ssh&minus;multi &gt;= 1.2.0 for package: rubygem&minus;rhc&minus;1.16.9&minus;1.fc19.noarch</pre>


<p style="margin-left:11%; margin-top: 1em">DNF does not
output information like this. The technical reason is that
depsolver below DNF always considers all dependencies for
update candidates and the output would be very long.
Secondly, even in Yum this output gets confusing very
quickly especially for large transactions and so does more
harm than good.</p>

<p style="margin-left:11%; margin-top: 1em">See the the
related <i>Fedora bug 1044999</i>.</p>

<h2>DNF PROVIDES COMPLIES WITH THE YUM DOCUMENTATION OF THE COMMAND
<a name="DNF PROVIDES COMPLIES WITH THE YUM DOCUMENTATION OF THE COMMAND"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When one
executes:</p>

<pre style="margin-left:15%; margin-top: 1em">yum provides sandbox</pre>


<p style="margin-left:11%; margin-top: 1em">Yum applies
extra heuristics to determine what the user meant by
<b>sandbox</b>, for instance it sequentially prepends
entries from the <b>PATH</b> environment variable to it to
see if it matches a file provided by some package. This is
an undocumented behavior that DNF does not emulate. Just
typically use:</p>

<pre style="margin-left:15%; margin-top: 1em">dnf provides /usr/bin/sandbox</pre>


<p style="margin-left:11%; margin-top: 1em">or even:</p>

<pre style="margin-left:15%; margin-top: 1em">dnf provides '*/sandbox'</pre>


<p style="margin-left:11%; margin-top: 1em">to obtain
similar results.</p>

<h2>--ENABLEPLUGIN NOT RECOGNIZED
<a name="--ENABLEPLUGIN NOT RECOGNIZED"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This switch has
been dropped. It is not documented for Yum and of a
questionable use (all plugins are enabled by default).</p>

<h2>BANDWIDTH LIMITING
<a name="BANDWIDTH LIMITING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DNF supports
the <b>throttle</b> and <b>bandwidth</b> options familiar
from Yum. Contrary to Yum, when multiple downloads run
simultaneously the total downloading speed is throttled.
This was not possible in Yum since downloaders ran in
different processes.</p>

<h2>THE USAGE OF DELTA RPM FILES
<a name="THE USAGE OF DELTA RPM FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The boolean
<b>deltarpm</b> option controls whether delta RPM files are
used. Compared to Yum, DNF does not support
<b>deltarpm_percentage</b> and instead chooses some optimal
value of DRPM/RPM ratio to decide whether using deltarpm
makes sense in the given case.</p>

<h2>HANDLING .SRPM FILES AND NON-EXISTENT PACKAGES
<a name="HANDLING .SRPM FILES AND NON-EXISTENT PACKAGES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DNF will
terminate early with an error if a command is executed
requesting an installing operation on a local <b>.srpm</b>
file:</p>

<pre style="margin-left:15%; margin-top: 1em">$ dnf install fdn&minus;0.4.17&minus;1.fc20.src.rpm tour&minus;4&minus;6.noarch.rpm
Error: Will not install a source rpm package (fdn&minus;0.4.17&minus;1.fc20.src).</pre>


<p style="margin-left:11%; margin-top: 1em">The same
applies for package specifications that does not match any
available package.</p>

<p style="margin-left:11%; margin-top: 1em">Yum will only
issue warning in this case and continue installing the
&quot;tour&quot; package. The rationale behind the result in
DNF is that a program should terminate with an error if it
can not fulfill the CLI command in its entirety.</p>

<h2>PROMOTING PACKAGE TO INSTALL TO A PACKAGE THAT OBSOLETES IT
<a name="PROMOTING PACKAGE TO INSTALL TO A PACKAGE THAT OBSOLETES IT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DNF will not
magically replace a request for installing package <b>X</b>
to installing package <b>Y</b> if <b>Y</b> obsoletes
<b>X</b>. Yum does this if its <b>obsoletes</b> config
option is enabled but the behavior is not properly
documented and can be harmful.</p>

<p style="margin-left:11%; margin-top: 1em">See the the
related <i>Fedora bug 1096506</i> and <i>guidelines for
renaming and obsoleting packages in Fedora</i>.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-23891.png" alt="Image grohtml-23891.png"></p>

<p style="margin-left:11%; margin-top: 1em">Plugins that
have not been ported yet:</p>


<p style="margin-left:11%; margin-top: 1em"><b>yum&minus;plugin&minus;aliases</b>,
<b>yum&minus;plugin&minus;auto&minus;update&minus;debug&minus;info</b>,
<b>yum&minus;plugin&minus;changelog</b>,
<b>yum&minus;plugin&minus;filter&minus;data</b>,
<b>yum&minus;plugin&minus;keys</b>,
<b>yum&minus;plugin&minus;list&minus;data</b>,
<b>yum&minus;plugin&minus;post&minus;transaction&minus;actions</b>,
<b>yum&minus;plugin&minus;protectbase</b>,
<b>yum&minus;plugin&minus;ps</b>,
<b>yum&minus;plugin&minus;puppetverify</b>,
<b>yum&minus;plugin&minus;refresh&minus;updatesd</b>,
<b>yum&minus;plugin&minus;rpm&minus;warm&minus;cache</b>,
<b>yum&minus;plugin&minus;show&minus;leaves</b>,
<b>yum&minus;plugin&minus;tmprepo</b>,
<b>yum&minus;plugin&minus;tsflags</b>,
<b>yum&minus;plugin&minus;upgrade&minus;helper</b>,
<b>yum&minus;plugin&minus;verify</b>,
<b>yum&minus;plugin&minus;versionlock</b></p>

<p style="margin-left:11%; margin-top: 1em">Feel free to
file a <i>RFE</i> for missing functionality if you need
it.</p>

<p style="margin-left:11%; margin-top: 1em">All ported yum
tools are now implemented as DNF plugins.</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-23892.png" alt="Image grohtml-23892.png"></p>

<p style="margin-left:11%; margin-top: 1em">Detailed table
for <b>package&minus;cleanup</b> replacement:</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-23893.png" alt="Image grohtml-23893.png"></p>

<p style="margin-left:11%; margin-top: 1em">Utilities that
have not been ported yet:</p>


<p style="margin-left:11%; margin-top: 1em"><b>repodiff</b>,
<b>repo&minus;rss</b>, <b>show&minus;changed&minus;rco</b>,
<b>show&minus;installed</b>, <b>verifytree</b>,
<b>yum&minus;groups&minus;manager</b></p>

<p style="margin-left:11%; margin-top: 1em">Feel free to
file a <i>RFE</i> for missing functionality if you need
it.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See AUTHORS in
DNF source distribution.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">2012-2014, Red
Hat, Licensed under GPLv2+</p>
<hr>
</body>
</html>
