<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
CREATE_MODULE(2)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CREATE_MODULE(2)</td>
<td class="head-vol">
Linux Programmer's Manual</td>
<td class="head-rtitle">
CREATE_MODULE(2)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> create_module - create a loadable module entry</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;linux/module.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
<b>caddr_t create_module(const char *</b><i>name</i><b>, size_t </b><i>size</i><b>);</b><br/>
<div style="height: 1.00em;">
&#160;</div>
<i>Note</i>: No declaration of this function is provided in glibc headers; see NOTES.</div>
<div class="section">
<h1>DESCRIPTION</h1> <i>Note</i>: This system call is present only in kernels before Linux 2.6.<div style="height: 1.00em;">
&#160;</div>
<b>create_module</b>() attempts to create a loadable module entry and reserve the kernel memory that will be needed to hold the module. This system call requires privilege.</div>
<div class="section">
<h1>RETURN VALUE</h1> On success, returns the kernel address at which the module will reside. On error, -1 is returned and <i>errno</i> is set appropriately.</div>
<div class="section">
<h1>ERRORS</h1><dl>
<dt>
<b>EEXIST</b></dt>
<dd>
A module by that name already exists.</dd>
</dl>
<dl>
<dt>
<b>EFAULT</b></dt>
<dd>
<i>name</i> is outside the program's accessible address space.</dd>
</dl>
<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The requested size is too small even for the module header information.</dd>
</dl>
<dl>
<dt>
<b>ENOMEM</b></dt>
<dd>
The kernel could not allocate a contiguous block of memory large enough for the module.</dd>
</dl>
<dl>
<dt>
<b>ENOSYS</b></dt>
<dd>
<b>create_module</b>() is not supported in this version of the kernel (e.g., the kernel is version 2.6 or later).</dd>
</dl>
<dl>
<dt>
<b>EPERM</b></dt>
<dd>
The caller was not privileged (did not have the <b>CAP_SYS_MODULE</b> capability).</dd>
</dl>
</div>
<div class="section">
<h1>VERSIONS</h1> This system call is present on Linux only up until kernel 2.4; it was removed in Linux 2.6.</div>
<div class="section">
<h1>CONFORMING TO</h1> <b>create_module</b>() is Linux-specific.</div>
<div class="section">
<h1>NOTES</h1> The <b>create_module</b>() system call is not supported by glibc. No declaration is provided in glibc headers, but, through a quirk of history, glibc does export an ABI for this system call. Therefore, in order to employ this system call, it is sufficient to manually declare the interface in your code; alternatively, you can invoke the system call using <b>syscall</b>(2).</div>
<div class="section">
<h1>SEE ALSO</h1> <b>delete_module</b>(2), <b>init_module</b>(2), <b>query_module</b>(2)</div>
<div class="section">
<h1>COLOPHON</h1> This page is part of release 4.02 of the Linux <i>man-pages</i> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at http://www.kernel.org/doc/man-pages/.</div>
<table class="foot">
<tr>
<td class="foot-date">
2014-05-10</td>
<td class="foot-os">
Linux</td>
</tr>
</table>
</div>
</body>
</html>

