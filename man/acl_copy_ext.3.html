<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
ACL_COPY_EXT(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">acl_copy_ext</b> &#8212; <span class="desc">copy an ACL from internal to external representation</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> Linux Access Control Lists library (libacl, -lacl).</div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br/>
<b class="includes">#include &lt;<a class="link-includes">sys/acl.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">ssize_t</i><br/>
<b class="fname">acl_copy_ext</b>(<i class="farg" style="white-space:nowrap;">void *buf_p</i>, <i class="farg" style="white-space:nowrap;">acl_t acl</i>, <i class="farg" style="white-space:nowrap;">ssize_t size</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">acl_copy_ext</b>() function copies the ACL pointed to by <b class="var">acl</b> from system-managed space to the user managed space pointed to by <b class="var">buf_p</b>. The <b class="var">size</b> parameter represents the size in bytes of the buffer pointed to by <b class="var">buf_p</b>. The format of the ACL placed in the buffer pointed to by <b class="var">buf_p</b> is a contiguous, persistent data item, the format of which is unspecified. It is the responsibility of the invoker to allocate an area large enough to hold the copied ACL. The size of the exportable, contiguous, persistent form of the ACL may be obtained by invoking the <b class="fname">acl_size</b>() function.<div class="spacer">
</div>
Any ACL entry descriptors that refer to an entry in the ACL referenced by <b class="var">acl</b> continue to refer to those entries. Any existing ACL pointers that refer to the ACL referenced by <b class="var">acl</b> continue to refer to the ACL.</div>
<div class="section">
<h1 id="x52455455524e2056414c5545">RETURN VALUE</h1> Upon success, this function returns the number of bytes placed in the buffer pointed to by <b class="var">buf_p</b>. On error, a value of <code class="lit">(ssize_t)-1</code> is returned and <b class="var">errno</b> is set appropriately.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> If any of the following conditions occur, the <b class="fname">acl_copy_ext</b>() function returns a value of <code class="lit">(ssize_t)-1</code> and sets <b class="var">errno</b> to the corresponding value:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <b class="var">size</b> parameter is zero or negative.<div class="spacer">
</div>
The argument <b class="var">acl</b> is not a valid pointer to an ACL.<div class="spacer">
</div>
The ACL referenced by <b class="var">acl</b> contains one or more improperly formed ACL entries, or for some other reason cannot be translated into the external form of an ACL.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ERANGE</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <b class="var">size</b> parameter is greater than zero but smaller than the length of the contiguous, persistent form of the ACL.</dd>
</dl>
</div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> IEEE Std 1003.1e draft 17 (&#8220;POSIX.1e&#8221;, abandoned)</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man">acl_copy_int(3)</a>, <a class="link-man">acl_size(3)</a>, <a class="link-man">acl(5)</a></div>
<div class="section">
<h1 id="x415554484f52">AUTHOR</h1> Derived from the FreeBSD manual pages written by <span class="author">Robert N M Watson</span> &#10216;rwatson@FreeBSD.org&#10217;, and adapted for Linux by <span class="author">Andreas Gruenbacher</span> &#10216;a.gruenbacher@bestbits.at&#10217;.</div>
</div>
</body>
</html>

