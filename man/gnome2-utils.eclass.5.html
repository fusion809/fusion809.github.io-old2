<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
GNOME2-UTILS.ECLASS(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GNOME2-UTILS.ECLASS(5)</td>
<td class="head-vol">
portage</td>
<td class="head-rtitle">
GNOME2-UTILS.ECLASS(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> gnome2-utils.eclass - Auxiliary functions commonly used by Gnome packages.</div>
<div class="section">
<h1>DESCRIPTION</h1> This eclass provides a set of auxiliary functions needed by most Gnome packages. It may be used by non-Gnome packages as needed for handling various Gnome stack related functions such as:<br/>
 * Gtk+ icon cache management<br/>
 * GSettings schemas management<br/>
 * GConf schemas management<br/>
 * scrollkeeper (old Gnome help system) management</div>
<div class="section">
<h1>FUNCTIONS</h1><dl>
<dt>
<b>gnome2_environment_reset</b></dt>
<dd>
Reset various variables inherited from root's evironment to a reasonable default for ebuilds to help avoid access violations and test failures.</dd>
</dl>
<dl>
<dt>
<b>gnome2_gconf_savelist</b></dt>
<dd>
Find the GConf schemas that are about to be installed and save their location in the GNOME2_ECLASS_SCHEMAS environment variable. This function should be called from pkg_preinst.</dd>
</dl>
<dl>
<dt>
<b>gnome2_gconf_install</b></dt>
<dd>
Applies any schema files installed by the current ebuild to Gconf's database using gconftool-2. This function should be called from pkg_postinst.</dd>
</dl>
<dl>
<dt>
<b>gnome2_gconf_uninstall</b></dt>
<dd>
Removes schema files previously installed by the current ebuild from Gconf's database.</dd>
</dl>
<dl>
<dt>
<b>gnome2_icon_savelist</b></dt>
<dd>
Find the icons that are about to be installed and save their location in the GNOME2_ECLASS_ICONS environment variable. This function should be called from pkg_preinst.</dd>
</dl>
<dl>
<dt>
<b>gnome2_icon_cache_update</b></dt>
<dd>
Updates Gtk+ icon cache files under /usr/share/icons if the current ebuild have installed anything under that location. This function should be called from pkg_postinst and pkg_postrm.</dd>
</dl>
<dl>
<dt>
<b>gnome2_omf_fix</b></dt>
<dd>
Workaround applied to Makefile rules in order to remove redundant calls to scrollkeeper-update and sandbox violations. This function should be called from src_prepare.</dd>
</dl>
<dl>
<dt>
<b>gnome2_scrollkeeper_savelist</b></dt>
<dd>
Find the scrolls that are about to be installed and save their location in the GNOME2_ECLASS_SCROLLS environment variable. This function should be called from pkg_preinst.</dd>
</dl>
<dl>
<dt>
<b>gnome2_scrollkeeper_update</b></dt>
<dd>
Updates the global scrollkeeper database. This function should be called from pkg_postinst and pkg_postrm.</dd>
</dl>
<dl>
<dt>
<b>gnome2_schemas_savelist</b></dt>
<dd>
Find if there is any GSettings schema to install and save the list in GNOME2_ECLASS_GLIB_SCHEMAS variable. This function should be called from pkg_preinst.</dd>
</dl>
<dl>
<dt>
<b>gnome2_schemas_update</b> gnome2_schemas_update</dt>
<dd>
Updates GSettings schemas if GNOME2_ECLASS_GLIB_SCHEMAS has some. This function should be called from pkg_postinst and pkg_postrm.</dd>
</dl>
<dl>
<dt>
<b>gnome2_gdk_pixbuf_savelist</b></dt>
<dd>
Find if there is any gdk-pixbuf loader to install and save the list in GNOME2_ECLASS_GDK_PIXBUF_LOADERS variable. This function should be called from pkg_preinst.</dd>
</dl>
<dl>
<dt>
<b>gnome2_gdk_pixbuf_update</b> gnome2_gdk_pixbuf_update</dt>
<dd>
Updates gdk-pixbuf loader cache if GNOME2_ECLASS_GDK_PIXBUF_LOADERS has some. This function should be called from pkg_postinst and pkg_postrm.</dd>
</dl>
<dl>
<dt>
<b>gnome2_query_immodules_gtk2</b> gnome2_query_immodules_gtk2</dt>
<dd>
Updates gtk2 immodules/gdk-pixbuf loaders listing.</dd>
</dl>
<dl>
<dt>
<b>gnome2_query_immodules_gtk3</b> gnome2_query_immodules_gtk3</dt>
<dd>
Updates gtk3 immodules/gdk-pixbuf loaders listing.</dd>
</dl>
<dl>
<dt>
<b>gnome2_disable_deprecation_warning</b></dt>
<dd>
Disable deprecation warnings commonly found in glib based packages. Should be called from src_prepare.</dd>
</dl>
</div>
<div class="section">
<h1>MAINTAINERS</h1><br/>
gnome@gentoo.org<br/>
</div>
<div class="section">
<h1>REPORTING BUGS</h1> Please report bugs via http://bugs.gentoo.org/</div>
<div class="section">
<h1>FILES</h1> <b>/usr/portage/eclass/gnome2-utils.eclass</b></div>
<div class="section">
<h1>SEE ALSO</h1> <b>ebuild</b>(5)<br/>
https://gitweb.gentoo.org/repo/gentoo.git/log/eclass/gnome2-utils.eclass<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
Aug 2015</td>
<td class="foot-os">
Portage</td>
</tr>
</table>
</div>
</body>
</html>

