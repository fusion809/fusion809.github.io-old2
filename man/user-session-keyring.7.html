<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
USER SESSION KEYRING(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
USER SESSION KEYRING(7)</td>
<td class="head-vol">
Kernel key management</td>
<td class="head-rtitle">
USER SESSION KEYRING(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> user session keyring - Per-user default session keyring</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>user session keyring</b> is a keyring used to anchor keys on behalf of a user.  Each UID the kernel deals with has its own user session keyring.  This keyring is associated with the record that the kernel maintains for the UID and, once created, is retained as long as that record persists.  It is shared amongst all processes of that UID.<div class="spacer">
</div>
The user session keyring is created on demand when a thread requests it or when a thread asks for its  <b>session keyring</b> and that doesn't exist.  In the latter case, a user session keyring will be created and, if the session keyring wasn't to be created, the user session keyring will be set as the process's actual session keyring.<div class="spacer">
</div>
The user session keyring is searched by <b>request_key</b>() if the actual session keyring does not exist and is ignored otherwise.<div class="spacer">
</div>
A special serial number value, <b>KEY_SPEC_USER_SESSION_KEYRING</b>, is defined that can be used in lieu of the calling process's user session keyring's actual serial number.<div class="spacer">
</div>
From the keyctl utility, '<b>@us</b>' can be used instead of a numeric key ID in much the same way.<div class="spacer">
</div>
User session keyrings are independent of clone(), fork(), vfork(), execve() and exit() excepting that the keyring is destroyed when the UID record is destroyed when the last process pinning it exits.<div class="spacer">
</div>
If a user session keyring does not exist when it is accessed, it will be created.<div class="spacer">
</div>
It is strongly recommended that a <b>session keyring</b> be set explicitly, for example by  <b>pam_keyinit</b>, rather than relying on the user session keyring - particularly if a process is running as root.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>keyctl</b>(1),<div style="height: 0.00em;">
&#160;</div>
<b>keyctl</b>(3),<div style="height: 0.00em;">
&#160;</div>
<b>keyrings</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>process-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>session-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>thread-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>user-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>persistent-keyring</b>(7)</div>
<table class="foot">
<tr>
<td class="foot-date">
20 Feb 2014</td>
<td class="foot-os">
Linux</td>
</tr>
</table>
</div>
</body>
</html>

