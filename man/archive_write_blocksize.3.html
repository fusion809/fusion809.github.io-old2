<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
ARCHIVE_WRITE_BLOCKSIZE(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">archive_write_get_bytes_per_block</b>, <b class="name">archive_write_set_bytes_per_block</b>, <b class="name">archive_write_get_bytes_in_last_block</b>, <b class="name">archive_write_set_bytes_in_last_block</b> &#8212; <span class="desc">functions for creating archives</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> Streaming Archive Library (libarchive, -larchive)</div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">archive.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_write_get_bytes_per_block</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_write_set_bytes_per_block</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>, <i class="farg" style="white-space:nowrap;">int bytes_per_block</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_write_get_bytes_in_last_block</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_write_set_bytes_in_last_block</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>, <i class="farg" style="white-space:nowrap;">int</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">archive_write_set_bytes_per_block</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the block size used for writing the archive data. Every call to the write callback function, except possibly the last one, will use this value for the length. The default is to use a block size of 10240 bytes. Note that a block size of zero will suppress internal blocking and cause writes to be sent directly to the write callback as they occur.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">archive_write_get_bytes_per_block</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Retrieve the block size to be used for writing. A value of -1 here indicates that the library should use default values. A value of zero indicates that internal blocking is suppressed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">archive_write_set_bytes_in_last_block</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the block size used for writing the last block. If this value is zero, the last block will be padded to the same size as the other blocks. Otherwise, the final block will be padded to a multiple of this size. In particular, setting it to 1 will cause the final block to not be padded. For compressed output, any padding generated by this option is applied only after the compression. The uncompressed data is always unpadded. The default is to pad the last block to the full block size (note that <b class="fname">archive_write_open_filename</b>() will set this based on the file type). Unlike the other &#8220;set&#8221; functions, this function can be called after the archive is opened.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">archive_write_get_bytes_in_last_block</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Retrieve the currently-set value for last block size. A value of -1 here indicates that the library should use default values.</dd>
</dl>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">archive_write_set_bytes_per_block</b>() and <b class="fname">archive_write_set_bytes_in_last_block</b>() return <b class="flag">ARCHIVE_OK</b> on success, or <b class="flag">ARCHIVE_FATAL</b>.<div class="spacer">
</div>
<b class="fname">archive_write_get_bytes_per_block</b>() and <b class="fname">archive_write_get_bytes_in_last_block</b>() return currently configured block size (<code class="lit">-1</code> indicates the default block size), or <b class="flag">ARCHIVE_FATAL</b>.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> Detailed error codes and textual descriptions are available from the <b class="fname">archive_errno</b>() and <b class="fname">archive_error_string</b>() functions.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man">tar(1)</a>, <a class="link-man">libarchive(3)</a>, <a class="link-man">archive_write_set_options(3)</a>, <a class="link-man">cpio(5)</a>, <a class="link-man">mtree(5)</a>, <a class="link-man">tar(5)</a></div>
</div>
</body>
</html>

