<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
GETENV(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GETENV(3)</td>
<td class="head-vol">
Linux Programmer's Manual</td>
<td class="head-rtitle">
GETENV(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> getenv, secure_getenv - get an environment variable</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;stdlib.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
<b>char *getenv(const char *</b><i>name</i><b>);</b><div class="spacer">
</div>
<br/>
<b>char *secure_getenv(const char *</b><i>name</i><b>);</b><br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
Feature Test Macro Requirements for glibc (see <b>feature_test_macros</b>(7)):<br/>
<div style="height: 1.00em;">
&#160;</div>
<b>secure_getenv</b>(): _GNU_SOURCE</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>getenv</b>() function searches the environment list to find the environment variable <i>name</i>, and returns a pointer to the corresponding <i>value</i> string.<div style="height: 1.00em;">
&#160;</div>
The GNU-specific <b>secure_getenv</b>() function is just like <b>getenv</b>() except that it returns NULL in cases where &quot;secure execution&quot; is required. Secure execution is required if one of the following conditions was true when the program run by the calling process was loaded:<dl>
<dt>
*</dt>
<dd>
the process's effective user ID did not match its real user ID or the process's effective group ID did not match its real group ID (typically this is the result of executing a set-user-ID or set-group-ID program);</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
the effective capability bit was set on the executable file; or</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
the process has a nonempty permitted capability set.</dd>
</dl>
<div class="spacer">
</div>
Secure execution may also required if triggered by some Linux security modules.<div style="height: 1.00em;">
&#160;</div>
The <b>secure_getenv</b>() function is intended for use in general-purpose libraries to avoid vulnerabilities that could occur if set-user-ID or set-group-ID programs accidentally trusted the environment.</div>
<div class="section">
<h1>RETURN VALUE</h1> The <b>getenv</b>() function returns a pointer to the value in the environment, or NULL if there is no match.</div>
<div class="section">
<h1>VERSIONS</h1> <b>secure_getenv</b>() first appeared in glibc 2.17.</div>
<div class="section">
<h1>ATTRIBUTES</h1> For an explanation of the terms used in this section, see <b>attributes</b>(7).<table class="tbl">
<col style="width: 27.00ex;"/>
<col style="width: 13.00ex;"/>
<col style="width: 5.00ex;"/>
<tbody>
<tr>
<td>
Interface</td>
<td>
Attribute</td>
<td>
Value</td>
</tr>
<tr>
<td>
getenv (), secure_getenv ()</td>
<td>
Thread safety</td>
<td>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1>CONFORMING TO</h1> <b>getenv</b>(): POSIX.1-2001, POSIX.1-2008, C89, C99, SVr4, 4.3BSD.<div style="height: 1.00em;">
&#160;</div>
<b>secure_getenv</b>() is a GNU extension.</div>
<div class="section">
<h1>NOTES</h1> The strings in the environment list are of the form  <i>name=value</i>.<div style="height: 1.00em;">
&#160;</div>
As typically implemented, <b>getenv</b>() returns a pointer to a string within the environment list. The caller must take care not to modify this string, since that would change the environment of the process.<div style="height: 1.00em;">
&#160;</div>
The implementation of <b>getenv</b>() is not required to be reentrant. The string pointed to by the return value of <b>getenv</b>() may be statically allocated, and can be modified by a subsequent call to <b>getenv</b>(), <b>putenv</b>(3), <b>setenv</b>(3), or <b>unsetenv</b>(3).<div style="height: 1.00em;">
&#160;</div>
The &quot;secure execution&quot; mode of <b>secure_getenv</b>() is controlled by the <b>AT_SECURE</b> flag contained in the auxiliary vector passed from the kernel to user space.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>clearenv</b>(3), <b>getauxval</b>(3), <b>putenv</b>(3), <b>setenv</b>(3), <b>unsetenv</b>(3), <b>capabilities</b>(7), <b>environ</b>(7)</div>
<div class="section">
<h1>COLOPHON</h1> This page is part of release 4.02 of the Linux <i>man-pages</i> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at http://www.kernel.org/doc/man-pages/.</div>
<table class="foot">
<tr>
<td class="foot-date">
2015-08-08</td>
<td class="foot-os">
GNU</td>
</tr>
</table>
</div>
</body>
</html>

