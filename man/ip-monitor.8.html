<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
IP-MONITOR(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
IP-MONITOR(8)</td>
<td class="head-vol">
Linux</td>
<td class="head-rtitle">
IP-MONITOR(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ip-monitor, rtmon - state monitoring</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
<b>ip </b> [  <i>ip-OPTIONS</i> ] <b>monitor</b> [ <b>all</b> | <i>OBJECT-LIST</i> ] [ <b>file</b><i> FILENAME </i> ] [ <b>dev</b><i> DEVICE </i> ]<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>-t</b>,<b> -timestamp</b></dt>
<dd>
Prints timestamp before the event message on the separated line in format:<br/>
    Timestamp: &lt;Day&gt; &lt;Month&gt; &lt;DD&gt; &lt;hh:mm:ss&gt; &lt;YYYY&gt; &lt;usecs&gt; usec<br/>
    &lt;EVENT&gt;<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-ts</b>,<b> -tshort</b></dt>
<dd>
Prints short timestamp before the event message on the same line in format:<br/>
    [&lt;YYYY&gt;-&lt;MM&gt;-&lt;DD&gt;T&lt;hh:mm:ss&gt;.&lt;ms&gt;] &lt;EVENT&gt;<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>ip</b> utility can monitor the state of devices, addresses and routes continuously.  This option has a slightly different format. Namely, the <b>monitor</b> command is the first in the command line and then the object list follows:<div style="height: 1.00em;">
&#160;</div>
<b>ip monitor</b> [ <b>all</b> | <i>OBJECT-LIST</i> ] [ <b>file</b><i> FILENAME </i> ] [ <b>dev</b><i> DEVICE </i> ]<div style="height: 1.00em;">
&#160;</div>
<i>OBJECT-LIST</i> is the list of object types that we want to monitor. It may contain <b>link</b>, <b>address</b>, <b>route</b>, <b>mroute</b>, <b>prefix</b>,  <b>neigh</b> and <b>netconf</b>. If no <b>file</b> argument is given, <b>ip</b> opens RTNETLINK, listens on it and dumps state changes in the format described in previous sections.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
If the <b>file</b> option is given, the program does not listen on RTNETLINK, but opens the given file, and dumps its contents. The file should contain RTNETLINK messages saved in binary format. Such a file can be generated with the <b>rtmon</b> utility.  This utility has a command line syntax similar to <b>ip monitor</b>. Ideally, <b>rtmon</b> should be started before the first network configuration command is issued. F.e. if you insert:<div style="height: 1.00em;">
&#160;</div>
<br/>
rtmon file /var/log/rtmon.log<br/>
<div style="height: 1.00em;">
&#160;</div>
in a startup script, you will be able to view the full history later.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Nevertheless, it is possible to start <b>rtmon</b> at any time. It prepends the history with the state snapshot dumped at the moment of starting.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
If the <b>dev</b> option is given, the program prints only events related to this device.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>ip</b>(8)<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Original Manpage by Michail Litvak &lt;mci@owl.openwall.com&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
13 Dec 2012</td>
<td class="foot-os">
iproute2</td>
</tr>
</table>
</div>
</body>
</html>

