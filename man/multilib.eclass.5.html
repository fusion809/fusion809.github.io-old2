<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
MULTILIB.ECLASS(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
MULTILIB.ECLASS(5)</td>
<td class="head-vol">
portage</td>
<td class="head-rtitle">
MULTILIB.ECLASS(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> multilib.eclass - This eclass is for all functions pertaining to handling multilib configurations.</div>
<div class="section">
<h1>DESCRIPTION</h1> This eclass is for all functions pertaining to handling multilib configurations.</div>
<div class="section">
<h1>FUNCTIONS</h1><dl>
<dt>
<b>has_multilib_profile</b></dt>
<dd>
Return true if the current profile is a multilib profile and lists more than one abi in ${MULTILIB_ABIS}.  When has_multilib_profile returns true, that profile should enable the 'multilib' use flag. This is so you can DEPEND on a package only for multilib or not multilib.</dd>
</dl>
<dl>
<dt>
<b>get_libdir</b></dt>
<dd>
This function simply returns the desired lib directory. With portage 2.0.51, we now have support for installing libraries to lib32/lib64 to accomidate the needs of multilib systems. It's no longer a good idea to assume all libraries will end up in lib. Replace any (sane) instances where lib is named directly with $(get_libdir) if possible.<div style="height: 1.00em;">
&#160;</div>
Jeremy Huddleston &lt;eradicator@gentoo.org&gt; (23 Dec 2004):<br/>
  Added support for ${ABI} and ${DEFAULT_ABI}.  If they're both not set,<br/>
  fall back on old behavior.  Any profile that has these set should also<br/>
  depend on a newer version of portage (not yet released) which uses these<br/>
  over CONF_LIBDIR in econf, dolib, etc...<div style="height: 1.00em;">
&#160;</div>
Return value: the libdir for the selected ABI</dd>
</dl>
<dl>
<dt>
<b>get_abi_CFLAGS</b> [ABI]</dt>
<dd>
Alias for 'get_abi_var CFLAGS'</dd>
</dl>
<dl>
<dt>
<b>get_abi_LDFLAGS</b> [ABI]</dt>
<dd>
Alias for 'get_abi_var LDFLAGS'</dd>
</dl>
<dl>
<dt>
<b>get_abi_CHOST</b> [ABI]</dt>
<dd>
Alias for 'get_abi_var CHOST'</dd>
</dl>
<dl>
<dt>
<b>get_abi_CTARGET</b> [ABI]</dt>
<dd>
Alias for 'get_abi_var CTARGET'</dd>
</dl>
<dl>
<dt>
<b>get_abi_FAKE_TARGETS</b> [ABI]</dt>
<dd>
Alias for 'get_abi_var FAKE_TARGETS'</dd>
</dl>
<dl>
<dt>
<b>get_abi_LIBDIR</b> [ABI]</dt>
<dd>
Alias for 'get_abi_var LIBDIR'</dd>
</dl>
<dl>
<dt>
<b>get_install_abis</b></dt>
<dd>
Return a list of the ABIs we want to install for with the last one in the list being the default.</dd>
</dl>
<dl>
<dt>
<b>get_all_abis</b></dt>
<dd>
Return a list of the ABIs supported by this profile. the last one in the list being the default.</dd>
</dl>
<dl>
<dt>
<b>get_all_libdirs</b></dt>
<dd>
Returns a list of all the libdirs used by this profile.  This includes those that might not be touched by the current ebuild and always includes &quot;lib&quot;.</dd>
</dl>
<dl>
<dt>
<b>is_final_abi</b></dt>
<dd>
Return true if ${ABI} is the last ABI on our list (or if we're not using the new multilib configuration.  This can be used to determine if we're in the last (or only) run through src_{unpack,compile,install}</dd>
</dl>
<dl>
<dt>
<b>number_abis</b></dt>
<dd>
echo the number of ABIs we will be installing for</dd>
</dl>
<dl>
<dt>
<b>get_libname</b> [version]</dt>
<dd>
Returns libname with proper suffix {.so,.dylib,.dll,etc} and optionally supplied version for the current platform identified by CHOST.<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
    get_libname ${PV}<br/>
    Returns: .so.${PV} (ELF) || .${PV}.dylib (MACH) || ...</dd>
</dl>
<dl>
<dt>
<b>get_modname</b></dt>
<dd>
Returns modulename with proper suffix {.so,.bundle,etc} for the current platform identified by CHOST.<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
    libfoo$(get_modname)<br/>
    Returns: libfoo.so (ELF) || libfoo.bundle (MACH) || ...</dd>
</dl>
<dl>
<dt>
<b>multilib_toolchain_setup</b></dt>
<dd>
Hide multilib details here for packages which are forced to be compiled for a specific ABI when run on another ABI (like x86-specific packages on amd64)</dd>
</dl>
</div>
<div class="section">
<h1>MAINTAINERS</h1><br/>
amd64@gentoo.org<br/>
toolchain@gentoo.org<br/>
</div>
<div class="section">
<h1>REPORTING BUGS</h1> Please report bugs via http://bugs.gentoo.org/</div>
<div class="section">
<h1>FILES</h1> <b>/usr/portage/eclass/multilib.eclass</b></div>
<div class="section">
<h1>SEE ALSO</h1> <b>ebuild</b>(5)<br/>
https://gitweb.gentoo.org/repo/gentoo.git/log/eclass/multilib.eclass<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
Aug 2015</td>
<td class="foot-os">
Portage</td>
</tr>
</table>
</div>
</body>
</html>

