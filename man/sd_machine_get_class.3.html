<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
SD_MACHINE_GET_CLASS(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SD_MACHINE_GET_CLASS(3)</td>
<td class="head-vol">
sd_machine_get_class</td>
<td class="head-rtitle">
SD_MACHINE_GET_CLASS(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sd_machine_get_class, sd_machine_get_ifindices - Determine the class and network interface indices of a locally running virtual machine or container.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;systemd/sd-login.h&gt;<br/>
<div class="spacer">
</div>
<div style="margin-left: 25.00ex;text-indent: -25.00ex;" class="spacer">
<b>int sd_machine_get_class(const&#160;char*&#160;</b><i>machine</i><b>, char&#160;**</b><i>class</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 29.00ex;text-indent: -29.00ex;" class="spacer">
<b>int sd_machine_get_ifindices(const&#160;char*&#160;</b><i>machine</i><b>, int&#160;**</b><i>ifindices</i><b>);</b></div>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>sd_machine_get_class()</b> may be used to determine the class of a locally running virtual machine or container that is registered with  <b>systemd-machined.service</b>(8). The string returned is either &quot;vm&quot; or &quot;container&quot;. The returned string needs to be freed with the libc  <b>free</b>(3) call after use.<div class="spacer">
</div>
<b>sd_machine_get_ifindices()</b> may be used to determine the numeric indices of the network interfaces on the host that are pointing towards the specified locally running virtual machine or container that is registered with  <b>systemd-machined.service</b>(8). The returned array needs to be freed with the libc  <b>free</b>(3) call after use.</div>
<div class="section">
<h1>RETURN VALUE</h1> On success, these calls return 0 or a positive integer. On failure, these calls return a negative errno-style error code.</div>
<div class="section">
<h1>ERRORS</h1> Returned errors may indicate the following problems:<div class="spacer">
</div>
<b>-ENXIO</b><div style="margin-left: 4.00ex;">
The specified machine does not exist or is currently not running.</div>
<div class="spacer">
</div>
<b>-EINVAL</b><div style="margin-left: 4.00ex;">
An input parameter was invalid (out of range, or NULL, where that's not accepted).</div>
<div class="spacer">
</div>
<b>-ENOMEM</b><div style="margin-left: 4.00ex;">
Memory allocation failed.</div>
</div>
<div class="section">
<h1>NOTES</h1> The  <b>sd_machine_get_class()</b> and  <b>sd_machine_get_ifindices()</b> interfaces are available as a shared library, which can be compiled and linked to with the  <b>libsystemd</b>&#160;<b>pkg-config</b>(1) file.</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>systemd</b>(1),  <b>sd-login</b>(3),  <b>systemd-machined.service</b>(8),  <b>sd_pid_get_machine_name</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
systemd 226</td>
</tr>
</table>
</div>
</body>
</html>

