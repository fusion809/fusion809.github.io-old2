<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
EINFO(3) (smm)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">einfo</b>, <b class="name">ewarn</b>, <b class="name">eerror</b>, <b class="name">ebegin</b>, <b class="name">einfon</b>, <b class="name">ewarnn</b>, <b class="name">eerrorn</b>, <b class="name">ebeginn</b>, <b class="name">einfov</b>, <b class="name">ewarnv</b>, <b class="name">ebeginv</b>, <b class="name">einfovn</b>, <b class="name">ewarnvn</b>, <b class="name">ebeginvn</b>, <b class="name">ewarnx</b>, <b class="name">eerrorx</b>, <b class="name">eend</b>, <b class="name">ewend</b>, <b class="name">eendv</b>, <b class="name">ewendv</b>, <b class="name">ebracket</b>, <b class="name">eindent</b>, <b class="name">eoutdent</b>, <b class="name">eindentv</b>, <b class="name">eoutdentv</b>, <b class="name">eprefix</b> &#8212; <span class="desc">colorful informational output</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> Enhanced Information output library (libeinfo, -leinfo)</div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">einfo.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">einfo</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ewarn</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">eerror</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ebegin</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">einfon</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ewarnn</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">eerrorn</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ebeginn</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">einfov</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ewarnv</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ebeginv</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">einfovn</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ewarnvn</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ebeginvn</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ewarnx</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">eerrorx</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">eend</b>(<i class="farg" style="white-space:nowrap;">int retval</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ewend</b>(<i class="farg" style="white-space:nowrap;">int retval</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">eendv</b>(<i class="farg" style="white-space:nowrap;">int retval</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ewendv</b>(<i class="farg" style="white-space:nowrap;">int retval</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">ebracket</b>(<i class="farg" style="white-space:nowrap;">int col</i>, <i class="farg" style="white-space:nowrap;">ECOLOR color</i>, <i class="farg" style="white-space:nowrap;">const char * restrict msg</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">eindent</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">eoutdent</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">eindentv</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">eoutdentv</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">eprefix</b>(<i class="farg" style="white-space:nowrap;">const char * prefix</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">einfo</b>() family of functions provide a simple informational output that is colorised. Basically <b class="fname">einfo</b>(), <b class="fname">ewarn</b>() and <b class="fname">eerror</b>() behave exactly like <b class="fname">printf</b>() but prefix the output with a colored *. The function called denotes the color used with <b class="fname">einfo</b>() being green, <b class="fname">ewarn</b>() being yellow and <b class="fname">eerror</b>() being red. einfo goes to stdout and the others go to stderr. The number of real characters printed is returned. <b class="fname">ebegin</b>() is identical to <b class="fname">einfo</b>() except that 3 dots are appended to the output.<div class="spacer">
</div>
<b class="fname">einfov</b>(), <b class="fname">ewarnv</b>() and <b class="fname">ebeginv</b>() work the same way to <b class="fname">einfo</b>(), <b class="fname">ewarn</b>(), and <b class="fname">ebegin</b>() respectively, but only work when <b class="var">EINFO_VERBOSE</b> is true. You can also make the <b class="fname">einfo</b>(), <b class="fname">ewarn</b>(), and <b class="fname">ebegin</b>() functions silent by setting <b class="var">EINFO_QUIET</b> to true.<div class="spacer">
</div>
These functions are designed to output a whole line, so they also append a newline to the string. To stop this behaviour, you can use the functions <b class="fname">einfon</b>(), <b class="fname">ewarnn</b>(), <b class="fname">eerrorn</b>(), <b class="fname">einfovn</b>(), <b class="fname">ewarnvn</b>(), and <b class="fname">ebeginvn</b>().<div class="spacer">
</div>
<b class="fname">eend</b>(), <b class="fname">ewend</b>(), <b class="fname">eendv</b>() and <b class="fname">ewendv</b>() are the counterparts to the above functions. If <i class="farg">retval</i> is zero then ok in green is printed in a bracket at the end of the prior line. Otherwise we print the formatted string using <b class="fname">error</b>() (or <b class="fname">ewarn</b>() if <b class="fname">ewend</b>() is called) !! in red (or yellow if <b class="fname">ewend</b>() is called) is printed in a bracket at the end of the line. The value of <i class="farg">retval</i> is returned.<div class="spacer">
</div>
<b class="fname">ebracket</b>() does the same as <b class="fname">eend</b>() but prints <i class="farg">msg</i> instead of ok or !! in the color <i class="farg">color</i> at the column <i class="farg">col</i>.<div class="spacer">
</div>
<b class="fname">eindent</b>() indents subsequent calls to the above functions by 3 characters. <b class="fname">eoutdent</b>() removes an <b class="fname">eindent</b>(). <b class="fname">eindentv</b>() and <b class="fname">eoutdentv</b>() only work when <b class="var">EINFO_VERBOSE</b> is true.<div class="spacer">
</div>
<b class="fname">eprefix</b>() prefixes the string <i class="farg">prefix</i> to the above functions.</div>
<div class="section">
<h1 id="x494d504c454d454e544154494f4e204e4f544553">IMPLEMENTATION NOTES</h1> einfo can optionally be linked against the <span class="lib">Termcap Access Library (libtermcap, -ltermcap)</span> so that we can correctly query the connected console for our color and cursor escape codes. If not, then we have a hard coded list of terminals we know about that support the commonly used codes for color and cursor position.</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1> <b class="var">EINFO_QUIET</b> when set to true makes the <b class="fname">einfo</b>() and <b class="fname">einfon</b>() family of functions quiet, so nothing is printed. <b class="var">EERROR_QUIET</b> when set to true makes the <b class="fname">eerror</b>() and <b class="fname">eerrorn</b>() family of functions quiet, so nothing is printed.<div class="spacer">
</div>
<b class="var">EINFO_VERBOSE</b> when set to true makes the <b class="fname">einfov</b>() and <b class="fname">einfovn</b>() family of functions work, so they do print.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1> <i class="file">/etc/init.d/functions.sh</i> is provided by OpenRC, which allows shell scripts to use the above functions. For historical reasons our verbose functions are prefixed with v instead of suffixed. So einfov becomes veinfo, einfovn becomes veinfon. Rinse and repeat for the other verbose functions.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man">printf(3)</a>,</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Roy Marples &lt;roy@marples.name&gt;</span></div>
</div>
</body>
</html>

