<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
TAR(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">tar</b> &#8212; <span class="desc">manipulate tape archives</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 3.00ex;"/>
<col/>
<tbody>
<tr>
<td>
tar</td>
<td>
[<span class="opt"><i class="arg">bundled-flags</i> &#10216;args&#10217;</span>] [<span class="opt">&#10216;<i class="arg">file</i>&#10217; | &#10216;<i class="arg">pattern</i>&#10217; ...</span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 3.00ex;"/>
<col/>
<tbody>
<tr>
<td>
tar</td>
<td>
{<b class="flag">-c</b>} [<span class="opt"><i class="arg">options</i></span>] [<span class="opt"><i class="arg">files</i> | <i class="arg">directories</i></span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 3.00ex;"/>
<col/>
<tbody>
<tr>
<td>
tar</td>
<td>
{<b class="flag">-r</b> | <b class="flag">-u</b>} <b class="flag">-f</b> <i class="arg">archive-file</i> [<span class="opt"><i class="arg">options</i></span>] [<span class="opt"><i class="arg">files</i> | <i class="arg">directories</i></span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 3.00ex;"/>
<col/>
<tbody>
<tr>
<td>
tar</td>
<td>
{<b class="flag">-t</b> | <b class="flag">-x</b>} [<span class="opt"><i class="arg">options</i></span>] [<span class="opt"><i class="arg">patterns</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">tar</b> creates and manipulates streaming archive files. This implementation can extract from tar, pax, cpio, zip, jar, ar, xar, rpm, 7-zip, and ISO 9660 cdrom images and can create tar, pax, cpio, ar, zip, 7-zip, and shar archives.<div class="spacer">
</div>
The first synopsis form shows a &#8220;bundled&#8221; option word. This usage is provided for compatibility with historical implementations. See COMPATIBILITY below for details.<div class="spacer">
</div>
The other synopsis forms show the preferred usage. The first option to <b class="name">tar</b> is a mode indicator from the following list:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">-c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Create a new archive containing the specified items. The long option form is <b class="flag">-</b><b class="flag">-create</b>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">-r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">-c</b>, but new entries are appended to the archive. Note that this only works on uncompressed archives stored in regular files. The <b class="flag">-f</b> option is required. The long option form is <b class="flag">-</b><b class="flag">-append</b>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">-t</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List archive contents to stdout. The long option form is <b class="flag">-</b><b class="flag">-list</b>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">-u</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">-r</b>, but new entries are added only if they have a modification date newer than the corresponding entry in the archive. Note that this only works on uncompressed archives stored in regular files. The <b class="flag">-f</b> option is required. The long form is <b class="flag">-</b><b class="flag">-update</b>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">-x</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Extract to disk from the archive. If a file with the same name appears more than once in the archive, each copy will be extracted, with later copies overwriting (replacing) earlier copies. The long option form is <b class="flag">-</b><b class="flag">-extract</b>.</dd>
</dl>
<div class="spacer">
</div>
In <b class="flag">-c</b>, <b class="flag">-r</b>, or <b class="flag">-u</b> mode, each specified file or directory is added to the archive in the order specified on the command line. By default, the contents of each directory are also archived.<div class="spacer">
</div>
In extract or list mode, the entire command line is read and parsed before the archive is opened. The pathnames or patterns on the command line indicate which items in the archive should be processed. Patterns are shell-style globbing patterns as documented in <a class="link-man">tcsh(1)</a>.</div>
<div class="section">
<h1 id="x4f5054494f4e53">OPTIONS</h1> Unless specifically stated otherwise, options are applicable in all operating modes.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">@</b><i class="file">archive</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c and r mode only) The specified archive is opened and the entries in it will be appended to the current archive. As a simple example,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-c</b> <b class="flag">-f</b> <i class="file">-</i> <i class="file">newfile</i> <b class="flag">@</b><i class="file">original.tar</i></code></div>
</blockquote>
writes a new archive to standard output containing a file <i class="file">newfile</i> and all of the entries from <i class="file">original.tar</i>. In contrast,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-c</b> <b class="flag">-f</b> <i class="file">-</i> <i class="file">newfile</i> <i class="file">original.tar</i></code></div>
</blockquote>
creates a new archive with only two entries. Similarly,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-czf</b> <i class="file">-</i> <b class="flag">-</b><b class="flag">-format</b> <b class="flag">pax</b> <b class="flag">@</b><i class="file">-</i></code></div>
</blockquote>
reads an archive from standard input (whose format will be determined automatically) and converts it into a gzip-compressed pax-format archive on stdout. In this way, <b class="name">tar</b> can be used to convert archives from one format to another.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-a</b>, <b class="flag">-</b><b class="flag">-auto-compress</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Use the archive suffix to decide a set of the format and the compressions. As a simple example,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-a</b> <b class="flag">-cf</b> <i class="file">archive.tgz source.c source.h</i></code></div>
</blockquote>
creates a new archive with restricted pax format and gzip compression,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-a</b> <b class="flag">-cf</b> <i class="file">archive.tar.bz2.uu source.c source.h</i></code></div>
</blockquote>
creates a new archive with restricted pax format and bzip2 compression and uuencode compression,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-a</b> <b class="flag">-cf</b> <i class="file">archive.zip source.c source.h</i></code></div>
</blockquote>
creates a new archive with zip format,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-a</b> <b class="flag">-jcf</b> <i class="file">archive.tgz source.c source.h</i></code></div>
</blockquote>
ignores the &#8220;-j&#8221; option, and creates a new archive with restricted pax format and gzip compression,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-a</b> <b class="flag">-jcf</b> <i class="file">archive.xxx source.c source.h</i></code></div>
</blockquote>
if it is unknown suffix or no suffix, creates a new archive with restricted pax format and bzip2 compression.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-B</b>, <b class="flag">-</b><b class="flag">-read-full-blocks</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Ignored for compatibility with other <a class="link-man">tar(1)</a> implementations.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b> <i class="arg">blocksize</i>, <b class="flag">-</b><b class="flag">-block-size</b> <i class="arg">blocksize</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the block size, in 512-byte records, for tape drive I/O. As a rule, this argument is only needed when reading from or writing to tape drives, and usually not even then as the default block size of 20 records (10240 bytes) is very common.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-C</b> <i class="arg">directory</i>, <b class="flag">-</b><b class="flag">-cd</b> <i class="arg">directory</i>, <b class="flag">-</b><b class="flag">-directory</b> <i class="arg">directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
In c and r mode, this changes the directory before adding the following files. In x mode, change directories after opening the archive but before extracting entries from the archive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-chroot</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) <b class="fname">chroot</b>() to the current directory after processing any <b class="flag">-C</b> options and before extracting any files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-disable-copyfile</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Mac OS X specific. Disable the use of <a class="link-man">copyfile(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-exclude</b> <i class="arg">pattern</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not process files or directories that match the specified pattern. Note that exclusions take precedence over patterns or filenames specified on the command line.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-format</b> <i class="arg">format</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u mode only) Use the specified format for the created archive. Supported formats include &#8220;cpio&#8221;, &#8220;pax&#8221;, &#8220;shar&#8221;, and &#8220;ustar&#8221;. Other formats may also be supported; see <a class="link-man">libarchive-formats(5)</a> for more information about currently-supported formats. In r and u modes, when extending an existing archive, the format specified here must be compatible with the format of the existing archive on disk.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">file</i>, <b class="flag">-</b><b class="flag">-file</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Read the archive from or write the archive to the specified file. The filename can be <i class="file">-</i> for standard input or standard output. The default varies by system; on <span class="unix">FreeBSD</span>, the default is <i class="file">/dev/sa0</i>; on Linux, the default is <i class="file">/dev/st0</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-gid</b> <i class="arg">id</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the provided group id number. On extract, this overrides the group id in the archive; the group name in the archive will be ignored. On create, this overrides the group id read from disk; if <b class="flag">-</b><b class="flag">-gname</b> is not also specified, the group name will be set to match the group id.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-gname</b> <i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the provided group name. On extract, this overrides the group name in the archive; if the provided group name does not exist on the system, the group id (from the archive or from the <b class="flag">-</b><b class="flag">-gid</b> option) will be used instead. On create, this sets the group name that will be stored in the archive; the name will not be verified against the system group database.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-H</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c and r mode only) Symbolic links named on the command line will be followed; the target of the link will be archived, not the link itself.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-h</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c and r mode only) Synonym for <b class="flag">-L</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-I</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Synonym for <b class="flag">-T</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-help</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Show usage.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-hfsCompression</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Mac OS X specific(v10.6 or later). Compress extracted regular files with HFS+ compression.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-include</b> <i class="arg">pattern</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Process only files or directories that match the specified pattern. Note that exclusions specified with <b class="flag">-</b><b class="flag">-exclude</b> take precedence over inclusions. If no inclusions are explicitly specified, all entries are processed by default. The <b class="flag">-</b><b class="flag">-include</b> option is especially useful when filtering archives. For example, the command<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-c</b> <b class="flag">-f</b> <i class="file">new.tar</i> <b class="flag">-</b><b class="flag">-include='*foo*'</b> <b class="flag">@</b><i class="file">old.tgz</i></code></div>
</blockquote>
creates a new archive <i class="file">new.tar</i> containing only the entries from <i class="file">old.tgz</i> containing the string &#8216;foo&#8217;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-J</b>, <b class="flag">-</b><b class="flag">-xz</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Compress the resulting archive with <a class="link-man">xz(1)</a>. In extract or list modes, this option is ignored. Note that, unlike other <b class="name">tar</b> implementations, this implementation recognizes XZ compression automatically when reading archives.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-j</b>, <b class="flag">-</b><b class="flag">-bzip</b>, <b class="flag">-</b><b class="flag">-bzip2</b>, <b class="flag">-</b><b class="flag">-bunzip2</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Compress the resulting archive with <a class="link-man">bzip2(1)</a>. In extract or list modes, this option is ignored. Note that, unlike other <b class="name">tar</b> implementations, this implementation recognizes bzip2 compression automatically when reading archives.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b>, <b class="flag">-</b><b class="flag">-keep-old-files</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Do not overwrite existing files. In particular, if a file appears more than once in an archive, later copies will not overwrite earlier copies.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-keep-newer-files</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Do not overwrite existing files that are newer than the versions appearing in the archive being extracted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b>, <b class="flag">-</b><b class="flag">-dereference</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c and r mode only) All symbolic links will be followed. Normally, symbolic links are archived as such. With this option, the target of the link will be archived instead.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b>, <b class="flag">-</b><b class="flag">-check-links</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c and r modes only) Issue a warning message unless all links to each file are archived.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-lrzip</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Compress the resulting archive with <a class="link-man">lrzip(1)</a>. In extract or list modes, this option is ignored.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-lzma</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Compress the resulting archive with the original LZMA algorithm. Use of this option is discouraged and new archives should be created with <b class="flag">-</b><b class="flag">-xz</b> instead. Note that, unlike other <b class="name">tar</b> implementations, this implementation recognizes LZMA compression automatically when reading archives.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-lzop</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Compress the resulting archive with <a class="link-man">lzop(1)</a>. In extract or list modes, this option is ignored.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b>, <b class="flag">-</b><b class="flag">-modification-time</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Do not extract modification time. By default, the modification time is set to the time stored in the archive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b>, <b class="flag">-</b><b class="flag">-norecurse</b>, <b class="flag">-</b><b class="flag">-no-recursion</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Do not recursively archive the contents of directories.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-newer</b> <i class="arg">date</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Only include files and directories newer than the specified date. This compares ctime entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-newer-mtime</b> <i class="arg">date</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Like <b class="flag">-</b><b class="flag">-newer</b>, except it compares mtime entries instead of ctime entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-newer-than</b> <i class="file">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Only include files and directories newer than the specified file. This compares ctime entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-newer-mtime-than</b> <i class="file">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Like <b class="flag">-</b><b class="flag">-newer-than</b>, except it compares mtime entries instead of ctime entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-nodump</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c and r modes only) Honor the nodump file flag by skipping this file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-nopreserveHFSCompression</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Mac OS X specific(v10.6 or later). Do not compress extracted regular files which were compressed with HFS+ compression before archived. By default, compress the regular files again with HFS+ compression.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-null</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(use with <b class="flag">-I</b> or <b class="flag">-T</b>) Filenames or patterns are separated by null characters, not by newlines. This is often used to read filenames output by the <b class="flag">-print0</b> option to <a class="link-man">find(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-no-same-owner</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Do not extract owner and group IDs. This is the reverse of <b class="flag">-</b><b class="flag">-same-owner</b> and the default behavior if <b class="name">tar</b> is run as non-root.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-no-same-permissions</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Do not extract full permissions (SGID, SUID, sticky bit, ACLs, extended attributes or extended file flags). This is the reverse of <b class="flag">-p</b> and the default behavior if <b class="name">tar</b> is run as non-root.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-numeric-owner</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This is equivalent to <b class="flag">-</b><b class="flag">-uname</b> &#8220;&#8221; <b class="flag">-</b><b class="flag">-gname</b> &#8220;&#8221;. On extract, it causes user and group names in the archive to be ignored in favor of the numeric user and group ids. On create, it causes user and group names to not be stored in the archive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-O</b>, <b class="flag">-</b><b class="flag">-to-stdout</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x, t modes only) In extract (-x) mode, files will be written to standard out rather than being extracted to disk. In list (-t) mode, the file listing will be written to stderr rather than the usual stdout.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode) Use the user and group of the user running the program rather than those specified in the archive. Note that this has no significance unless <b class="flag">-p</b> is specified, and the program is being run by the root user. In this case, the file modes and flags from the archive will be restored, but ACLs or owner information in the archive will be discarded.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u mode) A synonym for <b class="flag">-</b><b class="flag">-format</b> <i class="arg">ustar</i></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-older</b> <i class="arg">date</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Only include files and directories older than the specified date. This compares ctime entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-older-mtime</b> <i class="arg">date</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Like <b class="flag">-</b><b class="flag">-older</b>, except it compares mtime entries instead of ctime entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-older-than</b> <i class="file">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Only include files and directories older than the specified file. This compares ctime entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-older-mtime-than</b> <i class="file">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u modes only) Like <b class="flag">-</b><b class="flag">-older-than</b>, except it compares mtime entries instead of ctime entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-one-file-system</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, and u modes) Do not cross mount points.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-options</b> <i class="arg">options</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Select optional behaviors for particular modules. The argument is a text string containing comma-separated keywords and values. These are passed to the modules that handle particular formats to control how those formats will behave. Each option has one of the following forms:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">key=value</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The key will be set to the specified value in every module that supports it. Modules that do not support this key will ignore it.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">key</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The key will be enabled in every module that supports it. This is equivalent to <i class="arg">key</i><b class="flag">=1</b>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">!key</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The key will be disabled in every module that supports it.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">module:key=value</i>, <i class="arg">module:key</i>, <i class="arg">module:!key</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
As above, but the corresponding key and value will be provided only to modules whose name matches <i class="arg">module</i>.</dd>
</dl>
The currently supported modules and keys are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">iso9660:joliet</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Support Joliet extensions. This is enabled by default, use <b class="flag">!joliet</b> or <b class="flag">iso9660:!joliet</b> to disable.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">iso9660:rockridge</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Support Rock Ridge extensions. This is enabled by default, use <b class="flag">!rockridge</b> or <b class="flag">iso9660:!rockridge</b> to disable.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">gzip:compression-level</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A decimal integer from 1 to 9 specifying the gzip compression level.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">gzip:timestamp</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Store timestamp. This is enabled by default, use <b class="flag">!timestamp</b> or <b class="flag">gzip:!timestamp</b> to disable.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">lrzip:compression</b>=<i class="arg">type</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">type</i> as compression method. Supported values are bzip2, gzip, lzo (ultra fast), and zpaq (best, extremely slow).</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">lrzip:compression-level</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A decimal integer from 1 to 9 specifying the lrzip compression level.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">lzop:compression-level</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A decimal integer from 1 to 9 specifying the lzop compression level.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">xz:compression-level</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A decimal integer from 0 to 9 specifying the xz compression level.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">mtree:</b><i class="arg">keyword</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The mtree writer module allows you to specify which mtree keywords will be included in the output. Supported keywords include: <b class="flag">cksum</b>, <b class="flag">device</b>, <b class="flag">flags</b>, <b class="flag">gid</b>, <b class="flag">gname</b>, <b class="flag">indent</b>, <b class="flag">link</b>, <b class="flag">md5</b>, <b class="flag">mode</b>, <b class="flag">nlink</b>, <b class="flag">rmd160</b>, <b class="flag">sha1</b>, <b class="flag">sha256</b>, <b class="flag">sha384</b>, <b class="flag">sha512</b>, <b class="flag">size</b>, <b class="flag">time</b>, <b class="flag">uid</b>, <b class="flag">uname</b>. The default is equivalent to: &#8220;device, flags, gid, gname, link, mode, nlink, size, time, type, uid, uname&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">mtree:all</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enables all of the above keywords. You can also use <b class="flag">mtree:!all</b> to disable all keywords.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">mtree:use-set</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enable generation of <b class="flag">/set</b> lines in the output.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">mtree:indent</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Produce human-readable output by indenting options and splitting lines to fit into 80 columns.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">zip:compression</b>=<i class="arg">type</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">type</i> as compression method. Supported values are store (uncompressed) and deflate (gzip algorithm).</dd>
</dl>
If a provided option is not supported by any module, that is a fatal error.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-P</b>, <b class="flag">-</b><b class="flag">-absolute-paths</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Preserve pathnames. By default, absolute pathnames (those that begin with a / character) have the leading slash removed both when creating archives and extracting from them. Also, <b class="name">tar</b> will refuse to extract archive entries whose pathnames contain <i class="file">..</i> or whose target directory would be altered by a symlink. This option suppresses these behaviors.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-p</b>, <b class="flag">-</b><b class="flag">-insecure</b>, <b class="flag">-</b><b class="flag">-preserve-permissions</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Preserve file permissions. Attempt to restore the full permissions, including owner, file modes, file flags and ACLs, if available, for each item extracted from the archive. This is the default, if <b class="name">tar</b> is being run by root and can be overridden by also specifying <b class="flag">-</b><b class="flag">-no-same-owner</b> and <b class="flag">-</b><b class="flag">-no-same-permissions</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-posix</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u mode only) Synonym for <b class="flag">-</b><b class="flag">-format</b> <i class="arg">pax</i></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b>, <b class="flag">-</b><b class="flag">-fast-read</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x and t mode only) Extract or list only the first archive entry that matches each pattern or filename operand. Exit as soon as each specified pattern or filename has been matched. By default, the archive is always read to the very end, since there can be multiple entries with the same name and, by convention, later entries overwrite earlier entries. This option is provided as a performance optimization.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-S</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Extract files as sparse files. For every block on disk, check first if it contains only NULL bytes and seek over it otherwise. This works similar to the conv=sparse option of dd.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b> <i class="arg">pattern</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Modify file or archive member names according to <i class="file">pattern</i>. The pattern has the format <i class="arg">/old/new/</i>[<span class="opt">ghHprRsS</span>] where <i class="arg">old</i> is a basic regular expression, <i class="arg">new</i> is the replacement string of the matched part, and the optional trailing letters modify how the replacement is handled. If <i class="arg">old</i> is not matched, the pattern is skipped. Within <i class="arg">new</i>, ~ is substituted with the match, \1 to \9 with the content of the corresponding captured group. The optional trailing g specifies that matching should continue after the matched part and stop on the first unmatched pattern. The optional trailing s specifies that the pattern applies to the value of symbolic links. The optional trailing p specifies that after a successful substitution the original path name and the new path name should be printed to standard error. Optional trailing H, R, or S characters suppress substitutions for hardlink targets, regular filenames, or symlink targets, respectively. Optional trailing h, r, or s characters enable substitutions for hardlink targets, regular filenames, or symlink targets, respectively. The default is <i class="arg">hrs</i> which applies substitutions to all names. In particular, it is never necessary to specify h, r, or s.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-same-owner</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Extract owner and group IDs. This is the reverse of <b class="flag">-</b><b class="flag">-no-same-owner</b> and the default behavior if <b class="name">tar</b> is run as root.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-strip-components</b> <i class="arg">count</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Remove the specified number of leading path elements. Pathnames with fewer elements will be silently skipped. Note that the pathname is edited after checking inclusion/exclusion patterns but before security checks.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-T</b> <i class="arg">filename</i>, <b class="flag">-</b><b class="flag">-files-from</b> <i class="arg">filename</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
In x or t mode, <b class="name">tar</b> will read the list of names to be extracted from <i class="file">filename</i>. In c mode, <b class="name">tar</b> will read names to be archived from <i class="file">filename</i>. The special name &#8220;-C&#8221; on a line by itself will cause the current directory to be changed to the directory specified on the following line. Names are terminated by newlines unless <b class="flag">-</b><b class="flag">-null</b> is specified. Note that <b class="flag">-</b><b class="flag">-null</b> also disables the special handling of lines containing &#8220;-C&#8221;. Note:  If you are generating lists of files using <a class="link-man">find(1)</a>, you probably want to use <b class="flag">-n</b> as well.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-totals</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c, r, u mode only) After archiving all files, print a summary to stderr.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-U</b>, <b class="flag">-</b><b class="flag">-unlink</b>, <b class="flag">-</b><b class="flag">-unlink-first</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(x mode only) Unlink files before creating them. This can be a minor performance optimization if most files already exist, but can make things slower if most files do not already exist. This flag also causes <b class="name">tar</b> to remove intervening directory symlinks instead of reporting an error. See the SECURITY section below for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-uid</b> <i class="arg">id</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the provided user id number and ignore the user name from the archive. On create, if <b class="flag">-</b><b class="flag">-uname</b> is not also specified, the user name will be set to match the user id.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-uname</b> <i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the provided user name. On extract, this overrides the user name in the archive; if the provided user name does not exist on the system, it will be ignored and the user id (from the archive or from the <b class="flag">-</b><b class="flag">-uid</b> option) will be used instead. On create, this sets the user name that will be stored in the archive; the name is not verified against the system user database.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-use-compress-program</b> <i class="arg">program</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Pipe the input (in x or t mode) or the output (in c mode) through <i class="file">program</i> instead of using the builtin compression support.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b>, <b class="flag">-</b><b class="flag">-verbose</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Produce verbose output. In create and extract modes, <b class="name">tar</b> will list each file name as it is read from or written to the archive. In list mode, <b class="name">tar</b> will produce output similar to that of <a class="link-man">ls(1)</a>. Additional <b class="flag">-v</b> options will provide additional detail.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b><b class="flag">-version</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print version of <b class="name">tar</b> and <b class="name">libarchive</b>, and exit.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-w</b>, <b class="flag">-</b><b class="flag">-confirmation</b>, <b class="flag">-</b><b class="flag">-interactive</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Ask for confirmation for every action.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-X</b> <i class="arg">filename</i>, <b class="flag">-</b><b class="flag">-exclude-from</b> <i class="arg">filename</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Read a list of exclusion patterns from the specified file. See <b class="flag">-</b><b class="flag">-exclude</b> for more information about the handling of exclusions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-y</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Compress the resulting archive with <a class="link-man">bzip2(1)</a>. In extract or list modes, this option is ignored. Note that, unlike other <b class="name">tar</b> implementations, this implementation recognizes bzip2 compression automatically when reading archives.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-Z</b>, <b class="flag">-</b><b class="flag">-compress</b>, <b class="flag">-</b><b class="flag">-uncompress</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Compress the resulting archive with <a class="link-man">compress(1)</a>. In extract or list modes, this option is ignored. Note that, unlike other <b class="name">tar</b> implementations, this implementation recognizes compress compression automatically when reading archives.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-z</b>, <b class="flag">-</b><b class="flag">-gunzip</b>, <b class="flag">-</b><b class="flag">-gzip</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(c mode only) Compress the resulting archive with <a class="link-man">gzip(1)</a>. In extract or list modes, this option is ignored. Note that, unlike other <b class="name">tar</b> implementations, this implementation recognizes gzip compression automatically when reading archives.</dd>
</dl>
</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1> The following environment variables affect the execution of <b class="name">tar</b>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TAR_READER_OPTIONS</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
The default options for format readers and compression readers. The <b class="flag">-</b><b class="flag">-options</b> option overrides this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TAR_WRITER_OPTIONS</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
The default options for format writers and compression writers. The <b class="flag">-</b><b class="flag">-options</b> option overrides this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">LANG</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
The locale to use. See <a class="link-man">environ(7)</a> for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TAPE</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
The default device. The <b class="flag">-f</b> option overrides this. Please see the description of the <b class="flag">-f</b> option above for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TZ</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
The timezone to use when displaying dates. See <a class="link-man">environ(7)</a> for more information.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">tar</b> utility exits&#160;0 on success, and&#160;&gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The following creates a new archive called <i class="arg">file.tar.gz</i> that contains two files <i class="arg">source.c</i> and <i class="arg">source.h</i>:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-czf</b> <i class="file">file.tar.gz</i> <i class="file">source.c</i> <i class="file">source.h</i></code></div>
</blockquote>
<div class="spacer">
</div>
To view a detailed table of contents for this archive:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-tvf</b> <i class="file">file.tar.gz</i></code></div>
</blockquote>
<div class="spacer">
</div>
To extract all entries from the archive on the default tape drive:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-x</b></code></div>
</blockquote>
<div class="spacer">
</div>
To examine the contents of an ISO 9660 cdrom image:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-tf</b> <i class="file">image.iso</i></code></div>
</blockquote>
<div class="spacer">
</div>
To move file hierarchies, invoke <b class="name">tar</b> as<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-cf</b> <i class="file">-</i> <b class="flag">-C</b> <i class="file">srcdir&#160;.</i> | <b class="name">tar</b> <b class="flag">-xpf</b> <i class="file">-</i> <b class="flag">-C</b> <i class="file">destdir</i></code></div>
</blockquote>
or more traditionally<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">cd srcdir ; <b class="name">tar</b> <b class="flag">-cf</b> <i class="file">-&#160;.</i> | (<i class="file">cd destdir ;</i> <b class="name">tar</b> <b class="flag">-xpf</b> <i class="file">-</i>)</code></div>
</blockquote>
<div class="spacer">
</div>
In create mode, the list of files and directories to be archived can also include directory change instructions of the form <b class="flag">-C</b><i class="file">foo/baz</i> and archive inclusions of the form <b class="flag">@</b><i class="file">archive-file</i>. For example, the command line<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-c</b> <b class="flag">-f</b> <i class="file">new.tar</i> <i class="file">foo1</i> <b class="flag">@</b><i class="file">old.tgz</i> <b class="flag">-C</b><i class="file">/tmp</i> <i class="file">foo2</i></code></div>
</blockquote>
will create a new archive <i class="file">new.tar</i>. <b class="name">tar</b> will read the file <i class="file">foo1</i> from the current directory and add it to the output archive. It will then read each entry from <i class="file">old.tgz</i> and add those entries to the output archive. Finally, it will switch to the <i class="file">/tmp</i> directory and add <i class="file">foo2</i> to the output archive.<div class="spacer">
</div>
An input file in <a class="link-man">mtree(5)</a> format can be used to create an output archive with arbitrary ownership, permissions, or names that differ from existing data on disk:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ cat input.mtree</code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">#mtree</code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">usr/bin uid=0 gid=0 mode=0755 type=dir</code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">usr/bin/ls uid=0 gid=0 mode=0755 type=file content=myls</code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ tar -cvf output.tar @input.mtree</code></div>
</blockquote>
<div class="spacer">
</div>
The <b class="flag">-</b><b class="flag">-newer</b> and <b class="flag">-</b><b class="flag">-newer-mtime</b> switches accept a variety of common date and time specifications, including &#8220;12 Mar 2005 7:14:29pm&#8221;, &#8220;2005-03-12 19:14&#8221;, &#8220;5 minutes ago&#8221;, and &#8220;19:14 PST May 1&#8221;.<div class="spacer">
</div>
The <b class="flag">-</b><b class="flag">-options</b> argument can be used to control various details of archive generation or reading. For example, you can generate mtree output which only contains <b class="flag">type</b>, <b class="flag">time</b>, and <b class="flag">uid</b> keywords:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-cf</b> <i class="file">file.tar</i> <b class="flag">-</b><b class="flag">-format=mtree</b> <b class="flag">-</b><b class="flag">-options='!all,type,time,uid'</b> <i class="file">dir</i></code></div>
</blockquote>
or you can set the compression level used by gzip or xz compression:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-czf</b> <i class="file">file.tar</i> <b class="flag">-</b><b class="flag">-options='compression-level=9'</b>.</code></div>
</blockquote>
For more details, see the explanation of the <b class="fname">archive_read_set_options</b>() and <b class="fname">archive_write_set_options</b>() API calls that are described in <a class="link-man">archive_read(3)</a> and <a class="link-man">archive_write(3)</a>.</div>
<div class="section">
<h1 id="x434f4d5041544942494c495459">COMPATIBILITY</h1> The bundled-arguments format is supported for compatibility with historic implementations. It consists of an initial word (with no leading - character) in which each character indicates an option. Arguments follow as separate words. The order of the arguments must match the order of the corresponding characters in the bundled command word. For example,<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">tbf 32</b> <i class="file">file.tar</i></code></div>
</blockquote>
specifies three flags <b class="flag">t</b>, <b class="flag">b</b>, and <b class="flag">f</b>. The <b class="flag">b</b> and <b class="flag">f</b> flags both require arguments, so there must be two additional items on the command line. The <i class="arg">32</i> is the argument to the <b class="flag">b</b> flag, and <i class="arg">file.tar</i> is the argument to the <b class="flag">f</b> flag.<div class="spacer">
</div>
The mode options c, r, t, u, and x and the options b, f, l, m, o, v, and w comply with SUSv2.<div class="spacer">
</div>
For maximum portability, scripts that invoke <b class="name">tar</b> should use the bundled-argument format above, should limit themselves to the <b class="flag">c</b>, <b class="flag">t</b>, and <b class="flag">x</b> modes, and the <b class="flag">b</b>, <b class="flag">f</b>, <b class="flag">m</b>, <b class="flag">v</b>, and <b class="flag">w</b> options.<div class="spacer">
</div>
Additional long options are provided to improve compatibility with other tar implementations.</div>
<div class="section">
<h1 id="x5345435552495459">SECURITY</h1> Certain security issues are common to many archiving programs, including <b class="name">tar</b>. In particular, carefully-crafted archives can request that <b class="name">tar</b> extract files to locations outside of the target directory. This can potentially be used to cause unwitting users to overwrite files they did not intend to overwrite. If the archive is being extracted by the superuser, any file on the system can potentially be overwritten. There are three ways this can happen. Although <b class="name">tar</b> has mechanisms to protect against each one, savvy users should be aware of the implications:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
Archive entries can have absolute pathnames. By default, <b class="name">tar</b> removes the leading <i class="file">/</i> character from filenames before restoring them to guard against this problem.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Archive entries can have pathnames that include <i class="file">..</i> components. By default, <b class="name">tar</b> will not extract files containing <i class="file">..</i> components in their pathname.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Archive entries can exploit symbolic links to restore files to other directories. An archive can restore a symbolic link to another directory, then use that link to restore a file into that directory. To guard against this, <b class="name">tar</b> checks each extracted path for symlinks. If the final path element is a symlink, it will be removed and replaced with the archive entry. If <b class="flag">-U</b> is specified, any intermediate symlink will also be unconditionally removed. If neither <b class="flag">-U</b> nor <b class="flag">-P</b> is specified, <b class="name">tar</b> will refuse to extract the entry.</li>
</ul>
To protect yourself, you should be wary of any archives that come from untrusted sources. You should examine the contents of an archive with<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-tf</b> <i class="file">filename</i></code></div>
</blockquote>
before extraction. You should use the <b class="flag">-k</b> option to ensure that <b class="name">tar</b> will not overwrite any existing files or the <b class="flag">-U</b> option to remove any pre-existing files. You should generally not extract archives while running with super-user privileges. Note that the <b class="flag">-P</b> option to <b class="name">tar</b> disables the security checks above and allows you to extract an archive while preserving any absolute pathnames, <i class="file">..</i> components, or symlinks to other directories.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man">bzip2(1)</a>, <a class="link-man">compress(1)</a>, <a class="link-man">cpio(1)</a>, <a class="link-man">gzip(1)</a>, <a class="link-man">mt(1)</a>, <a class="link-man">pax(1)</a>, <a class="link-man">shar(1)</a>, <a class="link-man">xz(1)</a>, <a class="link-man">libarchive(3)</a>, <a class="link-man">libarchive-formats(5)</a>, <a class="link-man">tar(5)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> There is no current POSIX standard for the tar command; it appeared in ISO/IEC 9945-1:1996 (&#8220;POSIX.1&#8221;) but was dropped from IEEE Std 1003.1-2001 (&#8220;POSIX.1&#8221;). The options supported by this implementation were developed by surveying a number of existing tar implementations as well as the old POSIX specification for tar and the current POSIX specification for pax.<div class="spacer">
</div>
The ustar and pax interchange file formats are defined by IEEE Std 1003.1-2001 (&#8220;POSIX.1&#8221;) for the pax command.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">tar</b> command appeared in Seventh Edition Unix, which was released in January, 1979. There have been numerous other implementations, many of which extended the file format. John Gilmore's <b class="name">pdtar</b> public-domain implementation (circa November, 1987) was quite influential, and formed the basis of GNU tar. GNU tar was included as the standard system tar in <span class="unix">FreeBSD</span> beginning with <span class="unix">FreeBSD&#160;1.0</span>.<div class="spacer">
</div>
This is a complete re-implementation based on the <a class="link-man">libarchive(3)</a> library. It was first released with <span class="unix">FreeBSD&#160;5.4</span> in May, 2005.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> This program follows ISO/IEC 9945-1:1996 (&#8220;POSIX.1&#8221;) for the definition of the <b class="flag">-l</b> option. Note that GNU tar prior to version 1.15 treated <b class="flag">-l</b> as a synonym for the <b class="flag">-</b><b class="flag">-one-file-system</b> option.<div class="spacer">
</div>
The <b class="flag">-C</b> <i class="file">dir</i> option may differ from historic implementations.<div class="spacer">
</div>
All archive output is written in correctly-sized blocks, even if the output is being compressed. Whether or not the last output block is padded to a full block size varies depending on the format and the output device. For tar and cpio formats, the last block of output is padded to a full block size if the output is being written to standard output or to a character or block device such as a tape drive. If the output is being written to a regular file, the last block will not be padded. Many compressors, including <a class="link-man">gzip(1)</a> and <a class="link-man">bzip2(1)</a>, complain about the null padding when decompressing an archive created by <b class="name">tar</b>, although they still extract it correctly.<div class="spacer">
</div>
The compression and decompression is implemented internally, so there may be insignificant differences between the compressed output generated by<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-czf</b> <i class="file">- file</i></code></div>
</blockquote>
and that generated by<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="name">tar</b> <b class="flag">-cf</b> <i class="file">- file</i> | <b class="name">gzip</b></code></div>
</blockquote>
<div class="spacer">
</div>
The default should be to read and write archives to the standard I/O paths, but tradition (and POSIX) dictates otherwise.<div class="spacer">
</div>
The <b class="flag">r</b> and <b class="flag">u</b> modes require that the archive be uncompressed and located in a regular file on disk. Other archives can be modified using <b class="flag">c</b> mode with the <i class="file">@archive-file</i> extension.<div class="spacer">
</div>
To archive a file called <i class="file">@foo</i> or <i class="file">-foo</i> you must specify it as <i class="file">./@foo</i> or <i class="file">./-foo</i>, respectively.<div class="spacer">
</div>
In create mode, a leading <i class="file">./</i> is always removed. A leading <i class="file">/</i> is stripped unless the <b class="flag">-P</b> option is specified.<div class="spacer">
</div>
There needs to be better support for file selection on both create and extract.<div class="spacer">
</div>
There is not yet any support for multi-volume archives or for archiving sparse files.<div class="spacer">
</div>
Converting between dissimilar archive formats (such as tar and cpio) using the <b class="flag">@</b><i class="file">-</i> convention can cause hard link information to be lost. (This is a consequence of the incompatible ways that different archive formats store hardlink information.)</div>
</div>
</body>
</html>

