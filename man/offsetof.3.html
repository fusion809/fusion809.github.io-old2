<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
OFFSETOF(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
OFFSETOF(3)</td>
<td class="head-vol">
Linux Programmer's Manual</td>
<td class="head-rtitle">
OFFSETOF(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> offsetof - offset of a structure member</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;stddef.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
<b>size_t offsetof(</b><i>type</i><b>, </b><i>member</i><b>);</b><br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The macro <b>offsetof</b>() returns the offset of the field <i>member</i> from the start of the structure <i>type</i>.<div style="height: 1.00em;">
&#160;</div>
This macro is useful because the sizes of the fields that compose a structure can vary across implementations, and compilers may insert different numbers of padding bytes between fields. Consequently, an element's offset is not necessarily given by the sum of the sizes of the previous elements.<div style="height: 1.00em;">
&#160;</div>
A compiler error will result if <i>member</i> is not aligned to a byte boundary (i.e., it is a bit field).</div>
<div class="section">
<h1>RETURN VALUE</h1> <b>offsetof</b>() returns the offset of the given <i>member</i> within the given <i>type</i>, in units of bytes.</div>
<div class="section">
<h1>CONFORMING TO</h1> POSIX.1-2001, POSIX.1-2008, C89, C99.</div>
<div class="section">
<h1>EXAMPLE</h1> On a Linux/i386 system, when compiled using the default <b>gcc</b>(1) options, the program below produces the following output:<br/>
<div class="spacer">
</div>
<br/>
$<b> ./a.out</b><br/>
offsets: i=0; c=4; d=8 a=16<br/>
sizeof(struct s)=16<br/>
<div class="subsection">
<h2>Program source</h2> <br/>
#include &lt;stddef.h&gt;<br/>
#include &lt;stdio.h&gt;<br/>
#include &lt;stdlib.h&gt;<div class="spacer">
</div>
<br/>
int<br/>
main(void)<br/>
{<br/>
    struct s {<br/>
        int i;<br/>
        char c;<br/>
        double d;<br/>
        char a[];<br/>
    };<div class="spacer">
</div>
<br/>
    /* Output is compiler dependent */<div class="spacer">
</div>
<br/>
    printf(&quot;offsets: i=%zd; c=%zd; d=%zd a=%zd\n&quot;,<br/>
            offsetof(struct s, i), offsetof(struct s, c),<br/>
            offsetof(struct s, d), offsetof(struct s, a));<br/>
    printf(&quot;sizeof(struct s)=%zd\n&quot;, sizeof(struct s));<div class="spacer">
</div>
<br/>
    exit(EXIT_SUCCESS);<br/>
}<br/>
</div>
</div>
<div class="section">
<h1>COLOPHON</h1> This page is part of release 4.02 of the Linux <i>man-pages</i> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at http://www.kernel.org/doc/man-pages/.</div>
<table class="foot">
<tr>
<td class="foot-date">
2015-08-08</td>
<td class="foot-os">
GNU</td>
</tr>
</table>
</div>
</body>
</html>

