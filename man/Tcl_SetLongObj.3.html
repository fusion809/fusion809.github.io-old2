<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
Tcl_IntObj(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Tcl_IntObj(3)</td>
<td class="head-vol">
Tcl Library Procedures</td>
<td class="head-rtitle">
Tcl_IntObj(3)</td>
</tr>
</tbody>
</table>
<br/>
<br/>
<div class="section">
<h1>NAME</h1> Tcl_NewIntObj, Tcl_NewLongObj, Tcl_NewWideIntObj, Tcl_SetIntObj, Tcl_SetLongObj, Tcl_SetWideIntObj, Tcl_GetIntFromObj, Tcl_GetLongFromObj, Tcl_GetWideIntFromObj, Tcl_NewBignumObj, Tcl_SetBignumObj, Tcl_GetBignumFromObj, Tcl_TakeBignumFromObj - manipulate Tcl objects as integer values</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
<b>#include &lt;tcl.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
Tcl_Obj *<br/>
<b>Tcl_NewIntObj</b>(<i>intValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
Tcl_Obj *<br/>
<b>Tcl_NewLongObj</b>(<i>longValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
Tcl_Obj *<br/>
<b>Tcl_NewWideIntObj</b>(<i>wideValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>Tcl_SetIntObj</b>(<i>objPtr, intValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>Tcl_SetLongObj</b>(<i>objPtr, longValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>Tcl_SetWideIntObj</b>(<i>objPtr, wideValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
int<br/>
<b>Tcl_GetIntFromObj</b>(<i>interp, objPtr, intPtr</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
int<br/>
<b>Tcl_GetLongFromObj</b>(<i>interp, objPtr, longPtr</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
int<br/>
<b>Tcl_GetWideIntFromObj</b>(<i>interp, objPtr, widePtr</i>)<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>#include &lt;tclTomMath.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
Tcl_Obj *<br/>
<b>Tcl_NewBignumObj</b>(<i>bigValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>Tcl_SetBignumObj</b>(<i>objPtr, bigValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
int<br/>
<b>Tcl_GetBignumFromObj</b>(<i>interp, objPtr, bigValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
int<br/>
<b>Tcl_TakeBignumFromObj</b>(<i>interp, objPtr, bigValue</i>)<div style="height: 1.00em;">
&#160;</div>
<br/>
int<br/>
<b>Tcl_InitBignumFromDouble</b>(<i>interp, doubleValue, bigValue</i>)</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
int <i>intValue</i> (in)</dt>
<dd>
Integer value used to initialize or set a Tcl object.</dd>
</dl>
<dl>
<dt>
long <i>longValue</i> (in)</dt>
<dd>
Long integer value used to initialize or set a Tcl object.</dd>
</dl>
<dl>
<dt>
Tcl_WideInt <i>wideValue</i> (in)</dt>
<dd>
Wide integer value used to initialize or set a Tcl object.</dd>
</dl>
<dl>
<dt>
Tcl_Obj <i>*objPtr</i> (in/out)</dt>
<dd>
For <b>Tcl_SetIntObj</b>, <b>Tcl_SetLongObj</b>, <b>Tcl_SetWideIntObj</b>, and  <b>Tcl_SetBignumObj</b>, this points to the object in which to store an integral value.  For  <b>Tcl_GetIntFromObj</b>, <b>Tcl_GetLongFromObj</b>,  <b>Tcl_GetWideIntFromObj</b>, <b>Tcl_GetBignumFromObj</b>, and  <b>Tcl_TakeBignumFromObj</b>, this refers to the object from which to retrieve an integral value.</dd>
</dl>
<dl>
<dt>
Tcl_Interp <i>*interp</i> (in/out)</dt>
<dd>
When non-NULL, an error message is left here when integral value retrieval fails.</dd>
</dl>
<dl>
<dt>
int <i>*intPtr</i> (out)</dt>
<dd>
Points to place to store the integer value retrieved from <i>objPtr</i>.</dd>
</dl>
<dl>
<dt>
long <i>*longPtr</i> (out)</dt>
<dd>
Points to place to store the long integer value retrieved from <i>objPtr</i>.</dd>
</dl>
<dl>
<dt>
Tcl_WideInt <i>*widePtr</i> (out)</dt>
<dd>
Points to place to store the wide integer value retrieved from <i>objPtr</i>.</dd>
</dl>
<dl>
<dt>
mp_int <i>*bigValue</i> (in/out)</dt>
<dd>
Points to a multi-precision integer structure declared by the LibTomMath library.</dd>
</dl>
<dl>
<dt>
double <i>doubleValue</i> (in)</dt>
<dd>
Double value from which the integer part is determined and used to initialize a multi-precision integer value.<br/>
<br/>
<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> These procedures are used to create, modify, and read Tcl objects that hold integral values.<div class="spacer">
</div>
The different routines exist to accommodate different integral types in C with which values might be exchanged.  The C integral types for which Tcl provides value exchange routines are  <b>int</b>, <b>long int</b>,  <b>Tcl_WideInt</b>, and <b>mp_int</b>.  The <b>int</b> and <b>long int</b> types are provided by the C language standard.  The  <b>Tcl_WideInt</b> type is a typedef defined to be whatever signed integral type covers at least the 64-bit integer range (-9223372036854775808 to 9223372036854775807).  Depending on the platform and the C compiler, the actual type might be  <b>long int</b>, <b>long long int</b>, <b>int64</b>, or something else. The  <b>mp_int</b> type is a multiple-precision integer type defined by the LibTomMath multiple-precision integer library.<div class="spacer">
</div>
The <b>Tcl_NewIntObj</b>, <b>Tcl_NewLongObj</b>, <b>Tcl_NewWideIntObj</b>, and  <b>Tcl_NewBignumObj</b> routines each create and return a new Tcl object initialized to the integral value of the argument.  The returned Tcl object is unshared.<div class="spacer">
</div>
The <b>Tcl_SetIntObj</b>, <b>Tcl_SetLongObj</b>, <b>Tcl_SetWideIntObj</b>, and  <b>Tcl_SetBignumObj</b> routines each set the value of an existing Tcl object pointed to by  <i>objPtr</i> to the integral value provided by the other argument.  The  <i>objPtr</i> argument must point to an unshared Tcl object.  Any attempt to set the value of a shared Tcl object violates Tcl's copy-on-write policy.  Any existing string representation or internal representation in the unshared Tcl object will be freed as a consequence of setting the new value.<div class="spacer">
</div>
The <b>Tcl_GetIntFromObj</b>, <b>Tcl_GetLongFromObj</b>,  <b>Tcl_GetWideIntFromObj</b>, <b>Tcl_GetBignumFromObj</b>, and  <b>Tcl_TakeBignumFromObj</b> routines attempt to retrieve an integral value of the appropriate type from the Tcl object  <i>objPtr</i>.  If the attempt succeeds, then  <b>TCL_OK</b> is returned, and the value is written to the storage provided by the caller.  The attempt might fail if  <i>objPtr</i> does not hold an integral value, or if the value exceeds the range of the target type.  If the attempt fails, then  <b>TCL_ERROR</b> is returned, and if <i>interp</i> is non-NULL, an error message is left in  <i>interp</i>.  The <b>Tcl_ObjType</b> of  <i>objPtr</i> may be changed to make subsequent calls to the same routine more efficient. Unlike the other functions,  <b>Tcl_TakeBignumFromObj</b> may set the content of the Tcl object  <i>objPtr</i> to an empty string in the process of retrieving the multiple-precision integer value.<div class="spacer">
</div>
The choice between <b>Tcl_GetBignumFromObj</b> and  <b>Tcl_TakeBignumFromObj</b> is governed by how the caller will continue to use  <i>objPtr</i>.  If after the <b>mp_int</b> value is retrieved from  <i>objPtr</i>, the caller will make no more use of  <i>objPtr</i>, then using <b>Tcl_TakeBignumFromObj</b> permits Tcl to detect when an unshared  <i>objPtr</i> permits the value to be moved instead of copied, which should be more efficient. If anything later in the caller requires  <i>objPtr</i> to continue to hold the same value, then  <b>Tcl_GetBignumFromObj</b> must be chosen.<div class="spacer">
</div>
The <b>Tcl_InitBignumFromDouble</b> routine is a utility procedure that extracts the integer part of  <i>doubleValue</i> and stores that integer value in the  <b>mp_int</b> value <i>bigValue</i>.</div>
<div class="section">
<h1>SEE ALSO</h1> Tcl_NewObj, Tcl_DecrRefCount, Tcl_IncrRefCount, Tcl_GetObjResult</div>
<div class="section">
<h1>KEYWORDS</h1> integer, integer object, integer type, internal representation, object, object type, string representation</div>
<table class="foot">
<tr>
<td class="foot-date">
8.5</td>
<td class="foot-os">
Tcl</td>
</tr>
</table>
</div>
</body>
</html>

