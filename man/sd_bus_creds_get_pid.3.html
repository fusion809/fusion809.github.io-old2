<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
SD_BUS_CREDS_GET_PID(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SD_BUS_CREDS_GET_PID(3)</td>
<td class="head-vol">
sd_bus_creds_get_pid</td>
<td class="head-rtitle">
SD_BUS_CREDS_GET_PID(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sd_bus_creds_get_pid, sd_bus_creds_get_ppid, sd_bus_creds_get_tid, sd_bus_creds_get_uid, sd_bus_creds_get_euid, sd_bus_creds_get_suid, sd_bus_creds_get_fsuid, sd_bus_creds_get_gid, sd_bus_creds_get_egid, sd_bus_creds_get_sgid, sd_bus_creds_get_fsgid, sd_bus_creds_get_supplementary_gids, sd_bus_creds_get_comm, sd_bus_creds_get_tid_comm, sd_bus_creds_get_exe, sd_bus_creds_get_cmdline, sd_bus_creds_get_cgroup, sd_bus_creds_get_unit, sd_bus_creds_get_slice, sd_bus_creds_get_user_unit, sd_bus_creds_get_user_slice, sd_bus_creds_get_session, sd_bus_creds_get_owner_uid, sd_bus_creds_has_effective_cap, sd_bus_creds_has_permitted_cap, sd_bus_creds_has_inheritable_cap, sd_bus_creds_has_bounding_cap, sd_bus_creds_get_selinux_context, sd_bus_creds_get_audit_session_id, sd_bus_creds_get_audit_login_uid, sd_bus_creds_get_tty, sd_bus_creds_get_unique_name, sd_bus_creds_get_well_known_names, sd_bus_creds_get_description - Retrieve fields from a credentials object</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;systemd/sd-bus.h&gt;<br/>
<div class="spacer">
</div>
<div style="margin-left: 25.00ex;text-indent: -25.00ex;" class="spacer">
<b>int sd_bus_creds_get_pid(sd_bus_creds&#160;*</b><i>c</i><b>, pid_t&#160;*</b><i>pid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 26.00ex;text-indent: -26.00ex;" class="spacer">
<b>int sd_bus_creds_get_ppid(sd_bus_creds&#160;*</b><i>c</i><b>, pid_t&#160;*</b><i>ppid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 25.00ex;text-indent: -25.00ex;" class="spacer">
<b>int sd_bus_creds_get_tid(sd_bus_creds&#160;*</b><i>c</i><b>, pid_t&#160;*</b><i>tid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 25.00ex;text-indent: -25.00ex;" class="spacer">
<b>int sd_bus_creds_get_uid(sd_bus_creds&#160;*</b><i>c</i><b>, uid_t&#160;*</b><i>uid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 26.00ex;text-indent: -26.00ex;" class="spacer">
<b>int sd_bus_creds_get_euid(sd_bus_creds&#160;*</b><i>c</i><b>, uid_t&#160;*</b><i>uid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 26.00ex;text-indent: -26.00ex;" class="spacer">
<b>int sd_bus_creds_get_suid(sd_bus_creds&#160;*</b><i>c</i><b>, uid_t&#160;*</b><i>uid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 27.00ex;text-indent: -27.00ex;" class="spacer">
<b>int sd_bus_creds_get_fsuid(sd_bus_creds&#160;*</b><i>c</i><b>, uid_t&#160;*</b><i>uid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 25.00ex;text-indent: -25.00ex;" class="spacer">
<b>int sd_bus_creds_get_gid(sd_bus_creds&#160;*</b><i>c</i><b>, gid_t&#160;*</b><i>gid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 26.00ex;text-indent: -26.00ex;" class="spacer">
<b>int sd_bus_creds_get_egid(sd_bus_creds&#160;*</b><i>c</i><b>, gid_t&#160;*</b><i>gid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 26.00ex;text-indent: -26.00ex;" class="spacer">
<b>int sd_bus_creds_get_sgid(sd_bus_creds&#160;*</b><i>c</i><b>, gid_t&#160;*</b><i>gid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 27.00ex;text-indent: -27.00ex;" class="spacer">
<b>int sd_bus_creds_get_fsgid(sd_bus_creds&#160;*</b><i>c</i><b>, gid_t&#160;*</b><i>gid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 40.00ex;text-indent: -40.00ex;" class="spacer">
<b>int sd_bus_creds_get_supplementary_gids(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;gid_t&#160;**</b><i>gids</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 26.00ex;text-indent: -26.00ex;" class="spacer">
<b>int sd_bus_creds_get_comm(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>comm</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 30.00ex;text-indent: -30.00ex;" class="spacer">
<b>int sd_bus_creds_get_tid_comm(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>comm</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 25.00ex;text-indent: -25.00ex;" class="spacer">
<b>int sd_bus_creds_get_exe(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>exe</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 29.00ex;text-indent: -29.00ex;" class="spacer">
<b>int sd_bus_creds_get_cmdline(sd_bus_creds&#160;*</b><i>c</i><b>, char&#160;***</b><i>cmdline</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 28.00ex;text-indent: -28.00ex;" class="spacer">
<b>int sd_bus_creds_get_cgroup(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>cgroup</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 26.00ex;text-indent: -26.00ex;" class="spacer">
<b>int sd_bus_creds_get_unit(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>unit</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 27.00ex;text-indent: -27.00ex;" class="spacer">
<b>int sd_bus_creds_get_slice(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>slice</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 31.00ex;text-indent: -31.00ex;" class="spacer">
<b>int sd_bus_creds_get_user_unit(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>unit</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 32.00ex;text-indent: -32.00ex;" class="spacer">
<b>int sd_bus_creds_get_user_slice(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>slice</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 29.00ex;text-indent: -29.00ex;" class="spacer">
<b>int sd_bus_creds_get_session(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>slice</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 31.00ex;text-indent: -31.00ex;" class="spacer">
<b>int sd_bus_creds_get_owner_uid(sd_bus_creds&#160;*</b><i>c</i><b>, uid_t&#160;*</b><i>uid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 35.00ex;text-indent: -35.00ex;" class="spacer">
<b>int sd_bus_creds_has_effective_cap(sd_bus_creds&#160;*</b><i>c</i><b>, int&#160;</b><i>capability</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 35.00ex;text-indent: -35.00ex;" class="spacer">
<b>int sd_bus_creds_has_permitted_cap(sd_bus_creds&#160;*</b><i>c</i><b>, int&#160;</b><i>capability</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 37.00ex;text-indent: -37.00ex;" class="spacer">
<b>int sd_bus_creds_has_inheritable_cap(sd_bus_creds&#160;*</b><i>c</i><b>, int&#160;</b><i>capability</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 34.00ex;text-indent: -34.00ex;" class="spacer">
<b>int sd_bus_creds_has_bounding_cap(sd_bus_creds&#160;*</b><i>c</i><b>, int&#160;</b><i>capability</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 37.00ex;text-indent: -37.00ex;" class="spacer">
<b>int sd_bus_creds_get_selinux_context(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>context</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 38.00ex;text-indent: -38.00ex;" class="spacer">
<b>int sd_bus_creds_get_audit_session_id(sd_bus_creds&#160;*</b><i>c</i><b>, uint32_t&#160;*</b><i>sessionid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 37.00ex;text-indent: -37.00ex;" class="spacer">
<b>int sd_bus_creds_get_audit_login_uid(sd_bus_creds&#160;*</b><i>c</i><b>, uid_t&#160;*</b><i>loginuid</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 25.00ex;text-indent: -25.00ex;" class="spacer">
<b>int sd_bus_creds_get_tty(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>tty</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 33.00ex;text-indent: -33.00ex;" class="spacer">
<b>int sd_bus_creds_get_unique_name(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>name</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 38.00ex;text-indent: -38.00ex;" class="spacer">
<b>int sd_bus_creds_get_well_known_names(sd_bus_creds&#160;*</b><i>c</i><b>, char&#160;***</b><i>name</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 33.00ex;text-indent: -33.00ex;" class="spacer">
<b>int sd_bus_creds_get_description(sd_bus_creds&#160;*</b><i>c</i><b>, const&#160;char&#160;**</b><i>name</i><b>);</b></div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> These functions return credential information from an  <i>sd_bus_creds</i> object. Credential objects may be created with  <b>sd_bus_creds_new_from_pid</b>(3), in which case they describe the credentials of the process identified by the specified PID, with  <b>sd_bus_get_name_creds</b>(3), in which case they describe the credentials of a bus peer identified by the specified bus name, with  <b>sd_bus_get_owner_creds</b>(3), in which case they describe the credentials of the creator of a bus, or with  <b>sd_bus_message_get_creds</b>(3), in which case they describe the credentials of the sender of the message.<div class="spacer">
</div>
Not all credential fields are part of every &quot;sd_bus_creds&quot; object. Use  <b>sd_bus_creds_get_mask</b>(3) to determine the mask of fields available.<div class="spacer">
</div>
<b>sd_bus_creds_get_pid()</b> will retrieve the PID (process identifier). Similar,  <b>sd_bus_creds_get_ppid()</b> will retrieve the parent PID. Note that PID 1 has no parent process, in which case -ENXIO is returned.<div class="spacer">
</div>
<b>sd_bus_creds_get_tid()</b> will retrieve the TID (thread identifier).<div class="spacer">
</div>
<b>sd_bus_creds_get_uid()</b> will retrieve the numeric UID (user identifier). Similar,  <b>sd_bus_creds_get_euid()</b> returns the effective UID,  <b>sd_bus_creds_get_suid()</b> the saved UID and  <b>sd_bus_creds_get_fsuid()</b> the file system UID.<div class="spacer">
</div>
<b>sd_bus_creds_get_gid()</b> will retrieve the numeric GID (group identifier). Similar,  <b>sd_bus_creds_get_egid()</b> returns the effective GID,  <b>sd_bus_creds_get_sgid()</b> the saved GID and  <b>sd_bus_creds_get_fsgid()</b> the file system GID.<div class="spacer">
</div>
<b>sd_bus_creds_get_supplementary_gids()</b> will retrieve the supplementary GIDs list.<div class="spacer">
</div>
<b>sd_bus_creds_get_comm()</b> will retrieve the comm field (truncated name of the executable, as stored in /proc/ <i>pid</i>/comm).<div class="spacer">
</div>
<b>sd_bus_creds_get_tid_comm()</b> will retrieve the comm field of the thread (as stored in /proc/ <i>pid</i>/task/<i>tid</i>/comm).<div class="spacer">
</div>
<b>sd_bus_creds_get_exe()</b> will retrieve the path to the program executable (as stored in the /proc/ <i>pid</i>/exe link, but with &quot; (deleted)&quot; suffix removed). Note that kernel threads do not have an executable path, in which case -ENXIO is returned.<div class="spacer">
</div>
<b>sd_bus_creds_get_cmdline()</b> will retrieve an array of command line arguments (as stored in /proc/ <i>pid</i>/cmdline). Note that kernel threads do not have a command line, in which case -ENXIO is returned.<div class="spacer">
</div>
<b>sd_bus_creds_get_cgroup()</b> will retrieve the cgroup path. See  <b>cgroups.txt</b>[1].<div class="spacer">
</div>
<b>sd_bus_creds_get_unit()</b> will retrieve the systemd unit name (in the system instance of systemd) that the process is part of. See  <b>systemd.unit</b>(5). For processes that are not part of a unit returns -ENXIO.<div class="spacer">
</div>
<b>sd_bus_creds_get_user_unit()</b> will retrieve the systemd unit name (in the user instance of systemd) that the process is part of. See  <b>systemd.unit</b>(5). For processes that are not part of a user unit returns -ENXIO.<div class="spacer">
</div>
<b>sd_bus_creds_get_slice()</b> will retrieve the systemd slice (a unit in the system instance of systemd) that the process is part of. See  <b>systemd.slice</b>(5). Similar,  <b>sd_bus_creds_get_user_slice()</b> retrieves the systemd slice of the process, in the user instance of systemd.<div class="spacer">
</div>
<b>sd_bus_creds_get_session()</b> will retrieve the identifier of the login session that the process is part of. See  <b>systemd-logind.service</b>(8). For processes that are not part of a session returns -ENXIO.<div class="spacer">
</div>
<b>sd_bus_creds_get_owner_uid()</b> will retrieve the numeric UID (user identifier) of the user who owns the login session that the process is part of. See  <b>systemd-logind.service</b>(8). For processes that are not part of a session returns -ENXIO.<div class="spacer">
</div>
<b>sd_bus_creds_has_effective_cap()</b> will check whether the capability specified by  <i>capability</i> was set in the effective capabilities mask. A positive return value means that is was set, zero means that it was not set, and a negative return value indicates an error. See  <b>capabilities</b>(7) and  <i>Capabilities=</i> and  <i>CapabilityBoundingSet=</i> settings in  <b>systemd.exec</b>(5).<div class="spacer">
</div>
<b>sd_bus_creds_has_permitted_cap()</b> is similar to  <b>sd_bus_creds_has_effective_cap()</b>, but will check the permitted capabilities mask.<div class="spacer">
</div>
<b>sd_bus_creds_has_inheritable_cap()</b> is similar to  <b>sd_bus_creds_has_effective_cap()</b>, but will check the inheritable capabilities mask.<div class="spacer">
</div>
<b>sd_bus_creds_has_bounding_cap()</b> is similar to  <b>sd_bus_creds_has_effective_cap()</b>, but will check the bounding capabilities mask.<div class="spacer">
</div>
<b>sd_bus_creds_get_selinux_context()</b> will retrieve the SELinux security context (label) of the process.<div class="spacer">
</div>
<b>sd_bus_creds_get_audit_session_id()</b> will retrieve the audit session identifier of the process. Returns -ENXIO for processes that are not part of an audit session.<div class="spacer">
</div>
<b>sd_bus_creds_get_audit_login_uid()</b> will retrieve the audit user login identifier (the identifier of the user who is &quot;responsible&quot; for the session). Returns -ENXIO for processes that are not part of an audit session.<div class="spacer">
</div>
<b>sd_bus_creds_get_tty()</b> will retrieve the controlling TTY, without the prefixing &quot;/dev/&quot;. Returns -ENXIO for processes that have no controlling TTY.<div class="spacer">
</div>
<b>sd_bus_creds_get_unique_name()</b> will retrieve the D-Bus unique name. See  <b>The D-Bus specification</b>[2].<div class="spacer">
</div>
<b>sd_bus_creds_get_well_known_names()</b> will retrieve the set of D-Bus well-known names. See  <b>The D-Bus specification</b>[2].<div class="spacer">
</div>
<b>sd_bus_creds_get_description()</b> will retrieve a descriptive name of the bus connection of the peer. This name is useful to discern multiple bus connections by the same peer, and may be altered by the peer with the  <b>sd_bus_set_description</b>(3) call.<div class="spacer">
</div>
All functions that take a  <i>const char**</i> parameter will store the answer there as an address of a NUL-terminated string. It will be valid as long as  <i>c</i> remains valid, and should not be freed or modified by the caller.<div class="spacer">
</div>
All functions that take a  <i>char***</i> parameter will store the answer there as an address of a an array of strings. Each individual string is NUL-terminated, and the array is NULL-terminated as a whole. It will be valid as long as  <i>c</i> remains valid, and should not be freed or modified by the caller.</div>
<div class="section">
<h1>RETURN VALUE</h1> On success, these calls return 0 or a positive integer. On failure, these calls return a negative errno-style error code.</div>
<div class="section">
<h1>ERRORS</h1> Returned errors may indicate the following problems:<div class="spacer">
</div>
<b>-ENODATA</b><div style="margin-left: 4.00ex;">
Given field is not available in the credentials object  <i>c</i>.</div>
<div class="spacer">
</div>
<b>-ENXIO</b><div style="margin-left: 4.00ex;">
Given field is not specified for the described process or peer. This will be returned by  <b>sd_bus_get_unit()</b>,  <b>sd_bus_get_slice()</b>,  <b>sd_bus_get_user_unit()</b>,  <b>sd_bus_get_user_slice()</b>,  <b>sd_bus_get_session()</b>, and  <b>sd_bus_get_owner_uid()</b> if the process is not part of a systemd system unit, systemd user unit, systemd slice, or logind session. It will also be returned by  <b>sd_bus_creds_get_exe()</b> and  <b>sd_bus_creds_get_cmdline()</b> for kernel threads (since these aren't started from an executable binary or have a command line),  <b>sd_bus_creds_get_audit_session_id()</b> and  <b>sd_bus_creds_get_audit_login_uid()</b> when the process is not part of an audit session, and  <b>sd_bus_creds_get_tty()</b> if the process has no controlling TTY.</div>
<div class="spacer">
</div>
<b>-EINVAL</b><div style="margin-left: 4.00ex;">
Specified pointer parameter is  <b>NULL</b>.</div>
<div class="spacer">
</div>
<b>-ENOMEM</b><div style="margin-left: 4.00ex;">
Memory allocation failed.</div>
</div>
<div class="section">
<h1>NOTES</h1>  <b>sd_bus_creds_get_pid()</b> and the other functions described here are available as a shared library, which can be compiled and linked to with the  <b>libsystemd</b>&#160;<b>pkg-config</b>(1) file.</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>systemd</b>(1),  <b>sd-bus</b>(3),  <b>sd_bus_creds_new_from_pid</b>(2),  <b>fork</b>(2),  <b>execve</b>(2),  <b>credentials</b>(7),  <b>free</b>(3),  <b>proc</b>(5),  <b>systemd.journal-fields</b>(7)</div>
<div class="section">
<h1>NOTES</h1><dl>
<dt>
 1.</dt>
<dd>
cgroups.txt</dd>
</dl>
<div style="margin-left: 4.00ex;">
https://www.kernel.org/doc/Documentation/cgroups/cgroups.txt</div>
<dl>
<dt>
 2.</dt>
<dd>
The D-Bus specification</dd>
</dl>
<div style="margin-left: 4.00ex;">
http://dbus.freedesktop.org/doc/dbus-specification.html#message-protocol-names-bus</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
systemd 226</td>
</tr>
</table>
</div>
</body>
</html>

