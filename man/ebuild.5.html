<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
EBUILD(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
EBUILD(5)</td>
<td class="head-vol">
Portage</td>
<td class="head-rtitle">
EBUILD(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ebuild - the internal format, variables, and functions in an ebuild script<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <b>ebuild</b>(1) program accepts a single ebuild script as an argument. This script contains variables and commands that specify how to download, unpack, patch, compile, install and merge a particular software package from its original sources.  In addition to all of this, the ebuild script can also contain pre/post install/remove commands, as required.  All ebuild scripts are written in bash.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>Dependencies</h2> A  <i>depend atom</i> is simply a dependency that is used by portage when calculating relationships between packages.  Please note that if the atom has not already been emerged, then the latest version available is matched.<dl>
<dt>
<b>Atom Bases</b></dt>
<dd>
The base atom is just a full category/packagename.<div style="height: 1.00em;">
&#160;</div>
Examples: <i>	sys-apps/sed</i> <i>	sys-libs/zlib</i> <i>	net-misc/dhcp</i><br/>
</dd>
</dl>
<dl>
<dt>
<b>Atom Versions</b></dt>
<dd>
It is nice to be more specific and say that only certain versions of atoms are acceptable.  Note that versions must be combined with a prefix (see below). Hence you may add a version number as a postfix to the base.<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	sys-apps/sed<i>-4.0.5</i><br/>
	sys-libs/zlib<i>-1.1.4-r1</i><br/>
	net-misc/dhcp<i>-3.0_p2</i><br/>
<div style="height: 1.00em;">
&#160;</div>
Versions are normally made up of two or three numbers separated by periods, such as 1.2 or 4.5.2.  This string may be followed by a character such as 1.2a or 4.5.2z.  Note that this letter is  <i>not</i> meant to indicate alpha, beta, etc... status.  For that, use the optional suffix; either _alpha, _beta, _pre (pre-release), _rc (release candidate), or _p (patch).  This means for the 3rd pre-release of a package, you would use something like 1.2_pre3.  The suffixes here can be arbitrarily chained without limitation.</dd>
</dl>
<dl>
<dt>
<b>Atom Prefix Operators [&gt; &gt;= = &lt;= &lt;]</b></dt>
<dd>
Sometimes you want to be able to depend on general versions rather than specifying exact versions all the time.  Hence we provide standard boolean operators:<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	<i>&gt;</i>media-libs/libgd-1.6<br/>
	<i>&gt;=</i>media-libs/libgd-1.6<br/>
	<i>=</i>media-libs/libgd-1.6<br/>
	<i>&lt;=</i>media-libs/libgd-1.6<br/>
	<i>&lt;</i>media-libs/libgd-1.6<br/>
</dd>
</dl>
<dl>
<dt>
<b>Extended Atom Prefixes [!~] and Postfixes [*]</b></dt>
<dd>
Now to get even fancier, we provide the ability to define blocking packages and version range matching.  Also note that these extended prefixes/postfixes may be combined in any way with the atom classes defined above.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<i>~</i></dt>
<dd>
means match any revision of the base version specified.  So in the example below, we would match versions '1.0.2a', '1.0.2a-r1', '1.0.2a-r2', etc...<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
	<i>~</i>net-libs/libnet-1.0.2a<br/>
</dd>
</dl>
<dl>
<dt>
<i>!</i></dt>
<dd>
means block packages from being installed at the same time.<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
	<i>!</i>app-text/dos2unix<br/>
</dd>
</dl>
<dl>
<dt>
<i>!!</i></dt>
<dd>
means block packages from being installed at the same time and explicitly disallow them from being temporarily installed simultaneously during a series of upgrades. This syntax is supported beginning with  <b>EAPI 2</b>.<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
	<i>!!</i>&lt;sys-apps/portage-2.1.4_rc1<br/>
</dd>
</dl>
<dl>
<dt>
<i>*</i></dt>
<dd>
means match any version of the package so long as the specified string prefix is matched. So with a version of '2*', we can match '2.1', '2.2', '2.2.1', etc... and not match version '1.0', '3.0', '4.1', etc... Beware that, due to the string matching nature, '20' will also be matched by '2*'. The version part that comes before the '*' must be a valid version in the absence of the '*'. For example, '2' is a valid version and '2.' is not. Therefore, '2*' is allowed and '2.*' is not.<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	=dev-libs/glib-2<i>*</i><br/>
	<i>!</i>=net-fs/samba-2<i>*</i><br/>
</dd>
</dl>
</div>
<dl>
<dt>
<b>Atom Slots</b></dt>
<dd>
Beginning with <b>EAPI 1</b>, any atom can be constrained to match a specific  <b>SLOT</b>. This is accomplished by appending a colon followed by a  <b>SLOT</b>:<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	x11-libs/qt:3<br/>
	<i>~</i>x11-libs/qt-3.3.8:3<br/>
	<i>&gt;=</i>x11-libs/qt-3.3.8:3<br/>
	<i>=</i>x11-libs/qt-3.3*:3<br/>
</dd>
</dl>
<dl>
<dt>
<b>Sub Slots</b></dt>
<dd>
Beginning with <b>EAPI 5</b>, a slot dependency may contain an optional sub-slot part that follows the regular slot and is delimited by a  <i>/</i> character.<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	dev-libs/icu:0/0<br/>
	dev-libs/icu:0/49<br/>
	dev-lang/perl:0/5.12<br/>
	dev-libs/glib:2/2.30<br/>
</dd>
</dl>
<dl>
<dt>
<b>Atom Slot Operators</b></dt>
<dd>
Beginning with <b>EAPI 5</b>, slot operator dependency consists of a colon followed by one of the following operators:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<i>*</i></dt>
<dd>
Indicates that any slot value is acceptable. In addition, for runtime dependencies, indicates that the package will not break if the matched package is uninstalled and replaced by a different matching package in a different slot.<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	dev-libs/icu:*<br/>
	dev-lang/perl:*<br/>
	dev-libs/glib:*<br/>
</dd>
</dl>
<dl>
<dt>
<i>=</i></dt>
<dd>
Indicates that any slot value is acceptable. In addition, for runtime dependencies, indicates that the package will break unless a matching package with slot and sub-slot equal to the slot and sub-slot of the best installed version at the time the package was installed is available.<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	dev-libs/icu:=<br/>
	dev-lang/perl:=<br/>
	dev-libs/glib:=<br/>
</dd>
</dl>
<dl>
<dt>
<i>slot=</i></dt>
<dd>
Indicates that only a specific slot value is acceptable, and otherwise behaves identically to the plain equals slot operator.<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	dev-libs/icu:0=<br/>
	dev-lang/perl:0=<br/>
	dev-libs/glib:2=<br/>
</dd>
</dl>
<div class="spacer">
</div>
To implement the equals slot operator, the package manager will need to store the slot/sub-slot pair of the best installed version of the matching package. This syntax is only for package manager use and must not be used by ebuilds. The package manager may do this by inserting the appropriate slot/sub-slot pair between the colon and equals sign when saving the package's dependencies. The sub-slot part must not be omitted here (when the SLOT variable omits the sub-slot part, the package is considered to have an implicit sub-slot which is equal to the regular slot).<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	dev-libs/icu:0/0=<br/>
	dev-libs/icu:0/49=<br/>
	dev-lang/perl:0/5.12=<br/>
	dev-libs/glib:2/2.30=<br/>
</div>
<dl>
<dt>
<b>Atom USE</b></dt>
<dd>
Beginning with <b>EAPI 2</b>, any atom can be constrained to match specific  <b>USE</b> flag settings. When used together with <b>SLOT</b> dependencies,  <b>USE</b> dependencies appear on the right hand side of <b>SLOT</b> dependencies.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>Unconditional USE Dependencies</b></dt>
<dd>
<table class="tbl">
<col style="width: 14.00ex;"/>
<col style="width: 42.00ex;"/>
<tbody>
<tr>
<td>
Example</td>
<td>
Meaning</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
foo[bar]</td>
<td>
foo must have bar enabled</td>
</tr>
<tr>
<td>
foo[bar,baz]</td>
<td>
foo must have both bar and baz enabled</td>
</tr>
<tr>
<td>
foo[-bar,baz]</td>
<td>
foo must have bar disabled and baz enabled</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl>
<dt>
<b>Conditional USE Dependencies</b></dt>
<dd>
<table class="tbl">
<col style="width: 12.00ex;"/>
<col style="width: 38.00ex;"/>
<tbody>
<tr>
<td>
Compact Form</td>
<td>
Equivalent Expanded Form</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
foo[bar?]</td>
<td>
bar? ( foo[bar] ) !bar? ( foo )</td>
</tr>
<tr>
<td>
foo[!bar?]</td>
<td>
bar? ( foo ) !bar? ( foo[-bar] )</td>
</tr>
<tr>
<td>
foo[bar=]</td>
<td>
bar? ( foo[bar] ) !bar? ( foo[-bar] )</td>
</tr>
<tr>
<td>
foo[!bar=]</td>
<td>
bar? ( foo[-bar] ) !bar? ( foo[bar] )</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<dl>
<dt>
<b>Atom USE defaults</b></dt>
<dd>
Beginning with <b>EAPI 4</b>, <b>USE</b> dependencies may specify default assumptions about values for flags that may or may not be missing from the  <b>IUSE</b> of the matched package. Such defaults are specified by immediately following a flag with either  <i>(+)</i> or <i>(-)</i>. Use  <i>(+)</i> to behave as if a missing flag is present and enabled, or  <i>(-)</i> to behave as if it is present and disabled:<div style="height: 1.00em;">
&#160;</div>
Examples:<br/>
	media-video/ffmpeg[threads(+)]<br/>
	media-video/ffmpeg[-threads(-)]<br/>
</dd>
</dl>
<dl>
<dt>
<b>Dynamic Dependencies</b></dt>
<dd>
Sometimes programs may depend on different things depending on the USE variable.  Portage offers a few options to handle this.  Note that when using the following syntaxes, each case is considered as 1 Atom in the scope it appears.  That means that each Atom both conditionally include multiple Atoms and be nested to an infinite depth.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>usevar? ( Atom )</b></dt>
<dd>
To include the jpeg library when the user has jpeg in <b>USE</b>, simply use the following syntax:<div style="height: 1.00em;">
&#160;</div>
jpeg? ( media-libs/jpeg )</dd>
</dl>
<dl>
<dt>
<b>!usevar? ( Atom )</b></dt>
<dd>
If you want to include a package only if the user does not have a certain option in their  <b>USE</b> variable, then use the following syntax:<div style="height: 1.00em;">
&#160;</div>
!nophysfs? ( dev-games/physfs )<div style="height: 1.00em;">
&#160;</div>
This is often useful for those times when you want to want to add optional support for a feature and have it enabled by default.</dd>
</dl>
<dl>
<dt>
<b>usevar? ( Atom if true ) !usevar? ( Atom if false )</b></dt>
<dd>
For functionality like the tertiary operator found in C you must use two statements, one normal and one inverted.  If a package uses GTK2 or GTK1, but not both, then you can handle that like this:<div style="height: 1.00em;">
&#160;</div>
gtk2? ( =x11-libs/gtk+-2* ) !gtk2? ( =x11-libs/gtk+-1* )<div style="height: 1.00em;">
&#160;</div>
That way the default is the superior GTK2 library.</dd>
</dl>
<dl>
<dt>
<b>|| ( Atom Atom ... )</b></dt>
<dd>
When a package can work with a few different packages but a virtual is not appropriate, this syntax can easily be used.<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
|| (<br/>
	app-games/unreal-tournament<br/>
	app-games/unreal-tournament-goty<br/>
)<br/>
<div style="height: 1.00em;">
&#160;</div>
Here we see that unreal-tournament has a normal version and it has a goty version.  Since they provide the same base set of files, another package can use either.  Adding a virtual is inappropriate due to the small scope of it.<div style="height: 1.00em;">
&#160;</div>
Another good example is when a package can be built with multiple video interfaces, but it can only ever have just one.<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
|| (<br/>
	sdl? ( media-libs/libsdl )<br/>
	svga? ( media-libs/svgalib )<br/>
	opengl? ( virtual/opengl )<br/>
	ggi? ( media-libs/libggi )<br/>
	virtual/x11<br/>
)<br/>
<div style="height: 1.00em;">
&#160;</div>
Here only one of the packages will be chosen, and the order of preference is determined by the order in which they appear.  So sdl has the best chance of being chosen, followed by svga, then opengl, then ggi, with a default of X if the user does not specify any of the previous choices.<div style="height: 1.00em;">
&#160;</div>
Note that if any of the packages listed are already merged, the package manager will use that to consider the dependency satisfied.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="subsection">
<h2>Cross-compilation</h2> Portage supports cross-compilation into a subdirectory specified by  <b>ROOT</b>.<dl>
<dt>
<b>Host</b></dt>
<dd>
<i>Host</i> in this context means the platform hosting the build process, i.e. what autotools calls CBUILD. Its packages are contained in the root of the filesystem (&quot; <i>/</i>&quot;).<div style="height: 1.00em;">
&#160;</div>
If <b>ROOT</b> is &quot;<i>/</i>&quot;, all dependency types will be installed there. Otherwise, for EAPIs that support  <b>HDEPEND</b> (experimental  <b>EAPI 5-hdepend</b>), only <b>HDEPEND</b> is installed into &quot;<i>/</i>&quot;. For EAPIs that do not support  <b>HDEPEND</b>, the behaviour is controlled by the  <i>--root-deps</i> flag to <b>emerge</b>(1), defaulting to install only  <b>DEPEND</b> into the <i>host</i>.</dd>
</dl>
<dl>
<dt>
<b>Target</b></dt>
<dd>
<i>Target</i> refers to the platform that the package will later run on, i.e. what autotools calls CHOST. The directory housing this system is specified by  <b>ROOT</b>. If it is different from &quot; <i>/</i>&quot;, i.e. <i>host</i> and <i>target</i> are not the same, this variable contains the path to the directory housing the  <i>target</i> system.<div style="height: 1.00em;">
&#160;</div>
For EAPIs that support <b>HDEPEND</b> (experimental <b>EAPI 5-hdepend</b>),  <b>DEPEND</b>, <b>RDEPEND</b>, and <b>PDEPEND</b> list the  <i>target</i> dependencies, i.e. those to be installed into <b>ROOT</b>. For EAPIs that do not support  <b>HDEPEND</b>, the <b>emerge</b>(1) flag  <i>--root-deps</i> controls what the package manager installs there. Without it,  <b>emerge</b> defaults to install only runtime dependencies (i.e.  <b>RDEPEND</b> and <b>PDEPEND</b>) into <b>ROOT</b>.</dd>
</dl>
<div class="spacer">
</div>
See section <b>VARIABLES</b> for more information about the <b>DEPEND</b>,  <b>RDEPEND</b> and <b>HDEPEND</b> variables.<dl>
<dt>
<b>The targetroot USE flag</b></dt>
<dd>
For EAPIs that support the &quot;<i>targetroot</i>&quot; USE flag, that flag is automatically enabled by the package manager if  <i>host</i> and <i>target</i> system are not the same, i.e. if the  <b>ROOT</b> is not &quot;<i>/</i>&quot;. This is necessary where the package to be built needs an executable copy of itself during the build process. A known example is dev-lang/python, which needs to run a Python interpreter during compilation.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>VARIABLES</h1><dl>
<dt>
<b>Usage Notes</b></dt>
<dd>
- Variables defined in <b>make.conf</b>(5) are available for use in ebuilds (except Portage-specific variables, which might be not supported by other package managers).<div style="height: 0.00em;">
&#160;</div>
- When assigning values to variables in ebuilds, you <i>cannot have a</i>  <i>space</i> between the variable name and the equal sign.<div style="height: 0.00em;">
&#160;</div>
- Variable values should only contain characters that are members of the  <b>ascii</b>(7) character set. This requirement is mandated by <b>GLEP 31</b>.</dd>
</dl>
<dl>
<dt>
<b>P</b></dt>
<dd>
This variable contains the package name without the ebuild revision. This variable must NEVER be modified.<div style="height: 1.00em;">
&#160;</div>
xfree-4.2.1-r2.ebuild --&gt; $P=='xfree-4.2.1'</dd>
</dl>
<dl>
<dt>
<b>PN</b></dt>
<dd>
Contains the name of the script without the version number.<div style="height: 1.00em;">
&#160;</div>
xfree-4.2.1-r2.ebuild --&gt; $PN=='xfree'</dd>
</dl>
<dl>
<dt>
<b>PV</b></dt>
<dd>
Contains the version number without the revision.<div style="height: 1.00em;">
&#160;</div>
xfree-4.2.1-r2.ebuild --&gt; $PV=='4.2.1'</dd>
</dl>
<dl>
<dt>
<b>PR</b></dt>
<dd>
Contains the revision number or 'r0' if no revision number exists.<div style="height: 1.00em;">
&#160;</div>
xfree-4.2.1-r2.ebuild --&gt; $PR=='r2'</dd>
</dl>
<dl>
<dt>
<b>PVR</b></dt>
<dd>
Contains the version number with the revision.<div style="height: 1.00em;">
&#160;</div>
xfree-4.2.1-r2.ebuild --&gt; $PVR=='4.2.1-r2'</dd>
</dl>
<dl>
<dt>
<b>PF</b></dt>
<dd>
Contains the full package name <b>PN</b>-<b>PVR</b><div style="height: 1.00em;">
&#160;</div>
xfree-4.2.1-r2.ebuild --&gt; $PF=='xfree-4.2.1-r2'</dd>
</dl>
<dl>
<dt>
<b>CATEGORY</b></dt>
<dd>
Contains the package category name.</dd>
</dl>
<dl>
<dt>
<b>A</b></dt>
<dd>
Contains all source files required for the package.  This variable must not be defined. It is autogenerated from the  <b>SRC_URI</b> variable.</dd>
</dl>
<dl>
<dt>
<b>WORKDIR = <i>&quot;${PORTAGE_TMPDIR}/portage/${CATEGORY}/${PF}/work&quot;</i></b></dt>
<dd>
Contains the path to the package build root.  Do not modify this variable.</dd>
</dl>
<dl>
<dt>
<b>FILESDIR = <i>&quot;${repository_location}/${CATEGORY}/${PN}/files&quot;</i></b></dt>
<dd>
Contains the path to the 'files' subdirectory in the package specific location in given repository.  Do not modify this variable.</dd>
</dl>
<dl>
<dt>
<b>EBUILD_PHASE</b></dt>
<dd>
Contains the abreviated name of the phase function that is currently executing, such as &quot;setup&quot;, &quot;unpack&quot;, &quot;compile&quot;, or &quot;preinst&quot;.</dd>
</dl>
<dl>
<dt>
<b>EBUILD_PHASE_FUNC</b></dt>
<dd>
Beginning with <b>EAPI 5</b>, contains the full name of the phase function that is currently executing, such as &quot;pkg_setup&quot;, &quot;src_unpack&quot;, &quot;src_compile&quot;, or &quot;pkg_preinst&quot;.</dd>
</dl>
<dl>
<dt>
<b>EPREFIX</b></dt>
<dd>
Beginning with <b>EAPI 3</b>, contains the offset that this Portage was configured for during installation.  The offset is sometimes necessary in an ebuild or eclass, and is available in such cases as ${EPREFIX}.  EPREFIX does not contain a trailing slash, therefore an absent offset is represented by the empty string.  Do not modify this variable.</dd>
</dl>
<dl>
<dt>
<b>S = <i>&quot;${WORKDIR}/${P}&quot;</i></b></dt>
<dd>
Contains the path to the temporary <i>build directory</i>.  This variable is used by the functions  <i>src_compile</i> and <i>src_install</i>.  Both are executed with  <i>S</i> as the current directory.  This variable may be modified to match the extraction directory of a tarball for the package.</dd>
</dl>
<dl>
<dt>
<b>T = <i>&quot;${PORTAGE_TMPDIR}/portage/${CATEGORY}/${PF}/temp&quot;</i></b></dt>
<dd>
Contains the path to a <i>temporary directory</i>.  You may use this for whatever you like.</dd>
</dl>
<dl>
<dt>
<b>D = <i>&quot;${PORTAGE_TMPDIR}/portage/${CATEGORY}/${PF}/image/&quot;</i></b></dt>
<dd>
Contains the path to the temporary <i>install directory</i>.  Every write operation that does not involve the helper tools and functions (found below) should be prefixed with ${D}. Beginning with  <b>EAPI 3</b>, the offset prefix often needs to be taken into account here, for which the variable ${ED} is provided (see below). Do not modify this variable.</dd>
</dl>
<dl>
<dt>
<b>ED = <i>&quot;${PORTAGE_TMPDIR}/portage/${CATEGORY}/${PF}/image/${EPREFIX}/&quot;</i></b></dt>
<dd>
Beginning with <b>EAPI 3</b>, contains the path &quot;${D%/}${EPREFIX}/&quot; for convenience purposes. For EAPI values prior to  <b>EAPI 3</b> which do not support ED, helpers use  <b>D</b> where they would otherwise use ED. Do not modify this variable.</dd>
</dl>
<dl>
<dt>
<b>MERGE_TYPE</b></dt>
<dd>
Beginning with <b>EAPI 4</b>, the MERGE_TYPE variable can be used to query the current merge type. This variable will contain one of the following possible values:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<table class="tbl">
<col style="width: 9.00ex;"/>
<col style="width: 46.00ex;"/>
<tbody>
<tr>
<td>
Value</td>
<td>
Meaning</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
binary</td>
<td>
previously-built which is scheduled for merge</td>
</tr>
<tr>
<td>
buildonly</td>
<td>
source-build which is not scheduled for merge</td>
</tr>
<tr>
<td>
source</td>
<td>
source-build which is scheduled for merge</td>
</tr>
</tbody>
</table>
</div>
<dl>
<dt>
<b>PROVIDES_EXCLUDE = <i>[space delimited list of fnmatch patterns]</i></b></dt>
<dd>
Sonames and file paths matched by these fnmatch patterns will be excluded during genertion of  <b>PROVIDES</b> metadata (see  <b>portage</b>(5)). Patterns are delimited by whitespace, and it is possible to create patterns containing quoted whitespace.</dd>
</dl>
<dl>
<dt>
<b>PORTAGE_LOG_FILE</b></dt>
<dd>
Contains the path of the build log. If <b>PORT_LOGDIR</b> variable is unset then PORTAGE_LOG_FILE= <i>&quot;${T}/build.log&quot;</i>.</dd>
</dl>
<dl>
<dt>
<b>PORTAGE_SOCKS5_PROXY</b></dt>
<dd>
Contains the UNIX socket path to SOCKSv5 proxy providing host network access. Available only when running inside network-sandbox and a proxy is available (see network-sandbox in  <b>make.conf</b>(5)).</dd>
</dl>
<dl>
<dt>
<b>REPLACED_BY_VERSION</b></dt>
<dd>
Beginning with <b>EAPI 4</b>, the REPLACED_BY_VERSION variable can be used in pkg_prerm and pkg_postrm to query the package version that is replacing the current package. If there is no replacement package, the variable will be empty, otherwise it will contain a single version number.</dd>
</dl>
<dl>
<dt>
<b>REPLACING_VERSIONS</b></dt>
<dd>
Beginning with <b>EAPI 4</b>, the REPLACING_VERSIONS variable can be used in pkg_pretend, pkg_setup, pkg_preinst and pkg_postinst to query the package version(s) that the current package is replacing. If there are no packages to replace, the variable will be empty, otherwise it will contain a space-separated list of version numbers corresponding to the package version(s) being replaced. Typically, this variable will not contain more than one version, but according to PMS it can contain more.</dd>
</dl>
<dl>
<dt>
<b>REQUIRES_EXCLUDE = <i>[space delimited list of fnmatch patterns]</i></b></dt>
<dd>
Sonames and file paths matched by these fnmatch patterns will be excluded during generation of  <b>REQUIRES</b> metadata (see  <b>portage</b>(5)). Patterns are delimited by whitespace, and it is possible to create patterns containing quoted whitespace.</dd>
</dl>
<dl>
<dt>
<b>ROOT = <i>&quot;/&quot;</i></b></dt>
<dd>
Contains the path that portage should use as the root of the live filesystem. When packages wish to make changes to the live filesystem, they should do so in the tree prefixed by ${ROOT}.  Often the offset prefix needs to be taken into account here, for which the variable ${EROOT} is provided (see below).  Do not modify this variable.</dd>
</dl>
<dl>
<dt>
<b>EROOT = <i>&quot;${ROOT%/}${EPREFIX}/&quot;</i></b></dt>
<dd>
Beginning with <b>EAPI 3</b>, contains &quot;${ROOT%/}${EPREFIX}/&quot; for convenience purposes. Do not modify this variable.</dd>
</dl>
<dl>
<dt>
<b>DESCRIPTION = <i>&quot;A happy little package&quot;</i></b></dt>
<dd>
Should contain a short description of the package.</dd>
</dl>
<dl>
<dt>
<b>EAPI = <i>&quot;0&quot;</i></b></dt>
<dd>
Defines the ebuild API version to which this package conforms. If not defined then it defaults to &quot;0&quot;. If portage does not recognize the EAPI value then it will mask the package and refuse to perform any operations with it since this means that a newer version of portage needs to be installed first. For maximum backward compatiblity, a package should conform to the lowest possible EAPI. Note that anyone who uses the  <b>ebuild</b>(1) and <b>repoman</b>(1) commands with this package will be required to have a version of portage that recognizes the EAPI to which this package conforms.</dd>
</dl>
<dl>
<dt>
<b>SRC_URI = <i>&quot;http://example.com/path/${P}.tar.gz&quot;</i></b></dt>
<dd>
Contains a list of URIs for the required source files.  It can contain multiple URIs for a single source file.  The list is processed in order if the file was not found on any of the  <i>GENTOO_MIRRORS</i>. Beginning with  <b>EAPI 2</b>, the output file name of a given URI may be customized with a &quot;-&gt;&quot; operator on the right hand side, followed by the desired output file name. All tokens, including the operator and output file name, should be separated by whitespace.</dd>
</dl>
<dl>
<dt>
<b>HOMEPAGE = <i>&quot;http://example.com/&quot;</i></b></dt>
<dd>
Should contain a list of URIs for the sources main sites and other further package dependent information.</dd>
</dl>
<dl>
<dt>
<b>KEYWORDS = <i>[-~][x86,ppc,sparc,mips,alpha,arm,hppa]</i></b></dt>
<dd>
Should contain appropriate list of arches that the ebuild is know to work/not work.  By default if you do not know if an ebuild runs under a particular arch simply omit that KEYWORD.  If the ebuild will not work on that arch include it as -ppc for example.  If the ebuild is being submitted for inclusion, it must have ~arch set for architectures where it has been PROVEN TO WORK.  (Packages KEYWORDed this way may be unmasked for testing by setting ACCEPT_KEYWORDS=&quot;~arch&quot; on the command line, or in  <b>make.conf</b>(5)) For an authoritative list please review /usr/portage/profiles/arch.list.  Please keep this list in alphabetical order.</dd>
</dl>
<dl>
<dt>
<b>SLOT</b></dt>
<dd>
This sets the SLOT for packages that may need to have multiple versions co-exist.  By default you should set  <b>SLOT</b>=&quot;0&quot;.  If you are unsure, then do not fiddle with this until you seek some guidance from some guru.  This value should  <i>NEVER</i> be left undefined.<div style="height: 1.00em;">
&#160;</div>
Beginning with <b>EAPI 5</b>, the SLOT variable may contain an optional sub-slot part that follows the regular slot and is delimited by a / character. The sub-slot must be a valid slot name. The sub-slot is used to represent cases in which an upgrade to a new version of a package with a different sub-slot may require dependent packages to be rebuilt. When the sub-slot part is omitted from the SLOT definition, the package is considered to have an implicit sub-slot which is equal to the regular slot. Refer to the  <b>Atom Slot</b>  <b>Operators</b> section for more information about sub-slot usage.</dd>
</dl>
<dl>
<dt>
<b>LICENSE</b></dt>
<dd>
This should be a space delimited list of licenses that the package falls under.  This  <b>_must_</b> be set to a matching license in /usr/portage/licenses/. If the license does not exist in portage yet, you must add it first.</dd>
</dl>
<dl>
<dt>
<b>IUSE</b></dt>
<dd>
This should be a list of any and all USE flags that are leveraged within your build script.  The only USE flags that should not be listed here are arch related flags (see  <b>KEYWORDS</b>). Beginning with <b>EAPI 1</b>, it is possible to prefix flags with + or - in order to create default settings that respectively enable or disable the corresponding  <b>USE</b> flags. For details about  <b>USE</b> flag stacking order, refer to the <b>USE_ORDER</b> variable in  <b>make.conf</b>(5). Given the default <b>USE_ORDER</b> setting, negative IUSE default settings are effective only for negation of repo-level USE settings, since profile and user configuration settings override them.</dd>
</dl>
<dl>
<dt>
<b>DEPEND</b></dt>
<dd>
This should contain a list of all packages that are required for the program to compile (aka  <i>buildtime</i> dependencies).  These are usually libraries and headers.<div style="height: 1.00em;">
&#160;</div>
Starting from experimental <b>EAPI 5-hdepend</b>, tools should go into the  <b>HDEPEND</b> variable instead, as <b>DEPEND</b> will only be installed into the  <i>target</i> system and hence cannot be executed in a cross-compile setting. (See section  <b>Cross-compilation</b> for more information.)<div style="height: 1.00em;">
&#160;</div>
You may use the syntax described above in the <b>Dependencies</b> section.</dd>
</dl>
<dl>
<dt>
<b>RDEPEND</b></dt>
<dd>
This should contain a list of all packages that are required for this program to run (aka  <i>runtime</i> dependencies).  These are usually libraries.<div style="height: 1.00em;">
&#160;</div>
In <b>EAPI 3</b> or earlier, if this is not set, then it defaults to the value of  <b>DEPEND</b>. In <b>EAPI 4</b> or later, <b>RDEPEND</b> will never be implicitly set.<div style="height: 1.00em;">
&#160;</div>
You may use the syntax described above in the <b>Dependencies</b> section.</dd>
</dl>
<dl>
<dt>
<b>HDEPEND</b></dt>
<dd>
This should contain a list of all packages that are required to be executable during compilation of this program (aka  <i>host</i> buildtime dependencies). These are usually tools, like interpreters or (cross-)compilers.<div style="height: 1.00em;">
&#160;</div>
This variable is new in experimental <b>EAPI 5-hdepend</b> and will be installed into the  <i>host</i> system. (See section  <b>Cross-compilation</b> for more information.)<div style="height: 1.00em;">
&#160;</div>
You may use the syntax described above in the <b>Dependencies</b> section.</dd>
</dl>
<dl>
<dt>
<b>PDEPEND</b></dt>
<dd>
This should contain a list of all packages that should be merged after this one (aka  <i>post</i> merge dependencies), but which may be installed by the package manager at any time, if that is not possible.<div style="height: 1.00em;">
&#160;</div>
<b>***WARNING***</b><div style="height: 0.00em;">
&#160;</div>
Use this only as last resort to break cyclic dependencies!<div style="height: 1.00em;">
&#160;</div>
You may use the syntax described above in the <b>Dependencies</b> section.</dd>
</dl>
<dl>
<dt>
<b>REQUIRED_USE</b></dt>
<dd>
Beginning with <b>EAPI 4</b>, the <b>REQUIRED_USE</b> variable can be used to specify combinations of  <b>USE</b> flags that are allowed or not allowed. Elements can be nested when necessary.<table class="tbl">
<col style="width: 51.00ex;"/>
<col style="width: 24.00ex;"/>
<tbody>
<tr>
<td>
Behavior</td>
<td>
Expression</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
If flag1 enabled then flag2 disabled</td>
<td>
flag1? ( !flag2 )</td>
</tr>
<tr>
<td>
If flag1 enabled then flag2 enabled</td>
<td>
flag1? ( flag2 )</td>
</tr>
<tr>
<td>
If flag1 disabled then flag2 enabled</td>
<td>
!flag1? ( flag2 )</td>
</tr>
<tr>
<td>
If flag1 disabled then flag2 disabled</td>
<td>
!flag1? ( !flag2 )</td>
</tr>
<tr>
<td>
Must enable any one or more (inclusive or)</td>
<td>
|| ( flag1 flag2 flag3 )</td>
</tr>
<tr>
<td>
Must enable exactly one but not more (exclusive or)</td>
<td>
^^ ( flag1 flag2 flag3 )</td>
</tr>
<tr>
<td>
May enable at most one (EAPI 5 or later)</td>
<td>
?? ( flag1 flag2 flag3 )</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl>
<dt>
<b>RESTRICT = <i>[strip,mirror,fetch,userpriv]</i></b></dt>
<dd>
This should be a space delimited list of portage features to restrict. You may use conditional syntax to vary restrictions as seen above in DEPEND.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<i>binchecks</i></dt>
<dd>
Disable all QA checks for binaries.  This should ONLY be used in packages for which binary checks make no sense (linux-headers and kernel-sources, for example, can safely be skipped since they have no binaries).  If the binary checks need to be skipped for other reasons (such as proprietary binaries), see the  <b>QA CONTROL VARIABLES</b> section for more specific exemptions.</dd>
</dl>
<dl>
<dt>
<i>bindist</i></dt>
<dd>
Distribution of built packages is restricted.</dd>
</dl>
<dl>
<dt>
<i>fetch</i></dt>
<dd>
like <i>mirror</i> but the files will not be fetched via <b>SRC_URI</b> either.</dd>
</dl>
<dl>
<dt>
<i>installsources</i></dt>
<dd>
Disables installsources for specific packages. This is for packages with binaries that are not compatible with debugedit.</dd>
</dl>
<dl>
<dt>
<i>mirror</i></dt>
<dd>
files in <b>SRC_URI</b> will not be downloaded from the <b>GENTOO_MIRRORS</b>.</dd>
</dl>
<dl>
<dt>
<i>preserve-libs</i></dt>
<dd>
Disables preserve-libs for specific packages. Note than when a package is merged, RESTRICT=preserve-libs applies if either the new instance or the old instance sets RESTRICT=preserve-libs.</dd>
</dl>
<dl>
<dt>
<i>primaryuri</i></dt>
<dd>
fetch from URIs in <b>SRC_URI</b> before <b>GENTOO_MIRRORS</b>.</dd>
</dl>
<dl>
<dt>
<i>splitdebug</i></dt>
<dd>
Disables splitdebug for specific packages. This is for packages with binaries that trigger problems with splitdebug, such as file-collisions between symlinks in /usr/lib/debug/.build-id (triggered by bundled libraries).</dd>
</dl>
<dl>
<dt>
<i>strip</i></dt>
<dd>
final binaries/libraries will not be stripped of debug symbols.</dd>
</dl>
<dl>
<dt>
<i>test</i></dt>
<dd>
do not run src_test even if user has <b>FEATURES</b>=test.</dd>
</dl>
<dl>
<dt>
<i>userpriv</i></dt>
<dd>
Disables userpriv for specific packages.</dd>
</dl>
</div>
<dl>
<dt>
<b>PROPERTIES = <i>[interactive]</i></b></dt>
<dd>
A space delimited list of properties, with conditional syntax support.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<i>interactive</i></dt>
<dd>
One or more ebuild phases will produce a prompt that requires user interaction.</dd>
</dl>
</div>
<dl>
<dt>
<b>PROVIDE = <i>&quot;virtual/TARGET&quot;</i></b></dt>
<dd>
This variable should only be used when a package provides a virtual target. For example, blackdown-jdk and sun-jdk provide  <i>virtual/jdk</i>.  This allows for packages to depend on  <i>virtual/jdk</i> rather than on blackdown or sun specifically.<div style="height: 1.00em;">
&#160;</div>
The <b>PROVIDE</b> variable has been deprecated. See  <i>http://www.gentoo.org/proj/en/glep/glep-0037.html</i> for details.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>DOCS</b></dt>
<dd>
Beginning with <b>EAPI 4</b>, an array or space-delimited list of documentation files for the default src_install function to install using dodoc. If undefined, a reasonable default list is used. See the documentation for src_install below.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="subsection">
<h2>QA Control Variables:</h2><dl>
<dt>
<b>Usage Notes</b></dt>
<dd>
Several QA variables are provided which allow an ebuild to manipulate some of the QA checks performed by portage.  Use of these variables in ebuilds should be kept to an absolute minimum otherwise they defeat the purpose of the QA checks, and their use is subject to agreement of the QA team. They are primarily intended for use by ebuilds that install closed-source binary objects that cannot be altered.<div style="height: 1.00em;">
&#160;</div>
Note that objects that violate these rules may fail on some architectures.</dd>
</dl>
<dl>
<dt>
<b>QA_PREBUILT</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of files that are pre-built binaries. Paths listed here will be appended to each of the QA_* variables listed below. The paths may contain fnmatch-like patterns which will be internally translated to regular expressions for the QA_* variables that support regular expressions instead of fnmatch patterns. The translation mechanism simply replaces &quot;*&quot; with &quot;.*&quot;.</dd>
</dl>
<dl>
<dt>
<b>QA_TEXTRELS</b></dt>
<dd>
This variable can be set to a list of file paths, relative to the image directory, of files that contain text relocations that cannot be eliminated. The paths may contain fnmatch patterns.<div style="height: 1.00em;">
&#160;</div>
This variable is intended to be used on closed-source binary objects that cannot be altered.</dd>
</dl>
<dl>
<dt>
<b>QA_EXECSTACK</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of objects that require executable stack in order to run. The paths may contain fnmatch patterns.<div style="height: 1.00em;">
&#160;</div>
This variable is intended to be used on objects that truly need executable stack (i.e. not those marked to need it which in fact do not).</dd>
</dl>
<dl>
<dt>
<b>QA_WX_LOAD</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of files that contain writable and executable segments.  These are rare. The paths may contain fnmatch patterns.</dd>
</dl>
<dl>
<dt>
<b>QA_FLAGS_IGNORED</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of files that do not contain .GCC.command.line sections or contain .hash sections. The paths may contain regular expressions with escape-quoted special characters.<div style="height: 1.00em;">
&#160;</div>
This variable is intended to be used on files of binary packages which ignore CFLAGS, CXXFLAGS, FFLAGS, FCFLAGS, and LDFLAGS variables.</dd>
</dl>
<dl>
<dt>
<b>QA_MULTILIB_PATHS</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of files that should be ignored for the multilib-strict checks. The paths may contain regular expressions with escape-quoted special characters.</dd>
</dl>
<dl>
<dt>
<b>QA_PRESTRIPPED</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of files that contain pre-stripped binaries. The paths may contain regular expressions with escape-quoted special characters.</dd>
</dl>
<dl>
<dt>
<b>QA_SONAME</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of shared libraries that lack SONAMEs. The paths may contain regular expressions with escape-quoted special characters.</dd>
</dl>
<dl>
<dt>
<b>QA_SONAME_NO_SYMLINK</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of shared libraries that have SONAMEs but should not have a corresponding SONAME symlink in the same directory. The paths may contain regular expressions with escape-quoted special characters.</dd>
</dl>
<dl>
<dt>
<b>QA_AM_MAINTAINER_MODE</b></dt>
<dd>
This should contain a list of lines containing automake missing --run commands. The lines may contain regular expressions with escape-quoted special characters.</dd>
</dl>
<dl>
<dt>
<b>QA_CONFIGURE_OPTIONS</b></dt>
<dd>
This should contain a list of configure options which trigger warnings about unrecognized options. The options may contain regular expressions with escape-quoted special characters.</dd>
</dl>
<dl>
<dt>
<b>QA_DT_NEEDED</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of shared libraries that lack NEEDED entries. The paths may contain regular expressions with escape-quoted special characters.</dd>
</dl>
<dl>
<dt>
<b>QA_DESKTOP_FILE</b></dt>
<dd>
This should contain a list of file paths, relative to the image directory, of desktop files which should not be validated. The paths may contain regular expressions with escape-quoted special characters.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>PORTAGE DECLARATIONS</h1><dl>
<dt>
<b>inherit</b></dt>
<dd>
Inherit is portage's maintenance of extra classes of functions that are external to ebuilds and provided as inheritable capabilities and data. They define functions and set data types as drop-in replacements, expanded, and simplified routines for extremely common tasks to streamline the build process. Call to inherit cannot depend on conditions which can vary in given ebuild. Specification of the eclasses contains only their name and not the  <i>.eclass</i> extension. Also note that the inherit statement must come before other variable declarations unless these variables are used in global scope of eclasses.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>PHASE FUNCTIONS</h1><dl>
<dt>
<b>pkg_pretend</b></dt>
<dd>
Beginning with <b>EAPI 4</b>, this function can be defined in order to check that miscellaneous requirements are met. It is called as early as possible, before any attempt is made to satisfy dependencies. If the function detects a problem then it should call eerror and die. The environment (variables, functions, temporary directories, etc..) that is used to execute pkg_pretend is not saved and therefore is not available in phases that execute afterwards.</dd>
</dl>
<dl>
<dt>
<b>pkg_nofetch</b></dt>
<dd>
This function will be executed when the files in <b>SRC_URI</b> cannot be fetched for any reason. If you turn on  <i>fetch</i> in  <b>RESTRICT</b>, this is useful for displaying information to the user on *how* to obtain said files. All you have to do is output a message and let the function return.  Do not end the function with a call to  <b>die</b>.</dd>
</dl>
<dl>
<dt>
<b>pkg_setup</b></dt>
<dd>
This function can be used if the package needs specific setup actions or checks to be preformed before anything else.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $PORTAGE_TMPDIR</dd>
</dl>
<dl>
<dt>
<b>src_unpack</b></dt>
<dd>
This function is used to unpack all the sources in <i>A</i> to <i>WORKDIR</i>. If not defined in the  <i>ebuild script</i> it calls <i>unpack ${A}</i>. Any patches and other pre configure/compile modifications should be done here.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $WORKDIR</dd>
</dl>
<dl>
<dt>
<b>src_prepare</b></dt>
<dd>
All preparation of source code, such as application of patches, should be done here. This function is supported beginning with  <b>EAPI 2</b>.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $S</dd>
</dl>
<dl>
<dt>
<b>src_configure</b></dt>
<dd>
All necessary steps for configuration should be done here. This function is supported beginning with  <b>EAPI 2</b>.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $S</dd>
</dl>
<dl>
<dt>
<b>src_compile</b></dt>
<dd>
With less than <b>EAPI 2</b>, all necessary steps for both configuration and compilation should be done here. Beginning with  <b>EAPI 2</b>, only compilation steps should be done here.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $S</dd>
</dl>
<dl>
<dt>
<b>src_test</b></dt>
<dd>
Run all package specific test cases. The default is to run &#180;emake check&#180; followed &#180;emake test&#180;. Prior to  <b>EAPI 5</b>, the default src_test implementation will automatically pass the -j1 option as the last argument to emake, and beginning with  <b>EAPI 5</b> it will allow the tests to run in parallel.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $S</dd>
</dl>
<dl>
<dt>
<b>src_install</b></dt>
<dd>
Should contain everything required to install the package in the temporary  <i>install directory</i>.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $S<div style="height: 1.00em;">
&#160;</div>
Beginning with <b>EAPI 4</b>, if src_install is undefined then the following default implementation is used:<div style="height: 1.00em;">
&#160;</div>
<br/>
src_install() {<br/>
    if [[ -f Makefile || -f GNUmakefile || -f makefile ]] ; then<br/>
        emake DESTDIR=&quot;${D}&quot; install<br/>
    fi<div class="spacer">
</div>
<br/>
    if ! declare -p DOCS &amp;&gt;/dev/null ; then<br/>
        local d<br/>
        for d in README* ChangeLog AUTHORS NEWS TODO CHANGES \<br/>
                THANKS BUGS FAQ CREDITS CHANGELOG ; do<br/>
            [[ -s &quot;${d}&quot; ]] &amp;&amp; dodoc &quot;${d}&quot;<br/>
        done<br/>
    elif [[ $(declare -p DOCS) == &quot;declare -a &quot;* ]] ; then<br/>
        dodoc &quot;${DOCS[@]}&quot;<br/>
    else<br/>
        dodoc ${DOCS}<br/>
    fi<br/>
}<br/>
</dd>
</dl>
<dl>
<dt>
<b>pkg_preinst pkg_postinst</b></dt>
<dd>
All modifications required on the live-filesystem before and after the package is merged should be placed here. Also commentary for the user should be listed here as it will be displayed last.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $PWD</dd>
</dl>
<dl>
<dt>
<b>pkg_prerm pkg_postrm</b></dt>
<dd>
Like the pkg_*inst functions but for unmerge.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $PWD</dd>
</dl>
<dl>
<dt>
<b>pkg_config</b></dt>
<dd>
This function should contain optional basic configuration steps.<div style="height: 0.00em;">
&#160;</div>
Initial working directory: $PWD<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>HELPER FUNCTIONS</h1><div class="subsection">
<h2>Phases:</h2><dl>
<dt>
<b>default</b></dt>
<dd>
Calls the default phase function implementation for the currently executing phase. This function is supported beginning with  <b>EAPI 2</b>.</dd>
</dl>
<dl>
<dt>
<b>default_*</b></dt>
<dd>
Beginning with <b>EAPI 2</b>, the default pkg_nofetch and src_* phase functions are accessible via a function having a name that begins with default_ and ends with the respective phase function name. For example, a call to a function with the name default_src_compile is equivalent to a call to the default src_compile implementation.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<table class="tbl">
<col style="width: 23.00ex;"/>
<tbody>
<tr>
<td>
Default Phase Functions</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
default_pkg_nofetch</td>
</tr>
<tr>
<td>
default_src_unpack</td>
</tr>
<tr>
<td>
default_src_prepare</td>
</tr>
<tr>
<td>
default_src_configure</td>
</tr>
<tr>
<td>
default_src_compile</td>
</tr>
<tr>
<td>
default_src_test</td>
</tr>
</tbody>
</table>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>General:</h2><dl>
<dt>
<b>assert <i>[reason]</i></b></dt>
<dd>
Checks the value of the shell's PIPESTATUS array variable, and if any component is non-zero (indicating failure), calls die with  <i>reason</i> as a failure message.</dd>
</dl>
<dl>
<dt>
<b>die <i>[reason]</i></b></dt>
<dd>
Causes the current emerge process to be aborted. The final display will include  <i>reason</i>.<div style="height: 1.00em;">
&#160;</div>
Beginning with <b>EAPI 4</b>, all helpers automatically call <b>die</b> whenever some sort of error occurs. Helper calls may be prefixed with the  <b>nonfatal</b> helper in order to prevent errors from being fatal.</dd>
</dl>
<dl>
<dt>
<b>nonfatal <i>&lt;helper&gt;</i></b></dt>
<dd>
Execute <i>helper</i> and <i>do not</i> call die if it fails. The  <b>nonfatal</b> helper is available beginning with <b>EAPI 4</b>.</dd>
</dl>
<dl>
<dt>
<b>use <i>&lt;USE item&gt;</i></b></dt>
<dd>
If <i>USE item</i> is in the <b>USE</b> variable, the function will silently return 0 (aka shell true).  If  <i>USE item</i> is not in the <b>USE</b> variable, the function will silently return 1 (aka shell false).   <b>usev</b> is a verbose version of  <b>use</b>.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<i>Example:</i></dt>
<dd>
<br/>
if use gnome ; then<br/>
	guiconf=&quot;--enable-gui=gnome --with-x&quot;<br/>
elif use gtk ; then<br/>
	guiconf=&quot;--enable-gui=gtk --with-x&quot;<br/>
elif use X ; then<br/>
	guiconf=&quot;--enable-gui=athena --with-x&quot;<br/>
else<br/>
	# No gui version will be built<br/>
	guiconf=&quot;&quot;<br/>
fi<br/>
</dd>
</dl>
</div>
<dl>
<dt>
<b>usev <i>&lt;USE item&gt;</i></b></dt>
<dd>
Like <b>use</b>, but also echoes <i>USE item</i> when <b>use</b> returns true.</dd>
</dl>
<dl>
<dt>
<b>usex <i>&lt;USE flag&gt;</i> <i>[true output]</i> <i>[false output]</i> <i>[true suffix]</i> <i>[false suffix]</i></b></dt>
<dd>
If USE flag is set, echo [true output][true suffix] (defaults to &quot;yes&quot;), otherwise echo [false output][false suffix] (defaults to &quot;no&quot;). The usex helper is available beginning with  <b>EAPI 5</b>.</dd>
</dl>
<dl>
<dt>
<b>use_with <i>&lt;USE item&gt;</i> <i>[configure name]</i> <i>[configure opt]</i></b></dt>
<dd>
Useful for creating custom options to pass to a configure script. If <i>USE</i>  <i>item</i> is in the <b>USE</b> variable and a <i>configure opt</i> is specified, then the string  <i>--with-[configure name]=[configure opt]</i> will be echoed. If  <i>configure opt</i> is not specified, then just  <i>--with-[configure name]</i> will be echoed.  If <i>USE item</i> is not in the  <b>USE</b> variable, then the string <i>--without-[configure name]</i> will be echoed. If  <i>configure name</i> is not specified, then <i>USE item</i> will be used in its place. Beginning with  <b>EAPI 4</b>, an empty <i>configure</i>  <i>opt</i> argument is recognized. In <b>EAPI 3</b> and earlier, an empty  <i>configure opt</i> argument is treated as if it weren't provided.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<i>Examples:</i></dt>
<dd>
<br/>
USE=&quot;opengl&quot;<br/>
myconf=$(use_with opengl)<br/>
(myconf now has the value &quot;--with-opengl&quot;)<div class="spacer">
</div>
<br/>
USE=&quot;jpeg&quot;<br/>
myconf=$(use_with jpeg libjpeg)<br/>
(myconf now has the value &quot;--with-libjpeg&quot;)<div class="spacer">
</div>
<br/>
USE=&quot;&quot;<br/>
myconf=$(use_with jpeg libjpeg)<br/>
(myconf now has the value &quot;--without-libjpeg&quot;)<div class="spacer">
</div>
<br/>
USE=&quot;sdl&quot;<br/>
myconf=$(use_with sdl SDL all-plugins)<br/>
(myconf now has the value &quot;--with-SDL=all-plugins&quot;)<br/>
</dd>
</dl>
</div>
<dl>
<dt>
<b>use_enable <i>&lt;USE item&gt;</i> <i>[configure name]</i> <i>[configure opt]</i></b></dt>
<dd>
Same as <b>use_with</b> above, except that the configure options are  <i>--enable-</i> instead of <i>--with-</i> and <i>--disable-</i> instead of  <i>--without-</i>. Beginning with <b>EAPI 4</b>, an empty <i>configure</i>  <i>opt</i> argument is recognized. In <b>EAPI 3</b> and earlier, an empty  <i>configure opt</i> argument is treated as if it weren't provided.</dd>
</dl>
<dl>
<dt>
<b>has <i>&lt;item&gt;</i> <i>&lt;item list&gt;</i></b></dt>
<dd>
If <i>item</i> is in <i>item list</i>, then <b>has</b> returns 0. Otherwise, 1 is returned. There is another version,  <b>hasv</b>, that will conditionally echo  <i>item</i>.<div style="height: 0.00em;">
&#160;</div>
The <i>item list</i> is delimited by the <i>IFS</i> variable.  This variable has a default value of ' ', or a space.  It is a  <b>bash</b>(1) setting.</dd>
</dl>
<dl>
<dt>
<b>hasv <i>&lt;item&gt;</i> <i>&lt;item list&gt;</i></b></dt>
<dd>
Like <b>has</b>, but also echoes <i>item</i> when <b>has</b> returns true.</dd>
</dl>
<dl>
<dt>
<b>has_version <i>[--host-root]</i> <i>&lt;category/package-version&gt;</i></b></dt>
<dd>
Check to see if <i>category/package-version</i> is installed on the system. The parameter accepts all values that are acceptable in the  <b>DEPEND</b> variable.  The function returns 0 if  <i>category/package-version</i> is installed, 1 otherwise. Beginning with  <b>EAPI 5</b>, the --host-root option may be used in order to cause the query to apply to the host root instead of ${ROOT}.</dd>
</dl>
<dl>
<dt>
<b>best_version <i>[--host-root]</i> <i>&lt;package name&gt;</i></b></dt>
<dd>
This function will look up <i>package name</i> in the database of currently installed programs and echo the &quot;best version&quot; of the package that is currently installed. Beginning with  <b>EAPI 5</b>, the --host-root option may be used in order to cause the query to apply to the host root instead of ${ROOT}.<div style="height: 1.00em;">
&#160;</div>
Example:<br/>
	VERINS=&quot;$(best_version net-ftp/glftpd)&quot;<br/>
	(VERINS now has the value &quot;net-ftp/glftpd-1.27&quot; if glftpd-1.27 is 	installed)<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>Hooks:</h2><dl>
<dt>
<b>register_die_hook <i>[list of function names]</i></b></dt>
<dd>
Register one or more functions to call when the ebuild fails for any reason, including file collisions with other packages.</dd>
</dl>
<dl>
<dt>
<b>register_success_hook <i>[list of function names]</i></b></dt>
<dd>
Register one or more functions to call when the ebuild builds and/or installs successfully.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>Output:</h2><dl>
<dt>
<b>einfo <i>&quot;disposable message&quot;</i></b></dt>
<dd>
Same as <b>elog</b>, but should be used when the message isn't important to the user (like progress or status messages during the build process).</dd>
</dl>
<dl>
<dt>
<b>elog <i>&quot;informative message&quot;</i></b></dt>
<dd>
If you need to display a message that you wish the user to read and take notice of, then use  <b>elog</b>.  It works just like <b>echo</b>(1), but adds a little more to the output so as to catch the user's eye. The message will also be logged by portage for later review.</dd>
</dl>
<dl>
<dt>
<b>ewarn <i>&quot;warning message&quot;</i></b></dt>
<dd>
Same as <b>einfo</b>, but should be used when showing a warning to the user.</dd>
</dl>
<dl>
<dt>
<b>eqawarn <i>&quot;QA warning message&quot;</i></b></dt>
<dd>
Same as <b>einfo</b>, but should be used when showing a QA warning to the user.</dd>
</dl>
<dl>
<dt>
<b>eerror <i>&quot;error message&quot;</i></b></dt>
<dd>
Same as <b>einfo</b>, but should be used when showing an error to the user.</dd>
</dl>
<dl>
<dt>
<b>ebegin <i>&quot;helpful message&quot;</i></b></dt>
<dd>
Like <b>einfo</b>, we output a <i>helpful message</i> and then hint that the following operation may take some time to complete.  Once the task is finished, you need to call  <b>eend</b>.</dd>
</dl>
<dl>
<dt>
<b>eend <i>&lt;status&gt;</i> <i>[&quot;error message&quot;]</i></b></dt>
<dd>
Followup the <b>ebegin</b> message with an appropriate &quot;OK&quot; or &quot;!!&quot; (for errors) marker.  If  <i>status</i> is non-zero, then the additional <i>error</i>  <i>message</i> is displayed.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>Unpack:</h2><dl>
<dt>
<b>unpack <i>&lt;source&gt;</i> <i>[list of more sources]</i></b></dt>
<dd>
This function uncompresses and/or untars a list of sources into the current directory. The function will append  <i>source</i> to the <b>DISTDIR</b> variable.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>Compile:</h2><dl>
<dt>
<b>econf <i>[configure options]</i></b></dt>
<dd>
This is used as a replacement for configure.  Performs:<br/>
${<i>ECONF_SOURCE</i>:-.}/configure \<br/>
	${CBUILD:+--build=${CBUILD}} \<br/>
	--datadir=&quot;${EPREFIX}&quot;/usr/share \<br/>
	--host=${CHOST} \<br/>
	--infodir=&quot;${EPREFIX}&quot;/usr/share/info \<br/>
	--localstatedir=&quot;${EPREFIX}&quot;/var/lib \<br/>
	--prefix=&quot;${EPREFIX}&quot;/usr \<br/>
	--mandir=&quot;${EPREFIX}&quot;/usr/share/man \<br/>
	--sysconfdir=&quot;${EPREFIX}&quot;/etc \<br/>
	${CTARGET:+--target=${CTARGET}} \<br/>
	--disable-dependency-tracking \<br/>
	<i>${EXTRA_ECONF}</i> \<br/>
	<i>configure options</i> || die &quot;econf failed&quot;<br/>
Note that the <i>EXTRA_ECONF</i> is for users only, not for ebuild writers.  If you wish to pass more options to configure, just pass the extra arguments to  <b>econf</b>. Also note that <b>econf</b> automatically calls  <b>die</b> if the configure script fails. Beginning with  <b>EAPI 3</b>, <b>econf</b> uses the <b>${EPREFIX}</b> variable which is disregarded for prior  <b>EAPI</b> values. Beginning with  <b>EAPI 4</b>, <b>econf</b> adds  <i>--disable-dependency-tracking</i> to the arguments if the string  <i>disable-dependency-tracking</i> occurs in the output of  <i>configure --help</i>. Beginning with  <b>EAPI 5</b>, <b>econf</b> adds  <i>disable-silent-rules</i> to the arguments if the string  <i>disable-silent-rules</i> occurs in the output of  <i>configure --help</i>.</dd>
</dl>
<dl>
<dt>
<b>emake <i>[make options]</i></b></dt>
<dd>
This must be used in place of `make` in ebuilds.  Performs `${MAKE:-make} ${MAKEOPTS}  <i>make options</i> ${EXTRA_EMAKE}`, and calls `die` automatically starting with  <b>EAPI 4</b>.<div style="height: 1.00em;">
&#160;</div>
The <b>MAKEOPTS</b> variable is set by the user so they can enable features such as parallel builds; see  <b>make.conf</b>(5) for more details.<div style="height: 1.00em;">
&#160;</div>
The <b>EXTRA_EMAKE</b> knob is portage feature so developers can override things while debugging ebuilds; it is not part of any EAPI specification.<div style="height: 1.00em;">
&#160;</div>
<b>***WARNING***</b><div style="height: 0.00em;">
&#160;</div>
You must make sure your build is happy with parallel makes (make -j2).  It should be tested thoroughly as parallel makes are notorious for failing _sometimes_ but not always.  If you determine that your package fails to build in parallel, and you are unable to resolve the issue, then you should run ` <b>emake</b> -j1` explicitly.  This is a last resort however as it can significantly slow down builds on systems with lots of processors.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>Install:</h2><dl>
<dt>
<b>einstall <i>[make options]</i></b></dt>
<dd>
This is used as a replacement for make install.  Performs:<br/>
make \<br/>
	prefix=${ED}/usr \<br/>
	datadir=${ED}/usr/share \<br/>
	infodir=${ED}/usr/share/info \<br/>
	localstatedir=${ED}/var/lib \<br/>
	mandir=${ED}/usr/share/man \<br/>
	sysconfdir=${ED}/etc \<br/>
	<i>${EXTRA_EINSTALL}</i> \<br/>
	<i>make options</i> \<br/>
	install<br/>
Please do <b>not</b> use this in place of 'emake install DESTDIR=${D}'. That is the preferred way of installing make-based packages.  Also, do not utilize the  <i>EXTRA_EINSTALL</i> variable since it is for users.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>prepall</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>prepalldocs</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>prepallinfo</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>prepallman</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>prepallstrip</b></dt>
<dd>
Useful for when a package installs into <b>${D}</b> via scripts (i.e. makefiles).  If you want to be sure that libraries are executable, aclocal files are installed into the right place, doc/info/man files are all compressed, and that executables are all stripped of debugging symbols, then use these suite of functions.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>prepall:</b></dt>
<dd>
Runs <b>prepallman</b>, <b>prepallinfo</b>, <b>prepallstrip</b>, sets libraries +x, and then checks aclocal directories.  Please note this does  <i>*not*</i> run <b>prepalldocs</b>.</dd>
</dl>
<dl>
<dt>
<b>prepalldocs:</b></dt>
<dd>
Compresses all doc files in ${ED}/usr/share/doc.</dd>
</dl>
<dl>
<dt>
<b>prepallinfo:</b></dt>
<dd>
Compresses all info files in ${ED}/usr/share/info.</dd>
</dl>
<dl>
<dt>
<b>prepallman:</b></dt>
<dd>
Compresses all man files in ${ED}/usr/share/man.</dd>
</dl>
<dl>
<dt>
<b>prepallstrip:</b></dt>
<dd>
Strips all executable files of debugging symboles.  This includes libraries.</dd>
</dl>
</div>
<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>prepinfo <i>[dir]</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>prepman <i>[dir]</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>prepstrip <i>[dir]</i></b></dt>
<dd>
Similar to the <b>prepall</b> functions, these are subtle in their differences.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>prepinfo:</b></dt>
<dd>
If a <i>dir</i> is not specified, then <b>prepinfo</b> will assume the dir  <i>usr</i>. <b>prepinfo</b> will then compress all the files in ${ED}/ <i>dir</i>/info.</dd>
</dl>
<dl>
<dt>
<b>prepman:</b></dt>
<dd>
If a <i>dir</i> is not specified, then <b>prepman</b> will assume the dir  <i>usr</i>. <b>prepman</b> will then compress all the files in ${ED}/ <i>dir</i>/man/*/.</dd>
</dl>
<dl>
<dt>
<b>prepstrip:</b></dt>
<dd>
All the files found in ${ED}/<i>dir</i> will be stripped.  You may specify multiple directories.</dd>
</dl>
</div>
<dl>
<dt>
<b>docompress <i>[-x] &lt;path&gt; [list of more paths]</i></b></dt>
<dd>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
Beginning with <b>EAPI 4</b>, the <b>docompress</b> helper is used to manage lists of files to be included or excluded from optional compression. If the first argument is  <b>-x</b>, add each of its subsequent arguments to the exclusion list. Otherwise, add each argument to the inclusion list. The inclusion list initially contains  <i>/usr/share/doc</i>,  <i>/usr/share/info</i>, and <i>/usr/share/man</i>. The exclusion list initially contains  <i>/usr/share/doc/${PF}/html</i>.<div style="height: 1.00em;">
&#160;</div>
The optional compression shall be carried out after <b>src_install</b> has completed, and before the execution of any subsequent phase function. For each item in the inclusion list, pretend it has the value of the  <b>D</b> variable prepended, then:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
If it is a directory, act as if every file or directory immediately under this directory were in the inclusion list.<div style="height: 1.00em;">
&#160;</div>
If the item is a file, it may be compressed unless it has been excluded as described below.<div style="height: 1.00em;">
&#160;</div>
If the item does not exist, it is ignored.</div>
<div style="height: 1.00em;">
&#160;</div>
Whether an item is to be excluded is determined as follows: For each item in the exclusion list, pretend it has the value of the  <b>D</b> variable prepended, then:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
If it is a directory, act as if every file or directory immediately under this directory were in the exclusion list.<div style="height: 1.00em;">
&#160;</div>
If the item is a file, it shall not be compressed.<div style="height: 1.00em;">
&#160;</div>
If the item does not exist, it is ignored.</div>
</div>
<dl>
<dt>
<b>dosed <i>&quot;s:orig:change:g&quot; &lt;filename&gt;</i></b></dt>
<dd>
Beginning with <b>EAPI 4</b>, the <b>dosed</b> helper no longer exists. Ebuilds should call  <b>sed</b>(1) directly (and assume that it is GNU sed).<div style="height: 1.00em;">
&#160;</div>
Performs sed in place on <i>filename</i> inside ${ED}. If no expression is given then  <i>&quot;s:${D}::g&quot;</i> is used as the default expression.  Note that this expression does  <b>NOT</b> use the offset prefix.<div style="height: 0.00em;">
&#160;</div>
<b>'dosed&#160;&quot;s:/usr/local:/usr:g&quot;&#160;/usr/bin/some-script'</b> runs sed on ${ED}/usr/bin/some-script</dd>
</dl>
<dl>
<dt>
<b>dodir <i>&lt;path&gt; [more paths]</i></b></dt>
<dd>
Creates directories inside of ${ED}.<div style="height: 0.00em;">
&#160;</div>
<b>'dodir&#160;/usr/lib/apache'</b> creates ${ED}/usr/lib/apache.  Note that the do* functions will run  <b>dodir</b> for you.</dd>
</dl>
<dl>
<dt>
<b>diropts <i>[options for install(1)]</i></b></dt>
<dd>
Can be used to define options for the install function used in  <b>dodir</b>.  The default is <i>-m0755</i>.</dd>
</dl>
<dl>
<dt>
<b>into <i>&lt;path&gt;</i></b></dt>
<dd>
Sets the root (<i>DESTTREE</i>) for other functions like <b>dobin</b>,  <b>dosbin</b>, <b>doman</b>, <b>doinfo</b>, <b>dolib</b>.<div style="height: 0.00em;">
&#160;</div>
The default root is /usr.</dd>
</dl>
<dl>
<dt>
<b>keepdir <i>&lt;path&gt; [more paths]</i></b></dt>
<dd>
Tells portage to leave directories behind even if they're empty.  Functions the same as  <b>dodir</b>.</dd>
</dl>
<dl>
<dt>
<b>dobin <i>&lt;binary&gt; [list of more binaries]</i></b></dt>
<dd>
Installs a <i>binary</i> or a list of binaries into <i>DESTTREE</i>/bin. Creates all necessary dirs.</dd>
</dl>
<dl>
<dt>
<b>dosbin <i>&lt;binary&gt; [list of more binaries]</i></b></dt>
<dd>
Installs a <i>binary</i> or a list of binaries into <i>DESTTREE</i>/sbin. Creates all necessary dirs.</dd>
</dl>
<dl>
<dt>
<b>doinitd <i>&lt;init.d script&gt; [list of more init.d scripts]</i></b></dt>
<dd>
Install Gentoo <i>init.d scripts</i>.  They will be installed into the correct location for Gentoo init.d scripts (/etc/init.d/).  Creates all necessary dirs.</dd>
</dl>
<dl>
<dt>
<b>doconfd <i>&lt;conf.d file&gt; [list of more conf.d file]</i></b></dt>
<dd>
Install Gentoo <i>conf.d files</i>.  They will be installed into the correct location for Gentoo conf.d files (/etc/conf.d/).  Creates all necessary dirs.</dd>
</dl>
<dl>
<dt>
<b>doenvd <i>&lt;env.d entry&gt; [list of more env.d entries]</i></b></dt>
<dd>
Install Gentoo <i>env.d entries</i>.  They will be installed into the correct location for Gentoo env.d entries (/etc/env.d/).  Creates all necessary dirs.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dolib <i>&lt;library&gt;</i> <i>[list of more libraries]</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>dolib.a <i>&lt;library&gt;</i> <i>[list of more libraries]</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>dolib.so <i>&lt;library&gt;</i> <i>[list of more libraries]</i></b></dt>
<dd>
Installs a library or a list of libraries into <i>DESTTREE</i>/lib. Creates all necessary dirs.</dd>
</dl>
<dl>
<dt>
<b>libopts <i>[options for install(1)]</i></b></dt>
<dd>
Can be used to define options for the install function used in the  <b>dolib</b> functions.  The default is <i>-m0644</i>.</dd>
</dl>
<dl>
<dt>
<b>doman <i>[-i18n=&lt;locale&gt;]</i> <i>&lt;man-page&gt; [list of more man-pages]</i></b></dt>
<dd>
Installs manual-pages into /usr/share/man/man[0-9n] depending on the manual file ending.  The files are compressed if they are not already.  You can specify locale-specific manpages with the  <i>-i18n</i> option.  Then the man-page will be installed into /usr/share/man/ <i>&lt;locale&gt;</i>/man[0-9n]. Beginning with  <b>EAPI 2</b>, a locale-specific manpage which contains a locale in the file name will be installed in /usr/share/man/ <i>&lt;locale&gt;</i>/man[0-9n], with the locale portion of the file name removed, and the  <i>-i18n</i> option has no effect. For example, with  <b>EAPI 2</b>, a manpage named foo. <i>&lt;locale&gt;</i>.1 will be installed as /usr/share/man/ <i>&lt;locale&gt;</i>/man1/foo.1. Beginning with <b>EAPI 4</b>, the  <i>-i18n</i> option takes precedence over the locale suffix of the file name.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dohard <i>&lt;filename&gt; &lt;linkname&gt;</i></b></dt>
<dd>
Beginning with <b>EAPI 4</b>, the <b>dohard</b> helper no longer exists. Ebuilds should call  <b>ln</b>(1) directly.</dd>
</dl>
<dl>
<dt>
<b>dosym <i>&lt;filename&gt; &lt;linkname&gt;</i></b></dt>
<dd>
Performs the ln command to create a symlink.</dd>
</dl>
<dl>
<dt>
<b>doheader <i>[-r] &lt;file&gt; [list of more files]</i></b></dt>
<dd>
Installs the given header files into /usr/include/, by default with file mode  <i>0644</i> (this can be overridden with the  <b>insopts</b> function). Setting -r sets recursive. The  <b>doheader</b> helper is available beginning with <b>EAPI 5</b>.</dd>
</dl>
<dl>
<dt>
<b>dohtml <i> [-a filetypes] [-r] [-x list-of-dirs-to-ignore] [list-of-files-and-dirs]</i></b></dt>
<dd>
Installs the files in the list of files (space-separated list) into /usr/share/doc/${PF}/html provided the file ends in .htm, .html, .css, .js, .gif, .jpeg, .jpg, or .png. Setting  <i>-a</i> limits what types of files will be included,  <i>-A</i> appends to the default list, setting <i>-x</i> sets which dirs to exclude (CVS excluded by default),  <i>-p</i> sets a document prefix,  <i>-r</i> sets recursive.</dd>
</dl>
<dl>
<dt>
<b>doinfo <i>&lt;info-file&gt; [list of more info-files]</i></b></dt>
<dd>
Installs info-pages into <i>DESTDIR</i>/info.  Files are automatically gzipped.  Creates all necessary dirs.</dd>
</dl>
<dl>
<dt>
<b>domo <i>&lt;locale-file&gt; [list of more locale-files]</i></b></dt>
<dd>
Installs locale-files into <i>DESTDIR</i>/usr/share/locale/[LANG] depending on local-file's ending.  Creates all necessary dirs.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>fowners <i>&lt;permissions&gt; &lt;file&gt; [files]</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>fperms <i>&lt;permissions&gt; &lt;file&gt; [files]</i></b></dt>
<dd>
Performs chown (<b>fowners</b>) or chmod (<b>fperms</b>), applying  <i>permissions</i> to <i>files</i>.</dd>
</dl>
<dl>
<dt>
<b>insinto <i>[path]</i></b></dt>
<dd>
Sets the destination path for the <b>doins</b> function.<div style="height: 0.00em;">
&#160;</div>
The default path is /.</dd>
</dl>
<dl>
<dt>
<b>insopts <i>[options for install(1)]</i></b></dt>
<dd>
Can be used to define options for the install function used in  <b>doins</b>.  The default is <i>-m0644</i>.</dd>
</dl>
<dl>
<dt>
<b>doins <i>[-r] &lt;file&gt; [list of more files]</i></b></dt>
<dd>
Installs files into the path controlled by <b>insinto</b>.  This function uses  <b>install</b>(1).  Creates all necessary dirs. Setting -r sets recursive. Beginning with  <b>EAPI 4</b>, both  <b>doins</b> and <b>newins</b> preserve symlinks. In <b>EAPI 3</b> and earlier, symlinks are dereferenced rather than preserved.</dd>
</dl>
<dl>
<dt>
<b>exeinto <i>[path]</i></b></dt>
<dd>
Sets the destination path for the <b>doexe</b> function.<div style="height: 0.00em;">
&#160;</div>
The default path is /.</dd>
</dl>
<dl>
<dt>
<b>exeopts <i>[options for install(1)]</i></b></dt>
<dd>
Can be used to define options for the install function used in <b>doexe</b>. The default is  <i>-m0755</i>.</dd>
</dl>
<dl>
<dt>
<b>doexe <i>&lt;executable&gt; [list of more executables]</i></b></dt>
<dd>
Installs executables into the path controlled by <b>exeinto</b>.  This function uses  <b>install</b>(1).  Creates all necessary dirs.</dd>
</dl>
<dl>
<dt>
<b>docinto <i>[path]</i></b></dt>
<dd>
Sets the subdir used by <b>dodoc</b> and <b>dohtml</b> when installing into the document tree (based in /usr/share/doc/${PF}/).  Default is no subdir, or just &quot;&quot;.</dd>
</dl>
<dl>
<dt>
<b>dodoc <i>[-r] &lt;document&gt; [list of more documents]</i></b></dt>
<dd>
Installs a document or a list of documents into /usr/share/doc/${PF}/ <i>&lt;docinto path&gt;</i>. Documents are marked for compression.  Creates all necessary dirs. Beginning with  <b>EAPI 4</b>, there is support for recursion, enabled by the new  <i>-r</i> option.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>newbin <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newsbin <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newinitd <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newconfd <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newenvd <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newlib.so <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newlib.a <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newman <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newins <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newexe <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>newdoc <i>&lt;old file&gt; &lt;new filename&gt;</i></b></dt>
<dd>
All these functions act like the do* functions, but they only work with one file and the file is installed as  <i>[new filename]</i>. Beginning with  <b>EAPI 5</b>, standard input is read when the first parameter is - (a hyphen).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>EXAMPLES</h1><br/>
# Copyright 1999-2013 Gentoo Foundation<br/>
# Distributed under the terms of the GNU General Public License v2<br/>
# $Header: $<div class="spacer">
</div>
<br/>
EAPI=&quot;5&quot;<div class="spacer">
</div>
<br/>
inherit some_eclass another_eclass<div class="spacer">
</div>
<br/>
DESCRIPTION=&quot;Super-useful stream editor (sed)&quot;<br/>
HOMEPAGE=&quot;http://www.gnu.org/software/sed/sed.html&quot;<br/>
SRC_URI=&quot;ftp://alpha.gnu.org/pub/gnu/${PN}/${P}.tar.gz&quot;<div class="spacer">
</div>
<br/>
LICENSE=&quot;GPL-2&quot;<br/>
SLOT=&quot;0&quot;<br/>
KEYWORDS=&quot;~x86&quot;<br/>
IUSE=&quot;&quot;<div class="spacer">
</div>
<br/>
RDEPEND=&quot;&quot;<br/>
DEPEND=&quot;nls? ( sys-devel/gettext )&quot;<div class="spacer">
</div>
<br/>
src_configure() {<br/>
	econf \<br/>
		--bindir=&quot;${EPREFIX}&quot;/bin<br/>
}<div class="spacer">
</div>
<br/>
src_install() {<br/>
	emake DESTDIR=&quot;${D}&quot; install<br/>
	dodoc NEWS README* THANKS AUTHORS BUGS ChangeLog<br/>
}<br/>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
The <i>/usr/lib/portage/bin/ebuild.sh</i> script.</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
The helper apps in <i>/usr/lib/portage/bin</i>.</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>/etc/portage/make.conf</b></dt>
<dd>
Contains variables for the build-process and overwrites those in make.defaults.</dd>
</dl>
<dl>
<dt>
<b>/usr/share/portage/config/make.globals</b></dt>
<dd>
Contains the default variables for the build-process, you should edit  <i>/etc/portage/make.conf</i> instead.</dd>
</dl>
<dl>
<dt>
<b>/etc/portage/color.map</b></dt>
<dd>
Contains variables customizing colors.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>ebuild</b>(1), <b>make.conf</b>(5), <b>color.map</b>(5)<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>REPORTING BUGS</h1> Please report bugs via http://bugs.gentoo.org/<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>AUTHORS</h1><br/>
Achim Gottinger &lt;achim@gentoo.org&gt;<br/>
Mark Guertin &lt;gerk@gentoo.org&gt;<br/>
Nicholas Jones &lt;carpaski@gentoo.org&gt;<br/>
Mike Frysinger &lt;vapier@gentoo.org&gt;<br/>
Arfrever Frehtes Taifersar Arahesis &lt;arfrever@apache.org&gt;<br/>
Fabian Groffen &lt;grobian@gentoo.org&gt;<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
Nov 2014</td>
<td class="foot-os">
Portage 2.2.20</td>
</tr>
</table>
</div>
</body>
</html>

