<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
KEY_SETSECRET(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
KEY_SETSECRET(3)</td>
<td class="head-vol">
Linux Programmer's Manual</td>
<td class="head-rtitle">
KEY_SETSECRET(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> key_decryptsession, key_encryptsession, key_setsecret, key_gendes, key_secretkey_is_set - interfaces to rpc keyserver daemon</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;rpc/rpc.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<b>int key_decryptsession(char *</b><i>remotename</i><b>,</b> <b>des_block *</b><i>deskey</i><b>);</b><div style="height: 1.00em;">
&#160;</div>
<b>int key_encryptsession(char *</b><i>remotename</i><b>,</b> <b>des_block *</b><i>deskey</i><b>);</b><div style="height: 1.00em;">
&#160;</div>
<b>int key_gendes(des_block *</b><i>deskey</i><b>);</b><div style="height: 1.00em;">
&#160;</div>
<b>int key_setsecret(char *</b><i>key</i><b>);</b><div style="height: 1.00em;">
&#160;</div>
<b>int key_secretkey_is_set(void);</b></div>
<div class="section">
<h1>DESCRIPTION</h1> The functions here are used within the RPC's secure authentication mechanism (AUTH_DES). There should be no need for user programs to use this functions.<div style="height: 1.00em;">
&#160;</div>
The function <b>key_decryptsession</b>() uses the (remote) server netname and takes the DES key for decrypting. It uses the public key of the server and the secret key associated with the effective UID of the calling process.<div style="height: 1.00em;">
&#160;</div>
The function <b>key_encryptsession</b>() is the inverse of <b>key_decryptsession</b>(). It encrypts the DES keys with the public key of the server and the secret key associated with the effective UID of the calling process.<div style="height: 1.00em;">
&#160;</div>
The function <b>key_gendes</b>() is used to ask the keyserver for a secure conversation key.<div style="height: 1.00em;">
&#160;</div>
The function <b>key_setsecret</b>() is used to set the key for the effective UID of the calling process.<div style="height: 1.00em;">
&#160;</div>
The function <b>key_secretkey_is_set</b>() can be used to determine whether a key has been set for the effective UID of the calling process.</div>
<div class="section">
<h1>RETURN VALUE</h1> These functions return 1 on success and 0 on failure.</div>
<div class="section">
<h1>ATTRIBUTES</h1> For an explanation of the terms used in this section, see <b>attributes</b>(7).<table class="tbl">
<col style="width: 106.00ex;"/>
<col style="width: 13.00ex;"/>
<col style="width: 5.00ex;"/>
<tbody>
<tr>
<td>
Interface</td>
<td>
Attribute</td>
<td>
Value</td>
</tr>
<tr>
<td>
key_decryptsession (),  key_encryptsession (),  key_gendes (),  key_setsecret (),  key_secretkey_is_set ()</td>
<td>
Thread safety</td>
<td>
</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>NOTES</h1> Note that we talk about two types of encryption here. One is asymmetric using a public and secret key. The other is symmetric, the 64-bit DES.<div class="spacer">
</div>
These routines were part of the Linux/Doors-project, abandoned by now.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>crypt</b>(3)</div>
<div class="section">
<h1>COLOPHON</h1> This page is part of release 4.02 of the Linux <i>man-pages</i> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at http://www.kernel.org/doc/man-pages/.</div>
<table class="foot">
<tr>
<td class="foot-date">
2015-07-23</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

