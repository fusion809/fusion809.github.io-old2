<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
SESSION KEYRING(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SESSION KEYRING(7)</td>
<td class="head-vol">
Kernel key management</td>
<td class="head-rtitle">
SESSION KEYRING(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> session keyring - Session shared process keyring</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>session keyring</b> is a keyring used to anchor keys on behalf of a process.  It is typically created by the  <b>pam_keyinit</b> module when a user logs in and a link will be added that refers to the  <b>user keyring</b>.<div class="spacer">
</div>
A special serial number value, <b>KEY_SPEC_SESSION_KEYRING</b>, is defined that can be used in lieu of the calling process's session keyring's actual serial number.<div class="spacer">
</div>
From the keyctl utility, '<b>@s</b>' can be used instead of a numeric key ID in much the same way.<div class="spacer">
</div>
A process's session keyring is inherited across clone(), fork() and vfork() and is retained across execve() - even when the target executable is setuid or setgid.  The session keyring will be destroyed when the last process that refers to it exits.<div class="spacer">
</div>
If a process doesn't have a session keyring when it is accessed, then, under certain circumstances, the  <b>user session keyring</b> will be attached as the session keyring and under others a new session keyring will be created.</div>
<div class="section">
<h1>SPECIAL OPERATIONS</h1> The keyutils library provides a number of special operations for manipulating session keyrings:<dl>
<dt>
<b>keyctl_join_session_keyring</b>()</dt>
<dd>
This operation allows the caller to change their session keyring.  The caller can join an existing keyring by name, create a new keyring of the name given or ask the kernel to create a new session keyring with the name &quot;_ses&quot;.</dd>
</dl>
<dl>
<dt>
<b>keyctl_session_to_parent</b>()</dt>
<dd>
This operation allows the caller to set the parent process's session keyring to the same as their own.  For this to succeed, the parent process must have identical security attributes and must be single threaded.</dd>
</dl>
<div class="spacer">
</div>
These operations are also exposed through the keyctl utility as:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<b>keyctl</b> session<div style="height: 0.00em;">
&#160;</div>
<b>keyctl</b> session - [&lt;prog&gt; &lt;arg1&gt; &lt;arg2&gt; ...]<div style="height: 0.00em;">
&#160;</div>
<b>keyctl</b> session &lt;name&gt; [&lt;prog&gt; &lt;arg1&gt; &lt;arg2&gt; ...]</div>
<div class="spacer">
</div>
and:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<b>keyctl</b> new_session</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>keyctl</b>(1),<div style="height: 0.00em;">
&#160;</div>
<b>keyctl</b>(3),<div style="height: 0.00em;">
&#160;</div>
<b>keyctl_join_session_keyring</b>(3),<div style="height: 0.00em;">
&#160;</div>
<b>keyctl_session_to_parent</b>(3),<div style="height: 0.00em;">
&#160;</div>
<b>pam_keyinit</b>(8),<div style="height: 0.00em;">
&#160;</div>
<b>keyrings</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>thread-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>process-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>user-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>user-session-keyring</b>(7)<div style="height: 0.00em;">
&#160;</div>
<b>persistent-keyring</b>(7)</div>
<table class="foot">
<tr>
<td class="foot-date">
19 Feb 2014</td>
<td class="foot-os">
Linux</td>
</tr>
</table>
</div>
</body>
</html>

