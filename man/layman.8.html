<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
LAYMAN(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LAYMAN(8)</td>
<td class="head-vol">
layman 2.3.0</td>
<td class="head-rtitle">
LAYMAN(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> layman - manage your local repository of Gentoo overlays</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>layman</b> (<b>-a</b>|<b>--add</b>) (<b>ALL</b>|<i>OVERLAY</i>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-d</b>|<b>--delete</b>) (<b>ALL</b>|<i>OVERLAY</i>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-D</b>|<b>--disable</b>) (<b>ALL</b>|<i>OVERLAY</i>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-E</b>|<b>--enable</b>) (<b>ALL</b>|<i>OVERLAY</i>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-f</b>|<b>--fetch</b>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-i</b>|<b>--info</b>) (<b>ALL</b>|<i>OVERLAY</i>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-L</b>|<b>--list</b>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-l</b>|<b>--list-local</b>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-r</b>|<b>--readd</b>) (<b>ALL</b>|<i>OVERLAY</i>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-s</b>|<b>--sync</b>) (<b>ALL</b>|<i>OVERLAY</i>)<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> (<b>-S</b>|<b>--sync-all</b>)</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>layman</b> is a script that allows you to add, remove, re-add, update, disable, and then re-enable Gentoo overlays from a variety of sources.<div class="subsection">
<h2>WARNING</h2>  <b>layman</b> makes it easy to retrieve and update overlays for Gentoo. In addition it makes it TRIVIAL to break your system.<div style="height: 1.00em;">
&#160;</div>
The Gentoo main tree provides you with high quality ebuilds that are all maintained by Gentoo developers. This will not be the case for most of the overlays you can get by using <b>layman</b>. Thus you are removing the security shield that the standard tree provides for you. You should keep that in mind when installing ebuilds from an overlay.<div style="height: 1.00em;">
&#160;</div>
To ensure the security of your system you MUST read the source of the ebuild you are about to install.</div>
</div>
<div class="section">
<h1>OPTIONS</h1><div class="subsection">
<h2>ACTIONS</h2> List of possible  <b>layman</b> actions.<div class="spacer">
</div>
<b>-a</b> <i>OVERLAY</i>, <b>--add</b>=<i>OVERLAY</i><div style="margin-left: 4.00ex;">
Add the given overlay from the cached remote list to your locally installed overlays. Specify &quot;ALL&quot; to add all overlays from the remote list.</div>
<div class="spacer">
</div>
<b>-d</b> <i>OVERLAY</i>, <b>--delete</b>=<i>OVERLAY</i><div style="margin-left: 4.00ex;">
Remove the given overlay from your locally installed overlays. Specify &quot;ALL&quot; to remove all overlays.</div>
<div class="spacer">
</div>
<b>-D</b> <i>OVERLAY</i>, <b>--disable</b>=<i>OVERLAY</i><div style="margin-left: 4.00ex;">
Disable the given overlay from portage. Specify &quot;ALL&quot; to disable all installed overlays.</div>
<div class="spacer">
</div>
<b>-E</b> <i>OVERLAY</i>, <b>--enable</b>=<i>OVERLAY</i><div style="margin-left: 4.00ex;">
Re-enable a previously disabled overlay. Specify &quot;ALL&quot; to enable all installed overlays.</div>
<div class="spacer">
</div>
<b>-f</b>, <b>--fetch</b><div style="margin-left: 4.00ex;">
Fetches the remote list of overlays. You will usually NOT need to explicitly specify this option. The fetch operation will be performed automatically once you run the sync, sync-all, or list action. You can prevent this automatic fetching using the  <b>--nofetch</b> option.</div>
<div class="spacer">
</div>
<b>-i</b> <i>OVERLAY</i>, <b>--info</b>=<i>OVERLAY</i><div style="margin-left: 4.00ex;">
Display all available information about the specified overlay.</div>
<div class="spacer">
</div>
<b>-L</b>, <b>--list</b><div style="margin-left: 4.00ex;">
List the contents of the remote list.</div>
<div class="spacer">
</div>
<b>-l</b>, <b>--list-local</b><div style="margin-left: 4.00ex;">
List the locally installed overlays.</div>
<div class="spacer">
</div>
<b>-n</b>, <b>--nofetch</b><div style="margin-left: 4.00ex;">
Prevents  <b>layman</b> from automatically fetching the remote lists of overlays. The default behavior for  <b>layman</b> is to update all remote lists if you run the sync, list or fetch operation.</div>
<div class="spacer">
</div>
<b>-p</b> <i>LEVEL</i>, <b>--priority</b>=<i>LEVEL</i><div style="margin-left: 4.00ex;">
Use this option in combination with the  <b>--add</b>.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;make.conf:: It will modify the priority of the added overlay and thus influence the order of entries in the make.conf file. The lower the priority, the earlier in the list the entry will be mentioned in the make.conf.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;repos.conf:: It will modify the priority in the repos.conf file, and thus influence the portage overlay priority. Read  <b>man portage</b> for more details on overlay priority. Use a value between 0 and 100. The default value is 50.</div>
</div>
<div class="spacer">
</div>
<b>-r</b> <i>OVERLAY</i>, <b>--readd</b>=<i>OVERLAY</i><div style="margin-left: 4.00ex;">
Remove and re-add the given overlay from the cached remote list to your locally installed overlays. Specify &quot;ALL&quot; to re-add all local overlays.</div>
<div class="spacer">
</div>
<b>-s</b> <i>OVERLAY</i>, <b>--sync</b>=<i>OVERLAY</i><div style="margin-left: 4.00ex;">
Update the specified overlay. Use &quot;ALL&quot; as parameter to synchronize all overlays.</div>
<div class="spacer">
</div>
<b>-S</b>, <b>--sync-all</b><div style="margin-left: 4.00ex;">
Update all overlays. Shortcut for  <b>-s ALL</b>.</div>
</div>
<div class="subsection">
<h2>PATH OPTIONS</h2> List of available  <b>layman</b> path options.<div class="spacer">
</div>
<b>-c</b> <i>PATH</i>, <b>--config</b>=<i>PATH</i><div style="margin-left: 4.00ex;">
Path to an alternative configuration file.</div>
<div class="spacer">
</div>
<b>-C</b> <i>PATH</i>, <b>--configdir</b>=<i>PATH</i><div style="margin-left: 4.00ex;">
Directory path for all layman configuration information.</div>
<div class="spacer">
</div>
<b>-o</b> <i>URL</i>, <b>--overlays</b>=<i>URL</i><div style="margin-left: 4.00ex;">
Specifies the location of additional overlay lists. You can use this flag several times and the specified URLs will get temporarily appended to the list of URLs you specified in your config file. You may also specify local file URLs by prepending the path with  <i>file://</i>. This option will only append the URL for this specific  <b>layman</b> run - edit your config file to add a URL permanently. So this is useful for testing purposes.</div>
<div class="spacer">
</div>
<b>-O</b> <i>PATH</i>, <b>--overlay_defs</b> <i>PATH</i><div style="margin-left: 4.00ex;">
Path to additional overlay.xml files.</div>
</div>
<div class="subsection">
<h2>OUTPUT OPTIONS:</h2> List of  <b>layman</b> output options.<div class="spacer">
</div>
<b>--debug-level</b> <i>DEBUG_LEVEL</i><div style="margin-left: 4.00ex;">
Outputs  <b>layman</b> debugging information. The lower the debug level, the less debugging information you&#8217;ll get. Use a value between 0 and 10. 0 means no debugging information, 10 selects all debugging messages. The default debug level is 4.</div>
<div class="spacer">
</div>
<b>-k</b>, <b>--nocheck</b><div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;When listing remote overlays (using  <b>-L</b> or  <b>--list</b>)  <b>layman</b> no longer hides overlays, for which you lack the tools to use. By default,  <b>layman</b> hides Git repositories if you do not have Git installed. Same applies to Subversion, CVS and so forth.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Prevents  <b>layman</b> from checking the remote lists of overlays for complete overlay definitions. The default behavior for  <b>layman</b> is to reject overlays that do not provide a description or a contact attribute.</div>
</div>
<div class="spacer">
</div>
<b>-N</b>, <b>--nocolor</b><div style="margin-left: 4.00ex;">
Remove color codes from the  <b>layman</b> output.</div>
<div class="spacer">
</div>
<b>-q</b>, <b>--quiet</b><div style="margin-left: 4.00ex;">
Makes  <b>layman</b> completely quiet. In quiet mode child processes will be run with stdin closed to avoid running into infinite and blindly interactive sessions. Thus a child process may abort once it runs into an situation with need for human interaction. For example this might happen if your overlay resides in Subversion and the SSL certificate of the server needs manual acceptance.</div>
<div class="spacer">
</div>
<b>-Q</b> <i>LEVEL</i>, <b>--quietness</b>=<i>LEVEL</i><div style="margin-left: 4.00ex;">
Makes  <b>layman</b> less verbose. Choose a value between 0 and 4 with 0 being completely quiet. Once you set this below 3, the same warning as given for  <b>--quiet</b> applies.</div>
<div class="spacer">
</div>
<b>-v</b>, <b>--verbose</b><div style="margin-left: 4.00ex;">
Makes  <b>layman</b> more verbose and you will receive a description of the overlays you can download.</div>
<div class="spacer">
</div>
<b>-W</b> <i>WIDTH</i>, <b>--width</b> <i>WIDTH</i><div style="margin-left: 4.00ex;">
Sets the screen width. This setting is usually not required as layman is capable of detecting the available number of columns automatically.</div>
</div>
</div>
<div class="section">
<h1>CONFIGURATION</h1>  <b>layman</b> reads configuration parameters from the file <i>/etc/layman/layman.cfg</i> by default. This file provides seven possible settings.<div class="spacer">
</div>
storage<div style="margin-left: 4.00ex;">
Directory that will be used to store the overlays and all additional data  <b>layman</b> needs. The default is  <i>/var/lib/layman</i>.  <b>layman</b> uses a location within the  <i>/usr/portage</i> hierarchy instead of  <i>/var</i> in order to store its data. This decision has been made to support network file systems. If you have your Gentoo tree on NFS or a similar file system and several machines access the same ebuild repository over the net it will be necessary to also provide all necessary  <b>layman</b> data within the hierarchy of the tree. This way the overlays will also have to be synced at one location only.</div>
<div class="spacer">
</div>
cache<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> will store the downloaded global list of overlays here. The default is  <i>%(storage)s/cache.xml</i>.</div>
<div class="spacer">
</div>
installed<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> will store the list of installed overlays here. The default is  <i>%(storage)s/installed.xml</i>.</div>
<div class="spacer">
</div>
make.conf<div style="margin-left: 4.00ex;">
This is the  <b>portage</b> configuration file that  <b>layman</b> will modify in order to make the new overlays available within  <b>portage</b>. The default is  <i>%(storage)s/make.conf</i>. You could also specify  <i>/etc/portage/make.conf</i> directly. But that would mean that you have an external program trying to automatically set variables within this very central configuration file. Since I consider that dangerous I prefer having a very small external file that only contains the setting for  <b>PORTDIR_OVERLAY</b>. This file is then sourced at the end of  <i>/etc/portage/make.conf</i>. This is the reason why  <b>layman</b> suggests running the following  <b>after</b> it has been installed.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
echo 'source /var/lib/layman/make.conf' &gt;&gt; /etc/portage/make.conf<br/>
</div>
</div>
<div class="spacer">
</div>
overlays<div style="margin-left: 4.00ex;">
Specifies the URL for the remote list of all available overlays. The default is  <i>https://api.gentoo.org/overlays/repositories.xml</i>. You can specify several URLs here (one per line). The contents will get merged to a single list of overlays. This allows to add a personal collection of overlays that are not present in the global list.</div>
<div class="spacer">
</div>
proxy<div style="margin-left: 4.00ex;">
Specify your proxy in case you have to use one.</div>
<div class="spacer">
</div>
nocheck<div style="margin-left: 4.00ex;">
Set to &quot;yes&quot; if  <b>layman</b> should stop worrying about overlays with missing a contact address or the description.</div>
<div class="spacer">
</div>
clean_archive<div style="margin-left: 4.00ex;">
Set to &quot;yes&quot; if  <b>layman</b> will delete archive files downloaded when installing archive type overlays. This option is only applicable to remote archive overlays.  <b>layman</b> will leave the reponsibility of deleting local archive files up to the user. By default,  <b>layman</b> will delete downloaded archive files.</div>
<div class="spacer">
</div>
check_official<div style="margin-left: 4.00ex;">
Set to &quot;no&quot; if you don&#8217;t want layman to prompt you for consent during the installation of an unofficial overlay.</div>
<div style="height: 1.00em;">
&#160;</div>
Per repository type Add, Sync options.<div class="spacer">
</div>
bzr_addopts, bzr_syncopts, cvs_addopts, cvs_syncopts, ...<div style="margin-left: 4.00ex;">
These are a space separated list of command options to include in the commands sent to perform the desired action.</div>
<div style="height: 1.00em;">
&#160;</div>
Per repository type Post Add, Sync hooks.<div class="spacer">
</div>
bzr_postsync, cvs_postsync, darcs_postsync, git_postsync, ...<div style="margin-left: 4.00ex;">
These are a space separated list of commands that are run after each add, sync operation if they are defined.</div>
<div class="subsection">
<h2>*NEW*Repo Configuration options</h2>  <b>layman</b> now accepts multiple repository config file options. One being the already standard make.conf option and the other being the repos.conf files that can be placed in /etc/portage/repos.conf/. The below configuration options allow you to alter particular things regarding the repository configuration::<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;conf_type:: Specifies the repo configuration type you wish to use. This can be  <b>repos.conf</b>,  <b>make.conf</b>, or both separated by a comma. The default value is  <b>repos.conf</b>.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;require_repoconfig:: Defines whether a configuration file is needed for the package manager or other multi-repository consumer application.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;repos_conf:: Specifies the path to the config file for all repos.conf configuration. The default location is  <i>/etc/portage/repos.conf/layman.conf</i>.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;auto_sync:: &quot;yes&quot; or &quot;no&quot; value that defines whether or not you want your layman overlays automatically synced by the portage sync plug-in (requires repos.conf support).</div>
</div>
</div>
<div class="section">
<h1>HANDLING OVERLAYS</h1>  <b>layman</b> intends to provide easy maintenance of Gentoo overlays while not requiring any configuration.<div class="subsection">
<h2>OVERLAY LISTS</h2>  <b>layman</b> allows you to fetch an overlay without the need to modify any configuration files. In order for this to be possible the script needs an external list of possible overlay sources. There is a centralized list available at <i>https://api.gentoo.org/overlays/repositories.xml</i> but nothing will prevent you from using or publishing your own list of overlays. The location of the remote lists can also be modified using the <b>--overlays</b> option when running <b>layman</b>.<div style="height: 1.00em;">
&#160;</div>
To get a new overlay added to the central list provided for <b>layman</b>, send a mail to &lt;overlays@gentoo.org&gt;. Gentoo developers may add their overlay entries directly into the list which can be accessed over the CVS repository for the Gentoo website.<div style="height: 1.00em;">
&#160;</div>
You can also use several lists at the same time. Just add one URL per line to the overlays variable in your configuration file. <b>layman</b> will merge the contents of all lists.<div style="height: 1.00em;">
&#160;</div>
<b>layman</b> also allows you to define local files in this list. Just make sure you prepend these path names in standard URL notation with <i>file://</i>. <b>layman</b> also gives you the ability to just add an overlay definition to <i>/etc/layman/overlays/some-overlay.xml</i> and it will be automatically available for actions such as add, delete, info... (see below for file format details)<div style="height: 1.00em;">
&#160;</div>
If you need to use a proxy for access to the Internet, you can use the corresponding variable in the <b>layman</b> configuration file. <b>layman</b> will also respect the <b>http_proxy</b> environment variable in case you set it.</div>
<div class="subsection">
<h2>LOCAL CACHE</h2>  <b>layman</b> stores a local copy of the fetched remote list. It will be stored in <i>/var/lib/layman/cache.xml</i> by default. There exists only one such cache file and it will be overwritten every time you run <b>layman</b>.</div>
<div class="subsection">
<h2>HANDLING /ETC/PORTAGE/MAKE.CONF</h2> Since  <b>layman</b> is designed to automatically handle the inclusion of overlays into your system it needs to be able to modify the <b>PORTDIR_OVERLAY</b> variable in your <i>/etc/portage/make.conf</i> file. But <i>/etc/portage/make.conf</i> is a very central and essential configuration file for a Gentoo system. Automatically modifying this file would be somewhat dangerous. You can allow <b>layman</b> to do this by setting the make_conf variable in the configuration file to <i>/etc/portage/make.conf</i>.<div style="height: 1.00em;">
&#160;</div>
A much safer and in fact recommended solution to the problem is to let <b>layman</b> handle an external file that only contains the <b>PORTDIR_OVERLAY</b> variable and is sourced within the standard <i>/etc/portage/make.conf</i> file. Just add the following line to the end of your <i>/etc/portage/make.conf</i> file:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
source /var/lib/layman/make.conf<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>/var/lib/layman/make.conf</i> is the default provided in the <b>layman</b> configuration. Change this file name in case you decide to store it somewhere else.<div style="height: 1.00em;">
&#160;</div>
The file does not necessarily need to exist at the beginning. If it is missing, <b>layman</b> will create it for you.<div style="height: 1.00em;">
&#160;</div>
There is also no need to remove the original <b>PORTDIR_OVERLAY</b> variable from the make.conf file. Layman will simply add new overlays to this variable and all your old entries will remain in there.</div>
<div class="subsection">
<h2>ADDING, REMOVING AND UPDATING OVERLAYS</h2> Once a remote list of overlays has been fetched,  <b>layman</b> allows to add overlays from the remote list to your system. The script will try to fetch the overlay. If this is successful the overlay information will be copied from the cache to the list of locally installed overlays. In addition <b>layman</b> will modify the <b>PORTDIR_OVERLAY</b> variable to include the new overlay path.<div style="height: 1.00em;">
&#160;</div>
Removing the overlay with <b>layman</b> will delete the overlay without leaving any traces behind.<div style="height: 1.00em;">
&#160;</div>
In order to update all overlays managed by <b>layman</b> you can run the script with the <b>--sync ALL</b> option or the <b>--sync-all</b> flag.</div>
<div class="subsection">
<h2>NEW DISABLING, AND RE-ENABLING OVERLAYS</h2> portage will find installed overlays via your repo config files, whether it be make.conf or repos.conf. If you wish to hide the overlay from portage so that the ebuilds will not be accessible then you can do so with the  <b>--disable</b> <i>OVERLAY</i> option. This will then disable the overlay in your repo configurations.<div style="height: 1.00em;">
&#160;</div>
To re-enable them again so that portage can again access the ebuilds of that overlay you can simply do so with the <b>--enable</b> <i>OVERLAY</i> option.</div>
<div class="subsection">
<h2>LIST OVERLAYS</h2>  <b>layman</b> provides the <b>-L</b>, <b>--list</b> and <b>-l</b>, <b>--list-local</b> options to print a list of available respectively installed overlays.<div style="height: 1.00em;">
&#160;</div>
Listing will prepend all fully supported overlays with a green asterisk, all non-official overlays with a yellow asterisk and all overlays that you will not be able to use since you do not have the necessary tools installed with a red asterisk.<div style="height: 1.00em;">
&#160;</div>
In the default mode <b>layman</b> will be strict about listing overlays and only present you with overlays that are fully supported. In addition it will complain about overlays that are missing a description field or a contact attribute. This type of behavior has been added with <b>layman</b> 1.0.7 and if you&#8217;d like to return to the old behavior you may use the k option flag or set the nocheck option in the configuration file.</div>
<div class="subsection">
<h2>SEARCHING EBUILDS IN OVERLAYS</h2> You can search through the ebuilds available in the overlays on  <i>http://overlays.gentoo.org/</i> by using <b>eix</b>. Emerge the package and run:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
update-eix-remote update<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
Alternatively, you can browse overlays that you have not installed on <i>http://gpo.zugaina.org/</i>.</div>
<div class="subsection">
<h2>OVERLAY TYPES</h2> Currently  <b>layman</b> supports overlays that are exported via <b>rsync</b>, <b>CVS</b>, <b>subversion</b>, <b>bzr</b>, <b>darcs</b>, <b>git</b>, <b>mercurial</b>, <b>tar</b> packages, or <b>squashfs</b> images that will be mounted read-only. It also supports the generated overlay type <b>g-sorcery</b> installed with the g-cran package (at time of this writing, only available in the science overlay).</div>
</div>
<div class="section">
<h1>OVERLAY LISTS</h1><div class="subsection">
<h2>OVERLAY LIST FORMAT</h2> Layman uses a central list of overlays in XML format. The file looks like this:<div style="height: 1.00em;">
&#160;</div>
Example 1. An example overlays.xml file<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br/>
&lt;!DOCTYPE repositories SYSTEM &quot;/dtd/repositories.dtd&quot;&gt;<br/>
&lt;repositories xmlns=&quot;&quot; version=&quot;1.0&quot;&gt;<br/>
&lt;repo quality=&quot;experimental&quot; status=&quot;official&quot;&gt;<br/>
    &lt;name&gt;gnome&lt;/name&gt;<br/>
    &lt;description&gt;experimental gnome ebuilds&lt;/description&gt;<br/>
    &lt;homepage&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/gnome.git;a=summary&lt;/homepage&gt;<br/>
    &lt;owner type=&quot;project&quot;&gt;<br/>
        &lt;email&gt;gnome@gentoo.org&lt;/email&gt;<br/>
        &lt;name&gt;GNOME herd&lt;/name&gt;<br/>
    &lt;/owner&gt;<br/>
    &lt;source type=&quot;git&quot;&gt;git://git.overlays.gentoo.org/proj/gnome.git&lt;/source&gt;<br/>
    &lt;source type=&quot;git&quot;&gt;http://git.overlays.gentoo.org/gitroot/proj/gnome.git&lt;/source&gt;<br/>
    &lt;source type=&quot;git&quot;&gt;git+ssh://git@git.overlays.gentoo.org/proj/gnome.git&lt;/source&gt;<br/>
    &lt;feed&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/gnome.git;a=atom&lt;/feed&gt;<br/>
    &lt;feed&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/gnome.git;a=rss&lt;/feed&gt;<br/>
&lt;/repo&gt;<br/>
&lt;/repositories&gt;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
Example 2. An example overlays.xml file with a branch<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br/>
&lt;!DOCTYPE repositories SYSTEM &quot;/dtd/repositories.dtd&quot;&gt;<br/>
&lt;repositories xmlns=&quot;&quot; version=&quot;1.0&quot;&gt;<br/>
&lt;repo quality=&quot;experimental&quot; status=&quot;official&quot;&gt;<br/>
    &lt;name&gt;&lt;hardened-development&gt;&lt;/name&gt;<br/>
    &lt;description&gt;&lt;Development Overlay for Hardened Gcc 4.x Toolchain&gt;&lt;/description&gt;<br/>
    &lt;homepage&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/hardened-dev.git;a=summary&lt;/homepage&gt;<br/>
    &lt;owner type=&quot;project&quot;&gt;<br/>
       &lt;email&gt;hardened@gentoo.org&lt;/email&gt;<br/>
    &lt;/owner&gt;<br/>
    &lt;source type=&quot;git&quot; branch=&quot;uclibc&quot;&gt;git://git.overlays.gentoo.org/proj/hardened-dev.git&lt;/source&gt;<br/>
    &lt;feed&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/hardened-dev.git;a=atom&lt;/feed&gt;<br/>
&lt;/repo&gt;<br/>
&lt;/repositories&gt;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
Users can specify a branch for an overlay, given one actually exists. This logic is applicable to CVS overlays as well and the branch variable is comparable to specifying a subpath for a CVS repository.<div class="spacer">
</div>
VCS types where the use of &quot;branch&quot; is supported is as follows<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;CVS</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Squashfs</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Tar</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Git</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Mercurial However, for CVS, Squashfs, and Tar overlays, the branch will be treated as a subpath. If you use the branch variable with any other overlay types aside from the ones listed, it will be ignored.</div>
</div>
</div>
<div class="subsection">
<h2>ADDING AN OVERLAY LOCALLY</h2> Simply create an overlay list in the format described above and run  <b>layman</b> with the -o switch. You need to prepend local file URLs with <i>file://</i>. <b>New</b> is the ability to just add an overlay definition like the above to /etc/layman/overlays/some-overlay.xml and it will be automatically available for actions such as add, delete, info...</div>
<div class="subsection">
<h2>ADDING AN OVERLAY GLOBALLY</h2> The global list of overlays used by  <b>layman</b> lies at <i>https://api.gentoo.org/overlays/repositories.xml</i>.<div style="height: 1.00em;">
&#160;</div>
All Gentoo developers have access to this location via CVS and can modify the list of overlays.<div style="height: 1.00em;">
&#160;</div>
If you are not a Gentoo developer but wish to get your overlay listed you should contact the Gentoo Overlays team at &lt;overlays@gentoo.org&gt;. You can also join <b>#gentoo-overlays</b> on irc.freenode.net.</div>
</div>
<div class="section">
<h1>EXAMPLES</h1><div class="subsection">
<h2>INSTALLING AN OVERLAY</h2><div style="margin-left: 4.00ex;">
<br/>
layman -f -a wrobel<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
This would add the overlay with the id wrobel to your list of installed overlays.</div>
<div class="subsection">
<h2>SYNCING YOUR OVERLAYS</h2><div style="margin-left: 4.00ex;">
<br/>
layman -s ALL<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
This updates all overlays</div>
<div class="subsection">
<h2>PERFORMING SEVERAL ACTIONS AT THE SAME TIME</h2><div style="margin-left: 4.00ex;">
<br/>
layman -f -a wrobel webapps-experimental<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
This fetches the remote list and immediately adds two overlays</div>
</div>
<div class="section">
<h1>FILES</h1>  <i>/etc/layman/layman.cfg</i><div style="margin-left: 4.00ex;">
Configuration file, holding the defaults for  <b>layman</b></div>
<div class="spacer">
</div>
<i>/var/lib/layman/make.conf</i><div style="margin-left: 4.00ex;">
Configuration file that layman modifies to register the installed overlay(s) with the package manager</div>
<div class="spacer">
</div>
<i>/etc/portage/repos.conf/layman.conf</i><div style="margin-left: 4.00ex;">
Configuration file that layman modifies to register the installed overlay(s) with the package manager</div>
</div>
<div class="section">
<h1>AUTHORS</h1><div style="margin-left: 4.00ex;">
&#8226;Gunnar Wrobel &lt;wrobel@gentoo.org&gt; (original, retired)</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Sebastian Pipping &lt;sping@gentoo.org&gt;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Brian Dolbec &lt;brian.dolbec@gmail.com&gt;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Devan Franchini &lt;twitch153@gentoo.org&gt;</div>
</div>
<div class="section">
<h1>REPORTING BUGS</h1> Please report bugs you might find at  <i>http://bugs.gentoo.org/</i>. Thank you!</div>
<div class="section">
<h1>SEE ALSO</h1> make.conf(5), eix(1), portage(5)</div>
<div class="section">
<h1>AUTHOR</h1>  <b>Brian Dolbec</b> &lt;dolsen@gentoo.org&gt;<div style="margin-left: 4.00ex;">
Author.</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
02/08/2015</td>
<td class="foot-os">
layman 2.3.0</td>
</tr>
</table>
</div>
</body>
</html>

