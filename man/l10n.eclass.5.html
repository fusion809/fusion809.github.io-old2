<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
L10N.ECLASS(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
L10N.ECLASS(5)</td>
<td class="head-vol">
portage</td>
<td class="head-rtitle">
L10N.ECLASS(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> l10n.eclass - convenience functions to handle localizations</div>
<div class="section">
<h1>DESCRIPTION</h1> The l10n (localization) eclass offers a number of functions to more conveniently handle localizations (translations) offered by packages. These are meant to prevent code duplication for such boring tasks as determining the cross-section between the user's set LINGUAS and what is offered by the package; and generating the right list of linguas_* USE flags.</div>
<div class="section">
<h1>FUNCTIONS</h1><dl>
<dt>
<b>l10n_for_each_locale_do</b> &lt;function&gt;</dt>
<dd>
Convenience function for processing localizations. The parameter should be a function (defined in the consuming eclass or ebuild) which takes an individual localization as (last) parameter.<div style="height: 1.00em;">
&#160;</div>
Example: l10n_for_each_locale_do install_locale</dd>
</dl>
<dl>
<dt>
<b>l10n_for_each_disabled_locale_do</b> &lt;function&gt;</dt>
<dd>
Complementary to l10n_for_each_locale_do, this function will process locales that are disabled. This could be used for example to remove locales from a Makefile, to prevent them from being built needlessly.</dd>
</dl>
<dl>
<dt>
<b>l10n_find_plocales_changes</b> &lt;translations dir&gt; &lt;filename pre pattern&gt; &lt;filename post pattern&gt;</dt>
<dd>
Ebuild maintenance helper function to find changes in package offered locales when doing a version bump. This could be added for example to src_prepare<div style="height: 1.00em;">
&#160;</div>
Example: l10n_find_plocales_changes &quot;${S}/src/translations&quot; &quot;${PN}_&quot; '.ts'</dd>
</dl>
<dl>
<dt>
<b>l10n_get_locales</b> [disabled]</dt>
<dd>
Determine which LINGUAS USE flags the user has enabled that are offered by the package, as listed in PLOCALES, and return them. In case no locales are selected, fall back on PLOCALE_BACKUP. When the disabled argument is given, return the disabled useflags instead of the enabled ones.</dd>
</dl>
</div>
<div class="section">
<h1>ECLASS VARIABLES</h1><dl>
<dt>
<b>PLOCALES</b></dt>
<dd>
Variable listing the locales for which localizations are offered by the package. Check profiles/desc/linguas.desc to see if the locales are listed there. Add any missing ones there.<div style="height: 1.00em;">
&#160;</div>
Example: PLOCALES=&quot;cy de el_GR en_US pt_BR vi zh_CN&quot;</dd>
</dl>
<dl>
<dt>
<b>PLOCALE_BACKUP</b></dt>
<dd>
In some cases the package fails when none of the offered PLOCALES are selected by the user. In that case this variable should be set to a default locale (usually 'en' or 'en_US') as backup.<div style="height: 1.00em;">
&#160;</div>
Example: PLOCALE_BACKUP=&quot;en_US&quot;</dd>
</dl>
</div>
<div class="section">
<h1>MAINTAINERS</h1><br/>
Ben de Groot &lt;yngwin@gentoo.org&gt;<br/>
</div>
<div class="section">
<h1>REPORTING BUGS</h1> Please report bugs via http://bugs.gentoo.org/</div>
<div class="section">
<h1>FILES</h1> <b>/usr/portage/eclass/l10n.eclass</b></div>
<div class="section">
<h1>SEE ALSO</h1> <b>ebuild</b>(5)<br/>
https://gitweb.gentoo.org/repo/gentoo.git/log/eclass/l10n.eclass<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
Aug 2015</td>
<td class="foot-os">
Portage</td>
</tr>
</table>
</div>
</body>
</html>

