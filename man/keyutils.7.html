<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
KEYRINGS(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
KEYRINGS(7)</td>
<td class="head-vol">
Kernel key management</td>
<td class="head-rtitle">
KEYRINGS(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> keyutils - In-kernel key management utilities</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>keyutils</b> package is a library and a set of utilities for accessing the kernel  <b>keyrings</b> facility.<div class="spacer">
</div>
A header file is supplied to provide the definitions and declarations required to access the library:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<b>#include &lt;keyutils.h&gt;</b></div>
<div class="spacer">
</div>
To link with the library, the following:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<b>-lkeyutils</b></div>
<div class="spacer">
</div>
should be specified to the linker.<div class="spacer">
</div>
Three system calls are provided:<dl>
<dt>
<b>add_key</b>()</dt>
<dd>
Supply a new key to the kernel.</dd>
</dl>
<dl>
<dt>
<b>request_key</b>()</dt>
<dd>
Find an existing key for use, or, optionally, create one if one does not exist.</dd>
</dl>
<dl>
<dt>
<b>keyctl</b>()</dt>
<dd>
Control a key in various ways.  The library provides a variety of wrappers around this system call and those should be used rather than calling it directly.</dd>
</dl>
<div class="spacer">
</div>
See the <b>add_key</b>(2), <b>request_key</b>(2), and <b>keyctl</b>(2) manual pages for more information.<div class="spacer">
</div>
The <b>keyctl</b>() wrappers are listed on the <b>keyctl</b>(3) manual page.</div>
<div class="section">
<h1>UTILITIES</h1> A program is provided to interact with the kernel facility by a number of subcommands, e.g.:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<b>keyctl add user foo bar @s</b></div>
<div class="spacer">
</div>
See the <b>keyctl</b>(1) manual page for information on that.<div class="spacer">
</div>
The kernel has the ability to upcall to userspace to fabricate new keys.  This can be triggered by  <b>request_key</b>(), but userspace is better off using  <b>add_key</b>() instead if it possibly can.<div class="spacer">
</div>
The upcalling mechanism is usually routed via the:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<b>request-key</b></div>
<div class="spacer">
</div>
program.  What this does with any particular key is configurable in:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<b>/etc/request-key.conf</b><div style="height: 0.00em;">
&#160;</div>
<b>/etc/request-key.d/</b></div>
<div class="spacer">
</div>
See the <b>request-key.conf</b>(5) and the <b>request-key</b>(8) manual pages for more information.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>keyrings</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>pam_keyinit</b>(8),<div style="height: 0.00em;">
&#160;</div>
<b>process-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>session-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>thread-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>user-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>user-session-keyring</b>(7),<div style="height: 0.00em;">
&#160;</div>
<b>persistent-keyring</b>(7)<div style="height: 1.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
21 Feb 2014</td>
<td class="foot-os">
Linux</td>
</tr>
</table>
</div>
</body>
</html>

