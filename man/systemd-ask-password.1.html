<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
SYSTEMD-ASK-PASSWORD(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SYSTEMD-ASK-PASSWORD(1)</td>
<td class="head-vol">
systemd-ask-password</td>
<td class="head-rtitle">
SYSTEMD-ASK-PASSWORD(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> systemd-ask-password - Query the user for a system password</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 44.00ex;text-indent: -44.00ex;" class="spacer">
<b>systemd-ask-password </b><b>[OPTIONS...]</b><b> </b><b>[MESSAGE]</b></div>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>systemd-ask-password</b> may be used to query a system password or passphrase from the user, using a question message specified on the command line. When run from a TTY it will query a password on the TTY and print it to standard output. When run with no TTY or with  <b>--no-tty</b> it will query the password system-wide and allow active users to respond via several agents. The latter is only available to privileged processes.<div class="spacer">
</div>
The purpose of this tool is to query system-wide passwords -- that is passwords not attached to a specific user account. Examples include: unlocking encrypted hard disks when they are plugged in or at boot, entering an SSL certificate passphrase for web and VPN servers.<div class="spacer">
</div>
Existing agents are: a boot-time password agent asking the user for passwords using Plymouth; a boot-time password agent querying the user directly on the console; an agent requesting password input via a  <b>wall</b>(1) message; an agent suitable for running in a GNOME session; a command line agent which can be started temporarily to process queued password requests; a TTY agent that is temporarily spawned during  <b>systemctl</b>(1) invocations.<div class="spacer">
</div>
Additional password agents may be implemented according to the  <b>systemd Password Agent Specification</b>[1].<div class="spacer">
</div>
If a password is queried on a TTY, the user may press TAB to hide the asterisks normally shown for each character typed. Pressing Backspace as first key achieves the same effect.</div>
<div class="section">
<h1>OPTIONS</h1> The following options are understood:<div class="spacer">
</div>
<b>--icon=</b><div style="margin-left: 4.00ex;">
Specify an icon name alongside the password query, which may be used in all agents supporting graphical display. The icon name should follow the  <b>XDG Icon Naming Specification</b>[2].</div>
<div class="spacer">
</div>
<b>--timeout=</b><div style="margin-left: 4.00ex;">
Specify the query timeout in seconds. Defaults to 90s. A timeout of 0 waits indefinitely.</div>
<div class="spacer">
</div>
<b>--echo</b><div style="margin-left: 4.00ex;">
Echo the user input instead of masking it. This is useful when using systemd-ask-password to query for usernames.</div>
<div class="spacer">
</div>
<b>--no-tty</b><div style="margin-left: 4.00ex;">
Never ask for password on current TTY even if one is available. Always use agent system.</div>
<div class="spacer">
</div>
<b>--accept-cached</b><div style="margin-left: 4.00ex;">
If passed, accept cached passwords, i.e. passwords previously typed in.</div>
<div class="spacer">
</div>
<b>--multiple</b><div style="margin-left: 4.00ex;">
When used in conjunction with  <b>--accept-cached</b> accept multiple passwords. This will output one password per line.</div>
<div class="spacer">
</div>
<b>-h</b>, <b>--help</b><div style="margin-left: 4.00ex;">
Print a short help text and exit.</div>
</div>
<div class="section">
<h1>EXIT STATUS</h1> On success, 0 is returned, a non-zero failure code otherwise.</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>systemd</b>(1),  <b>systemctl</b>(1),  <b>plymouth</b>(8),  <b>wall</b>(1)</div>
<div class="section">
<h1>NOTES</h1><dl>
<dt>
 1.</dt>
<dd>
systemd Password Agent Specification</dd>
</dl>
<div style="margin-left: 4.00ex;">
http://www.freedesktop.org/wiki/Software/systemd/PasswordAgents</div>
<dl>
<dt>
 2.</dt>
<dd>
XDG Icon Naming Specification</dd>
</dl>
<div style="margin-left: 4.00ex;">
http://standards.freedesktop.org/icon-naming-spec/icon-naming-spec-latest.html</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
systemd 226</td>
</tr>
</table>
</div>
</body>
</html>

