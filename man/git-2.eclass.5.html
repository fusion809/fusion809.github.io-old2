<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
GIT-2.ECLASS(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GIT-2.ECLASS(5)</td>
<td class="head-vol">
portage</td>
<td class="head-rtitle">
GIT-2.ECLASS(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> git-2.eclass - Eclass for fetching and unpacking git repositories.</div>
<div class="section">
<h1>DESCRIPTION</h1> Eclass for easing maitenance of live ebuilds using git as remote repository. Eclass support working with git submodules and branching.<div style="height: 1.00em;">
&#160;</div>
This eclass is DEPRECATED. Please use git-r3 instead.</div>
<div class="section">
<h1>FUNCTIONS</h1><dl>
<dt>
<b>git-2_src_unpack</b></dt>
<dd>
Default git src_unpack function.</dd>
</dl>
</div>
<div class="section">
<h1>ECLASS VARIABLES</h1><dl>
<dt>
<b>EGIT_SOURCEDIR</b></dt>
<dd>
This variable specifies destination where the cloned data are copied to.<div style="height: 1.00em;">
&#160;</div>
EGIT_SOURCEDIR=&quot;${S}&quot;</dd>
</dl>
<dl>
<dt>
<b>EGIT_STORE_DIR</b></dt>
<dd>
Storage directory for git sources.<div style="height: 1.00em;">
&#160;</div>
EGIT_STORE_DIR=&quot;${DISTDIR}/egit-src&quot;</dd>
</dl>
<dl>
<dt>
<b>EGIT_HAS_SUBMODULES</b></dt>
<dd>
If non-empty this variable enables support for git submodules in our checkout. Also this makes the checkout to be non-bare for now.</dd>
</dl>
<dl>
<dt>
<b>EGIT_OPTIONS</b></dt>
<dd>
Variable specifying additional options for fetch command.</dd>
</dl>
<dl>
<dt>
<b>EGIT_MASTER</b></dt>
<dd>
Variable for specifying master branch. Usefull when upstream don't have master branch or name it differently.<div style="height: 1.00em;">
&#160;</div>
EGIT_MASTER=&quot;master&quot;</dd>
</dl>
<dl>
<dt>
<b>EGIT_PROJECT</b></dt>
<dd>
Variable specifying name for the folder where we check out the git repository. Value of this variable should be unique in the EGIT_STORE_DIR as otherwise you would override another repository.<div style="height: 1.00em;">
&#160;</div>
EGIT_PROJECT=&quot;${EGIT_REPO_URI##*/}&quot;</dd>
</dl>
<dl>
<dt>
<b>EGIT_DIR</b></dt>
<dd>
Directory where we want to store the git data. This variable should not be overriden.<div style="height: 1.00em;">
&#160;</div>
EGIT_DIR=&quot;${EGIT_STORE_DIR}/${EGIT_PROJECT}&quot;</dd>
</dl>
<dl>
<dt>
<b>EGIT_REPO_URI</b> (REQUIRED)</dt>
<dd>
URI for the repository e.g. http://foo, git://bar<div style="height: 1.00em;">
&#160;</div>
It can be overriden via env using packagename_LIVE_REPO variable.<div style="height: 1.00em;">
&#160;</div>
Support multiple values: EGIT_REPO_URI=&quot;git://a/b.git http://c/d.git&quot;</dd>
</dl>
<dl>
<dt>
<b>EVCS_OFFLINE</b></dt>
<dd>
If non-empty this variable prevents performance of any online operations.</dd>
</dl>
<dl>
<dt>
<b>EGIT_BRANCH</b></dt>
<dd>
Variable containing branch name we want to check out. It can be overriden via env using packagename_LIVE_BRANCH variable.<div style="height: 1.00em;">
&#160;</div>
EGIT_BRANCH=&quot;${EGIT_MASTER}&quot;</dd>
</dl>
<dl>
<dt>
<b>EGIT_COMMIT</b></dt>
<dd>
Variable containing commit hash/tag we want to check out. It can be overriden via env using packagename_LIVE_COMMIT variable.<div style="height: 1.00em;">
&#160;</div>
EGIT_COMMIT=&quot;${EGIT_BRANCH}&quot;</dd>
</dl>
<dl>
<dt>
<b>EGIT_REPACK</b></dt>
<dd>
If non-empty this variable specifies that repository will be repacked to save space. However this can take a REALLY LONG time with VERY big repositories.</dd>
</dl>
<dl>
<dt>
<b>EGIT_PRUNE</b></dt>
<dd>
If non-empty this variable enables pruning all loose objects on each fetch. This is useful if upstream rewinds and rebases branches often.</dd>
</dl>
<dl>
<dt>
<b>EGIT_NONBARE</b></dt>
<dd>
If non-empty this variable specifies that all checkouts will be done using non bare repositories. This is useful if you can't operate with bare checkouts for some reason.</dd>
</dl>
<dl>
<dt>
<b>EGIT_NOUNPACK</b></dt>
<dd>
If non-empty this variable bans unpacking of ${A} content into the srcdir. Default behaviour is to unpack ${A} content.</dd>
</dl>
</div>
<div class="section">
<h1>MAINTAINERS</h1><br/>
Micha&#322; G&#243;rny &lt;mgorny@gentoo.org&gt;<br/>
Donnie Berkholz &lt;dberkholz@gentoo.org&gt;<br/>
</div>
<div class="section">
<h1>REPORTING BUGS</h1> Please report bugs via http://bugs.gentoo.org/</div>
<div class="section">
<h1>FILES</h1> <b>/usr/portage/eclass/git-2.eclass</b></div>
<div class="section">
<h1>SEE ALSO</h1> <b>ebuild</b>(5)<br/>
https://gitweb.gentoo.org/repo/gentoo.git/log/eclass/git-2.eclass<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
Aug 2015</td>
<td class="foot-os">
Portage</td>
</tr>
</table>
</div>
</body>
</html>

