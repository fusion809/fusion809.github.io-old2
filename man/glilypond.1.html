<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
glilypond(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
glilypond(1)</td>
<td class="head-vol">
General Commands Manual</td>
<td class="head-rtitle">
glilypond(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> glilypond &#8212; integrate lilypond parts into groff</div>
<div class="section">
<h1>SYNOPSIS</h1> [<span class="opt"><b></b> <i>options</i>]</span> [<span class="opt"><b>-</b>]</span> [<span class="opt"><b>--</b>]</span> [<span class="opt"><b></b> <i>filespec ....</i>]</span></div>
<div class="section">
<h1>DESCRIPTION</h1> <b>glilypond</b> transforms sheet music written in the <i>lilypond</i> language into the <b>groff</b>(7) language using the <b>.PSPIC</b> request, such that <b>groff</b>(1) can transform it into a format that can be displayed directly.<div class="spacer">
</div>
Files in <i>groff</i> language and <i>standard input</i> can be provided as arguments.</div>
<div class="section">
<h1>OPTION OVERVIEW</h1><div class="subsection">
<h2>Breaking Options</h2><dl>
<dt>
<br/>
<b>-?</b>|<b>-h</b>|<b>--help</b>|<b>--usage</b></dt>
<dd>
Print help or usage information, then leave the program.</dd>
</dl>
<dl>
<dt>
<b>--version</b></dt>
<dd>
Print version information.</dd>
</dl>
<dl>
<dt>
<br/>
<b>-l</b>|<b>--license</b></dt>
<dd>
Print license information.<br/>
</dd>
</dl>
</div>
<div class="subsection">
<h2>Options for building EPS Files</h2><dl>
<dt>
[<span class="opt"><b>--ly2eps</b>]</span></dt>
<dd>
Here the <b>lilypond</b> program creates <i>eps</i> files directly. This is the default.</dd>
</dl>
<dl>
<dt>
[<span class="opt"><b>--pdf2eps</b>]</span></dt>
<dd>
The program <b>glilypond</b> generates a <i>pdf</i> file using <b>lilypond</b>. Then the <i>eps</i> file is generated by <b>pdf2ps</b> and <b>ps2eps</b>R<b>.</b></dd>
</dl>
</div>
<div class="subsection">
<h2>Directories and Files</h2><dl>
<dt>
<b>-e</b>|<b>--eps_dir</b><i> directory_name</i></dt>
<dd>
Normally all <i>EPS</i> files are sent to the temporary directory. With this option, you can generate your own directory, in which all useful <i>EPS</i> files are send. So at last, the temporary directory can be removed.</dd>
</dl>
<dl>
<dt>
<b>-p</b>|<b>--prefix</b><i> begin_of_name</i></dt>
<dd>
Normally all temporary files get names that start with the <b>ly</b><i>....</i> prefix. With this option, you can freely change this prefix.</dd>
</dl>
<dl>
<dt>
<b>-k</b>|<b>--keep_all</b></dt>
<dd>
Normally all temporary files without the <i>eps</i> files are deleted. With this option, all generated files either by the <b>lilypond</b> program or other format transposers are kept.</dd>
</dl>
<dl>
<dt>
<b>-t</b>|<b>--temp_dir</b><i> dir</i></dt>
<dd>
With this option, you call a directory that is the base for the temporary directory. This directory name is used as is without any extensions. If this directory does not exist it is be created. The temporary directory is created by Perl's security operations directly under this directory. In this temporary directory, the temporary files are stored.</dd>
</dl>
</div>
<div class="subsection">
<h2>Output</h2><dl>
<dt>
<b>-o</b>|<b>--output</b><i> file_name</i></dt>
<dd>
Normally all <i>groff</i> output of this program is sent to <b>STDOUT</b>R<b>.</b> With this option, that can be changed, such that the output is stored into a file named in the option argument <i>file_name</i>.</dd>
</dl>
<dl>
<dt>
<b>-v</b>|<b>-V</b>|<b>--verbose</b></dt>
<dd>
A lot more of information is sent to STDERR.</dd>
</dl>
</div>
<div class="subsection">
<h2>Short Option Collections</h2> The argument handling of options<div class="spacer">
</div>
<i>Short options</i> are arguments that start with a single dash <b>-</b>. Such an argument can consist of arbitrary many options without option argument, composed as a collection of option characters following the single dash.<div class="spacer">
</div>
Such a collection can be terminated by an option character that expects an option argument. If this option character is not the last character of the argument, the following final part of the argument is the option argument. If it is the last character of the argument, the next argument is taken as the option argument.<div class="spacer">
</div>
This is the standard for <i>POSIX</i> and <i>GNU</i> option management.<div class="spacer">
</div>
For example,<dl>
<dt>
<b>-kVe</b><i> some_dir</i></dt>
<dd>
is a collection of the short options <b>-k</b> and <b>-V</b> without option argument, followed by the short option <b>-e</b> with option argument that is the following part of the argument <i>some_dir</i>. So this argument could also be written as several arguments <b>-k -V -e</b> <i>some_dir</i>.</dd>
</dl>
</div>
<div class="subsection">
<h2>Handling of Long Options</h2> Arguments that start with a double dash <b>--</b> are so-called <i>long options R .</i> Each double dash argument can only have a single long option.<div class="spacer">
</div>
<i>Long options</i> have or have not an option argument. An option argument can be the next argument or can be appended with an equal sign <b>=</b> to the same argument as the long option.<dl>
<dt>
<b>--help</b></dt>
<dd>
is a long option without an option argument.</dd>
</dl>
<dl>
<dt>
<b>--eps_dir</b><i> some_dir</i></dt>
<dd>
<b>--eps_dir=</b><i>some_dir</i> is the long option <b>--eps_dir</b> with the option argument <i>some_dir</i>.</dd>
</dl>
<div class="spacer">
</div>
Moreover the program allows abbreviations of long options, as much as possible.<div class="spacer">
</div>
The <i>long option</i> <b>--keep_all</b> can be abbreviated from <b>--keep_al</b> up to <b>--k</b> because the program does not have another <i>long option</i> whose name starts with the character <b>k</b>.<div class="spacer">
</div>
On the other hand, the option <b>--version</b> cannot be abbreviated further than <b>--vers</b> because there is also the <i>long option</i> <b>--verbose</b> that can be abbreviated up to <b>--verb</b>.<div class="spacer">
</div>
An option argument can also be appended to an abbreviation. So is <b>--e=</b><i>some_dir</i> the same as <b>--eps_dir</b> <i>some_dir</i>.<div class="spacer">
</div>
Moreover the program allows an arbitrary usage of upper and lower case in the option name. This is <i>Perl</i> style.<div class="spacer">
</div>
For example, the <i>long option</i> <b>--keep_all</b> can as well be written as <b>--Keep_All</b> or even as an abbreviation like <b>--KeE</b>.</div>
</div>
<div class="section">
<h1>FILESPEC ARGUMENTS</h1> An argument that is not an option or an option argument is called a <i>filespec</i> argument.<div class="spacer">
</div>
Without any <i>filespec</i> argument, <i>standard input</i> is read.<div class="spacer">
</div>
Each <i>filespec</i> argument must either be the name of a readable file or a dash <b>-</b> for <i>standard input</i>. Each input must be written in the <i>roff</i> or <i>groff</i> language and can include <i>lilypond</i> parts.<div class="spacer">
</div>
Normally arguments starting with a dash <b>-</b> are interpreted as an option. But if you use an argument that consists only of a doubled dash <b>-- R ,</b> all following arguments are taken as <i>filespec</i> argument, even if such an argument starts with a dash. This is handled according to the <i>GNU</i> standard.</div>
<div class="section">
<h1>THE LILYPOND PARTS IN ROFF INPUT</h1><div class="subsection">
<h2>Integrated Lilypond Codes</h2> A <i>lilypond</i> part within a structure written in the <i>groff</i> language is the whole part between the marks<div style="margin-left: 5.00ex;">
<b>.lilypond start</b><br/>
</div>
and<div style="margin-left: 5.00ex;">
<b>.lilypond end</b><br/>
</div>
<div class="spacer">
</div>
A <i>groff</i> input can have several of these <i>lilypond</i> parts.<div class="spacer">
</div>
When processing such a <i>lilypond</i> part between <b>.lilypond start</b> and <b>.lilypond end</b> we say that the <b>glilypond</b> program is in <i>lilypond mode</i>.<div class="spacer">
</div>
These <i>lilypond</i> parts are sent into temporary <i>lilypond</i> files with the file name extension <b>.ly</b>. These files are transformed later on into <i>EPS</i> files.</div>
<div class="subsection">
<h2>Inclusion of ly-Files</h2> An additional command line for file inclusion of <i>lilypond</i> files is given by<br/>
<b>.lilypond include</b><i> file_name</i><br/>
in <i>groff</i> input. For each such <i>include</i> command, one file of <i>lilypond</i> code can be included into the <i>groff</i> code. Arbitrarily many of these commands can be included in the <i>groff</i> input.<div class="spacer">
</div>
These include commands can only be used outside the <i>lilypond</i> parts. Within the <i>lilypond mode</i>, this inclusion is not possible. So <b>.lilypond include</b> may not be used in <i>lilypond mode</i>, i.e. between <b>.lilypond start</b> and <b>.lilypond end</b>. These included <i>ly</i>-files are also transformed into <i>EPS</i> files.</div>
</div>
<div class="section">
<h1>GENERATED FILES</h1> By the transformation process of <i>lilypond</i> parts into <i>EPS</i> files, there are many files generated. By default, these files are regarded as temporary files and as such stored in a temporary directory.<div class="spacer">
</div>
This process can be changed by command line options.<div class="subsection">
<h2>Command Line Options for Directories</h2> The temporary directory for this program is either created automatically or can be named by the option <b>-t</b>|<b>--temp_dir</b> <i>dir</i>.<div class="spacer">
</div>
Moreover, the <i>EPS</i> files that are later on referred by <b>.PSPIC</b> command in the final <i>groff</i> output can be stored in a different directory that can be set by the command line option <b>-e</b>|<b>--eps_dir</b> <i>directory_name</i>. With this option, the temporary directory can be removed completely at the end of the program.<div class="spacer">
</div>
The beginning of the names of the temporary files can be set by the command line option [<span class="opt"><b>-p</b> <i>|</i>]</span> <i>begin_of_name</i>.<div class="spacer">
</div>
All of the temporary files except the <i>EPS</i> files are deleted finally. This can be changed by setting the command line option [<span class="opt"><b>-k</b> <i>|</i>]</span> With this, all temporary files and directories are kept, not deleted.<div class="spacer">
</div>
These <i>EPS</i> files are stored in a temporary or <i>EPS</i> directory. But they cannot be deleted by the transformation process because they are needed for the display which can take a long time.</div>
</div>
<div class="section">
<h1>TRANSFORMATION PROCESSES FOR GENERATING EPS FILES</h1><div class="subsection">
<h2>Mode ly2eps</h2> This mode is the default. It can also be chosen by the option <b>--ly2eps</b>.<div class="spacer">
</div>
In this mode, the <b>.ly</b> files are transformed by the <b>lilypond</b> program into many files of different formats, including <i>eps</i> files, using<div style="margin-left: 5.00ex;">
<br/>
<b>$ lilypond --ps -dbackend=eps -dgs-load-fonts --output=</b><i>file-name</i><br/>
</div>
for each <b>.ly</b> file. The output <i>file-name</i> must be provided without an extension, its directory is temporary.<div class="spacer">
</div>
There are many <i>EPS</i> files created. One having the complete transformed <b>ly</b> file, named <i>file-name</i><b>.eps</b><i>.</i><div class="spacer">
</div>
Moreover there are <i>EPS</i> files for each page, named <i>file-name</i><b>-</b><i>digit</i><b>.eps</b><i>.</i><div class="spacer">
</div>
The last step to be done is replacing all <i>lilypond</i> parts by the collection of the corresponding <i>EPS</i> page files. This is done by <i>groff</i> commands<br/>
<b>.PSPIC </b><i>file-name</i><b>-</b><i>digit</i><b>.eps</b><br/>
</div>
<div class="subsection">
<h2>Mode pdf2eps</h2> This mode can be chosen by the option <b>--pdf2eps</b>.<div class="spacer">
</div>
In this mode, the <b>.ly</b> files are transformed by the <b>lilypond</b>(1) program into <i>pdf</i> files, using<div style="margin-left: 5.00ex;">
<br/>
<b>lilypond --pdf --output=</b><i>file-name</i><br/>
</div>
for each <b>.ly</b> file. The <i>file-name</i> must be provided without the extension <b>.pdf</b>. By this process, a file <i>file-name</i><b>.pdf</b> is generated.<div class="spacer">
</div>
The next step is to transform these <i>PDF</i> files into a <i>PS</i> file. This is done by the <b>pdf2ps</b>(1) program using<div style="margin-left: 5.00ex;">
<br/>
$  <b>pdf2ps</b> <i>file-name</i> <b>.pdf</b> <i>file-name</i> <b>.ps</b><br/>
</div>
The next step creates an <i>EPS</i> file from the <i>PS</i> file. This is done by the <b>ps2eps</b>(1) program using<div style="margin-left: 5.00ex;">
<br/>
$ <b>ps2eps </b><i>file-name</i><b>.ps</b><br/>
</div>
<div class="spacer">
</div>
By that, a file <i>file-name</i><b>.eps</b> is created for each <i>lilypond</i> part in the <i>groff</i> file or standard input.<div class="spacer">
</div>
The last step to be done is replacing all <i>lilypond</i> parts by the <i>groff</i> command<div style="margin-left: 5.00ex;">
<br/>
<b>.PSPIC </b><i>file-name</i><b>.eps</b><br/>
</div>
</div>
</div>
<div class="section">
<h1>THE GENERATED NEW ROFF STRUCTURE</h1> The new <b>groff</b>(7) structure generated by <b>glilypond</b> is either<dl>
<dt>
1)</dt>
<dd>
sent to standard output and can there be saved into a file or piped into <b>groff</b>(1) or <b>groffer</b>(1) or</dd>
</dl>
<dl>
<dt>
2)</dt>
<dd>
stored into a file by given the option <b>-o&#160;&#160;|</b>&#160;--output <i>file_name</i></dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1><dl>
<dt>
<b>groff</b>(1)</dt>
<dd>
the usage of the groff program and pointers to the documentation and availability of the <i>groff</i> system. The main source of information for the <i>groff</i> system is the <i>groff</i> <b>info</b>(1) file.</dd>
</dl>
<dl>
<dt>
<b>groff</b>(7)</dt>
<dd>
documents the <i>groff</i> language.</dd>
</dl>
<dl>
<dt>
<b>groff_tmac</b>(5)</dt>
<dd>
contains documentation of the <b>.PSPIC</b> request.</dd>
</dl>
<dl>
<dt>
<b>lilypond</b>(1)</dt>
<dd>
The documentation of the <b>lilypond</b> program. The main source of information for the <i>lilypond</i> language is the <i>lilypond</i> <b>info</b>(1) file.</dd>
</dl>
<dl>
<dt>
<b>pdf2ps</b>(1)</dt>
<dd>
transform a <i>PDF</i> file into a <i>Postscript</i> format.</dd>
</dl>
<dl>
<dt>
<b>ps2eps</b>(1)</dt>
<dd>
transform a <i>PS</i> file into an <i>EPS</i> format.</dd>
</dl>
</div>
<div class="section">
<h1>COPYING</h1> Copyright &#169; 2013-2014 Free Software Foundation, Inc.<div style="height: 1.00em;">
&#160;</div>
This file is part of glilypond, which is part of GNU groff, a free software project.<div style="height: 1.00em;">
&#160;</div>
You can redistribute it and/or modify it under the terms of the GNU General Public License version 2 (GPL2) as published by the Free Software Foundation.<div style="height: 1.00em;">
&#160;</div>
The license text is available in the internet at <a class="link-ext" href="http://www.gnu.org/licenses/gpl-2.0.html">http://www.gnu.org/licenses/gpl-2.0.html</a></div>
<div class="section">
<h1>AUTHORS</h1> This document was written by Bernd Warken</div>
<table class="foot">
<tr>
<td class="foot-date">
4 November 2014</td>
<td class="foot-os">
Groff Version 1.22.3</td>
</tr>
</table>
</div>
</body>
</html>

