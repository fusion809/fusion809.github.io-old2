<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
SYSTEMD.EXEC(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SYSTEMD.EXEC(5)</td>
<td class="head-vol">
systemd.exec</td>
<td class="head-rtitle">
SYSTEMD.EXEC(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> systemd.exec - Execution environment configuration</div>
<div class="section">
<h1>SYNOPSIS</h1>  <i>service</i>.service,  <i>socket</i>.socket,  <i>mount</i>.mount,  <i>swap</i>.swap</div>
<div class="section">
<h1>DESCRIPTION</h1> Unit configuration files for services, sockets, mount points, and swap devices share a subset of configuration options which define the execution environment of spawned processes.<div class="spacer">
</div>
This man page lists the configuration options shared by these four unit types. See  <b>systemd.unit</b>(5) for the common options of all unit configuration files, and  <b>systemd.service</b>(5),  <b>systemd.socket</b>(5),  <b>systemd.swap</b>(5), and  <b>systemd.mount</b>(5) for more information on the specific unit configuration files. The execution specific configuration options are configured in the [Service], [Socket], [Mount], or [Swap] sections, depending on the unit type.</div>
<div class="section">
<h1>OPTIONS</h1>  <i>WorkingDirectory=</i><div style="margin-left: 4.00ex;">
Takes an absolute directory path. Sets the working directory for executed processes. If not set, defaults to the root directory when systemd is running as a system instance and the respective user's home directory if run as user.</div>
<div class="spacer">
</div>
<i>RootDirectory=</i><div style="margin-left: 4.00ex;">
Takes an absolute directory path. Sets the root directory for executed processes, with the  <b>chroot</b>(2) system call. If this is used, it must be ensured that the process and all its auxiliary files are available in the  <b>chroot()</b> jail.</div>
<div class="spacer">
</div>
<i>User=</i>, <i>Group=</i><div style="margin-left: 4.00ex;">
Sets the Unix user or group that the processes are executed as, respectively. Takes a single user or group name or ID as argument. If no group is set, the default group of the user is chosen.</div>
<div class="spacer">
</div>
<i>SupplementaryGroups=</i><div style="margin-left: 4.00ex;">
Sets the supplementary Unix groups the processes are executed as. This takes a space-separated list of group names or IDs. This option may be specified more than once in which case all listed groups are set as supplementary groups. When the empty string is assigned the list of supplementary groups is reset, and all assignments prior to this one will have no effect. In any way, this option does not override, but extends the list of supplementary groups configured in the system group database for the user.</div>
<div class="spacer">
</div>
<i>Nice=</i><div style="margin-left: 4.00ex;">
Sets the default nice level (scheduling priority) for executed processes. Takes an integer between -20 (highest priority) and 19 (lowest priority). See  <b>setpriority</b>(2) for details.</div>
<div class="spacer">
</div>
<i>OOMScoreAdjust=</i><div style="margin-left: 4.00ex;">
Sets the adjustment level for the Out-Of-Memory killer for executed processes. Takes an integer between -1000 (to disable OOM killing for this process) and 1000 (to make killing of this process under memory pressure very likely). See  <b>proc.txt</b>[1] for details.</div>
<div class="spacer">
</div>
<i>IOSchedulingClass=</i><div style="margin-left: 4.00ex;">
Sets the IO scheduling class for executed processes. Takes an integer between 0 and 3 or one of the strings  <b>none</b>,  <b>realtime</b>,  <b>best-effort</b> or  <b>idle</b>. See  <b>ioprio_set</b>(2) for details.</div>
<div class="spacer">
</div>
<i>IOSchedulingPriority=</i><div style="margin-left: 4.00ex;">
Sets the IO scheduling priority for executed processes. Takes an integer between 0 (highest priority) and 7 (lowest priority). The available priorities depend on the selected IO scheduling class (see above). See  <b>ioprio_set</b>(2) for details.</div>
<div class="spacer">
</div>
<i>CPUSchedulingPolicy=</i><div style="margin-left: 4.00ex;">
Sets the CPU scheduling policy for executed processes. Takes one of  <b>other</b>,  <b>batch</b>,  <b>idle</b>,  <b>fifo</b> or  <b>rr</b>. See  <b>sched_setscheduler</b>(2) for details.</div>
<div class="spacer">
</div>
<i>CPUSchedulingPriority=</i><div style="margin-left: 4.00ex;">
Sets the CPU scheduling priority for executed processes. The available priority range depends on the selected CPU scheduling policy (see above). For real-time scheduling policies an integer between 1 (lowest priority) and 99 (highest priority) can be used. See  <b>sched_setscheduler</b>(2) for details.</div>
<div class="spacer">
</div>
<i>CPUSchedulingResetOnFork=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument. If true, elevated CPU scheduling priorities and policies will be reset when the executed processes fork, and can hence not leak into child processes. See  <b>sched_setscheduler</b>(2) for details. Defaults to false.</div>
<div class="spacer">
</div>
<i>CPUAffinity=</i><div style="margin-left: 4.00ex;">
Controls the CPU affinity of the executed processes. Takes a space-separated list of CPU indices. This option may be specified more than once in which case the specified CPU affinity masks are merged. If the empty string is assigned, the mask is reset, all assignments prior to this will have no effect. See  <b>sched_setaffinity</b>(2) for details.</div>
<div class="spacer">
</div>
<i>UMask=</i><div style="margin-left: 4.00ex;">
Controls the file mode creation mask. Takes an access mode in octal notation. See  <b>umask</b>(2) for details. Defaults to 0022.</div>
<div class="spacer">
</div>
<i>Environment=</i><div style="margin-left: 4.00ex;">
Sets environment variables for executed processes. Takes a space-separated list of variable assignments. This option may be specified more than once in which case all listed variables will be set. If the same variable is set twice, the later setting will override the earlier setting. If the empty string is assigned to this option, the list of environment variables is reset, all prior assignments have no effect. Variable expansion is not performed inside the strings, however, specifier expansion is possible. The $ character has no special meaning. If you need to assign a value containing spaces to a variable, use double quotes (&quot;) for the assignment.<div style="height: 1.00em;">
&#160;</div>
Example:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Environment=&quot;VAR1=word1 word2&quot; VAR2=word3 &quot;VAR3=$word 5 6&quot;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
gives three variables &quot;VAR1&quot;, &quot;VAR2&quot;, &quot;VAR3&quot; with the values &quot;word1 word2&quot;, &quot;word3&quot;, &quot;$word 5 6&quot;.<div style="height: 1.00em;">
&#160;</div>
See  <b>environ</b>(7) for details about environment variables.</div>
<div class="spacer">
</div>
<i>EnvironmentFile=</i><div style="margin-left: 4.00ex;">
Similar to  <i>Environment=</i> but reads the environment variables from a text file. The text file should contain new-line-separated variable assignments. Empty lines, lines without an &quot;=&quot; separator, or lines starting with ; or # will be ignored, which may be used for commenting. A line ending with a backslash will be concatenated with the following one, allowing multiline variable definitions. The parser strips leading and trailing whitespace from the values of assignments, unless you use double quotes (&quot;).<div style="height: 1.00em;">
&#160;</div>
The argument passed should be an absolute filename or wildcard expression, optionally prefixed with &quot;-&quot;, which indicates that if the file does not exist, it will not be read and no error or warning message is logged. This option may be specified more than once in which case all specified files are read. If the empty string is assigned to this option, the list of file to read is reset, all prior assignments have no effect.<div style="height: 1.00em;">
&#160;</div>
The files listed with this directive will be read shortly before the process is executed (more specifically, after all processes from a previous unit state terminated. This means you can generate these files in one unit state, and read it with this option in the next).<div style="height: 1.00em;">
&#160;</div>
Settings from these files override settings made with  <i>Environment=</i>. If the same variable is set twice from these files, the files will be read in the order they are specified and the later setting will override the earlier setting.</div>
<div class="spacer">
</div>
<i>StandardInput=</i><div style="margin-left: 4.00ex;">
Controls where file descriptor 0 (STDIN) of the executed processes is connected to. Takes one of  <b>null</b>,  <b>tty</b>,  <b>tty-force</b>,  <b>tty-fail</b> or  <b>socket</b>.<div style="height: 1.00em;">
&#160;</div>
If  <b>null</b> is selected, standard input will be connected to /dev/null, i.e. all read attempts by the process will result in immediate EOF.<div style="height: 1.00em;">
&#160;</div>
If  <b>tty</b> is selected, standard input is connected to a TTY (as configured by  <i>TTYPath=</i>, see below) and the executed process becomes the controlling process of the terminal. If the terminal is already being controlled by another process, the executed process waits until the current controlling process releases the terminal.<div style="height: 1.00em;">
&#160;</div>
<b>tty-force</b> is similar to  <b>tty</b>, but the executed process is forcefully and immediately made the controlling process of the terminal, potentially removing previous controlling processes from the terminal.<div style="height: 1.00em;">
&#160;</div>
<b>tty-fail</b> is similar to  <b>tty</b> but if the terminal already has a controlling process start-up of the executed process fails.<div style="height: 1.00em;">
&#160;</div>
The  <b>socket</b> option is only valid in socket-activated services, and only when the socket configuration file (see  <b>systemd.socket</b>(5) for details) specifies a single socket only. If this option is set, standard input will be connected to the socket the service was activated from, which is primarily useful for compatibility with daemons designed for use with the traditional  <b>inetd</b>(8) daemon.<div style="height: 1.00em;">
&#160;</div>
This setting defaults to  <b>null</b>.</div>
<div class="spacer">
</div>
<i>StandardOutput=</i><div style="margin-left: 4.00ex;">
Controls where file descriptor 1 (STDOUT) of the executed processes is connected to. Takes one of  <b>inherit</b>,  <b>null</b>,  <b>tty</b>,  <b>journal</b>,  <b>syslog</b>,  <b>kmsg</b>,  <b>journal+console</b>,  <b>syslog+console</b>,  <b>kmsg+console</b> or  <b>socket</b>.<div style="height: 1.00em;">
&#160;</div>
<b>inherit</b> duplicates the file descriptor of standard input for standard output.<div style="height: 1.00em;">
&#160;</div>
<b>null</b> connects standard output to /dev/null, i.e. everything written to it will be lost.<div style="height: 1.00em;">
&#160;</div>
<b>tty</b> connects standard output to a tty (as configured via  <i>TTYPath=</i>, see below). If the TTY is used for output only, the executed process will not become the controlling process of the terminal, and will not fail or wait for other processes to release the terminal.<div style="height: 1.00em;">
&#160;</div>
<b>journal</b> connects standard output with the journal which is accessible via  <b>journalctl</b>(1). Note that everything that is written to syslog or kmsg (see below) is implicitly stored in the journal as well, the specific two options listed below are hence supersets of this one.<div style="height: 1.00em;">
&#160;</div>
<b>syslog</b> connects standard output to the  <b>syslog</b>(3) system syslog service, in addition to the journal. Note that the journal daemon is usually configured to forward everything it receives to syslog anyway, in which case this option is no different from  <b>journal</b>.<div style="height: 1.00em;">
&#160;</div>
<b>kmsg</b> connects standard output with the kernel log buffer which is accessible via  <b>dmesg</b>(1), in addition to the journal. The journal daemon might be configured to send all logs to kmsg anyway, in which case this option is no different from  <b>journal</b>.<div style="height: 1.00em;">
&#160;</div>
<b>journal+console</b>,  <b>syslog+console</b> and  <b>kmsg+console</b> work in a similar way as the three options above but copy the output to the system console as well.<div style="height: 1.00em;">
&#160;</div>
<b>socket</b> connects standard output to a socket acquired via socket activation. The semantics are similar to the same option of  <i>StandardInput=</i>.<div style="height: 1.00em;">
&#160;</div>
This setting defaults to the value set with  <b>DefaultStandardOutput=</b> in  <b>systemd-system.conf</b>(5), which defaults to  <b>journal</b>.</div>
<div class="spacer">
</div>
<i>StandardError=</i><div style="margin-left: 4.00ex;">
Controls where file descriptor 2 (STDERR) of the executed processes is connected to. The available options are identical to those of  <i>StandardOutput=</i>, with one exception: if set to  <b>inherit</b> the file descriptor used for standard output is duplicated for standard error. This setting defaults to the value set with  <b>DefaultStandardError=</b> in  <b>systemd-system.conf</b>(5), which defaults to  <b>inherit</b>.</div>
<div class="spacer">
</div>
<i>TTYPath=</i><div style="margin-left: 4.00ex;">
Sets the terminal device node to use if standard input, output, or error are connected to a TTY (see above). Defaults to /dev/console.</div>
<div class="spacer">
</div>
<i>TTYReset=</i><div style="margin-left: 4.00ex;">
Reset the terminal device specified with  <i>TTYPath=</i> before and after execution. Defaults to &quot;no&quot;.</div>
<div class="spacer">
</div>
<i>TTYVHangup=</i><div style="margin-left: 4.00ex;">
Disconnect all clients which have opened the terminal device specified with  <i>TTYPath=</i> before and after execution. Defaults to &quot;no&quot;.</div>
<div class="spacer">
</div>
<i>TTYVTDisallocate=</i><div style="margin-left: 4.00ex;">
If the terminal device specified with  <i>TTYPath=</i> is a virtual console terminal, try to deallocate the TTY before and after execution. This ensures that the screen and scrollback buffer is cleared. Defaults to &quot;no&quot;.</div>
<div class="spacer">
</div>
<i>SyslogIdentifier=</i><div style="margin-left: 4.00ex;">
Sets the process name to prefix log lines sent to the logging system or the kernel log buffer with. If not set, defaults to the process name of the executed process. This option is only useful when  <i>StandardOutput=</i> or  <i>StandardError=</i> are set to  <b>syslog</b>,  <b>journal</b> or  <b>kmsg</b> (or to the same settings in combination with  <b>+console</b>).</div>
<div class="spacer">
</div>
<i>SyslogFacility=</i><div style="margin-left: 4.00ex;">
Sets the syslog facility to use when logging to syslog. One of  <b>kern</b>,  <b>user</b>,  <b>mail</b>,  <b>daemon</b>,  <b>auth</b>,  <b>syslog</b>,  <b>lpr</b>,  <b>news</b>,  <b>uucp</b>,  <b>cron</b>,  <b>authpriv</b>,  <b>ftp</b>,  <b>local0</b>,  <b>local1</b>,  <b>local2</b>,  <b>local3</b>,  <b>local4</b>,  <b>local5</b>,  <b>local6</b> or  <b>local7</b>. See  <b>syslog</b>(3) for details. This option is only useful when  <i>StandardOutput=</i> or  <i>StandardError=</i> are set to  <b>syslog</b>. Defaults to  <b>daemon</b>.</div>
<div class="spacer">
</div>
<i>SyslogLevel=</i><div style="margin-left: 4.00ex;">
Default syslog level to use when logging to syslog or the kernel log buffer. One of  <b>emerg</b>,  <b>alert</b>,  <b>crit</b>,  <b>err</b>,  <b>warning</b>,  <b>notice</b>,  <b>info</b>,  <b>debug</b>. See  <b>syslog</b>(3) for details. This option is only useful when  <i>StandardOutput=</i> or  <i>StandardError=</i> are set to  <b>syslog</b> or  <b>kmsg</b>. Note that individual lines output by the daemon might be prefixed with a different log level which can be used to override the default log level specified here. The interpretation of these prefixes may be disabled with  <i>SyslogLevelPrefix=</i>, see below. For details see  <b>sd-daemon</b>(3). Defaults to  <b>info</b>.</div>
<div class="spacer">
</div>
<i>SyslogLevelPrefix=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument. If true and  <i>StandardOutput=</i> or  <i>StandardError=</i> are set to  <b>syslog</b>,  <b>kmsg</b> or  <b>journal</b>, log lines written by the executed process that are prefixed with a log level will be passed on to syslog with this log level set but the prefix removed. If set to false, the interpretation of these prefixes is disabled and the logged lines are passed on as-is. For details about this prefixing see  <b>sd-daemon</b>(3). Defaults to true.</div>
<div class="spacer">
</div>
<i>TimerSlackNSec=</i><div style="margin-left: 4.00ex;">
Sets the timer slack in nanoseconds for the executed processes. The timer slack controls the accuracy of wake-ups triggered by timers. See  <b>prctl</b>(2) for more information. Note that in contrast to most other time span definitions this parameter takes an integer value in nano-seconds if no unit is specified. The usual time units are understood too.</div>
<div class="spacer">
</div>
<i>LimitCPU=</i>, <i>LimitFSIZE=</i>, <i>LimitDATA=</i>, <i>LimitSTACK=</i>, <i>LimitCORE=</i>, <i>LimitRSS=</i>, <i>LimitNOFILE=</i>, <i>LimitAS=</i>, <i>LimitNPROC=</i>, <i>LimitMEMLOCK=</i>, <i>LimitLOCKS=</i>, <i>LimitSIGPENDING=</i>, <i>LimitMSGQUEUE=</i>, <i>LimitNICE=</i>, <i>LimitRTPRIO=</i>, <i>LimitRTTIME=</i><div style="margin-left: 4.00ex;">
These settings set both soft and hard limits of various resources for executed processes. See  <b>setrlimit</b>(2) for details. Use the string  <i>infinity</i> to configure no limit on a specific resource.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<b>Table&#160;1.&#160;Limit directives and their equivalent with ulimit</b><table class="tbl">
<col style="width: 15.00ex;"/>
<col style="width: 17.00ex;"/>
<tbody>
<tr>
<td>
Directive</td>
<td>
ulimit equivalent</td>
</tr>
<tr>
<td>
LimitCPU</td>
<td>
ulimit -t</td>
</tr>
<tr>
<td>
LimitFSIZE</td>
<td>
ulimit -f</td>
</tr>
<tr>
<td>
LimitDATA</td>
<td>
ulimit -d</td>
</tr>
<tr>
<td>
LimitSTACK</td>
<td>
ulimit -s</td>
</tr>
<tr>
<td>
LimitCORE</td>
<td>
ulimit -c</td>
</tr>
<tr>
<td>
LimitRSS</td>
<td>
ulimit -m</td>
</tr>
<tr>
<td>
LimitNOFILE</td>
<td>
ulimit -n</td>
</tr>
<tr>
<td>
LimitAS</td>
<td>
ulimit -v</td>
</tr>
<tr>
<td>
LimitNPROC</td>
<td>
ulimit -u</td>
</tr>
<tr>
<td>
LimitMEMLOCK</td>
<td>
ulimit -l</td>
</tr>
<tr>
<td>
LimitLOCKS</td>
<td>
ulimit -x</td>
</tr>
<tr>
<td>
LimitSIGPENDING</td>
<td>
ulimit -i</td>
</tr>
<tr>
<td>
LimitMSGQUEUE</td>
<td>
ulimit -q</td>
</tr>
<tr>
<td>
LimitNICE</td>
<td>
ulimit -e</td>
</tr>
<tr>
<td>
LimitRTPRIO</td>
<td>
ulimit -r</td>
</tr>
<tr>
<td>
LimitRTTIME</td>
<td>
No equivalent</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="spacer">
</div>
<i>PAMName=</i><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Sets the PAM service name to set up a session as. If set, the executed process will be registered as a PAM session under the specified service name. This is only useful in conjunction with the  <i>User=</i> setting. If not set, no PAM session will be opened for the executed processes. See  <b>pam</b>(8) for details.</div>
<div class="spacer">
</div>
<i>CapabilityBoundingSet=</i><div style="margin-left: 4.00ex;">
Controls which capabilities to include in the capability bounding set for the executed process. See  <b>capabilities</b>(7) for details. Takes a whitespace-separated list of capability names as read by  <b>cap_from_name</b>(3), e.g.  <b>CAP_SYS_ADMIN</b>,  <b>CAP_DAC_OVERRIDE</b>,  <b>CAP_SYS_PTRACE</b>. Capabilities listed will be included in the bounding set, all others are removed. If the list of capabilities is prefixed with &quot;~&quot;, all but the listed capabilities will be included, the effect of the assignment inverted. Note that this option also affects the respective capabilities in the effective, permitted and inheritable capability sets, on top of what  <i>Capabilities=</i> does. If this option is not used, the capability bounding set is not modified on process execution, hence no limits on the capabilities of the process are enforced. This option may appear more than once in which case the bounding sets are merged. If the empty string is assigned to this option, the bounding set is reset to the empty capability set, and all prior settings have no effect. If set to &quot;~&quot; (without any further argument), the bounding set is reset to the full set of available capabilities, also undoing any previous settings.</div>
<div class="spacer">
</div>
<i>SecureBits=</i><div style="margin-left: 4.00ex;">
Controls the secure bits set for the executed process. Takes a space-separated combination of options from the following list:  <b>keep-caps</b>,  <b>keep-caps-locked</b>,  <b>no-setuid-fixup</b>,  <b>no-setuid-fixup-locked</b>,  <b>noroot</b>, and  <b>noroot-locked</b>. This option may appear more than once in which case the secure bits are ORed. If the empty string is assigned to this option, the bits are reset to 0. See  <b>capabilities</b>(7) for details.</div>
<div class="spacer">
</div>
<i>Capabilities=</i><div style="margin-left: 4.00ex;">
Controls the  <b>capabilities</b>(7) set for the executed process. Take a capability string describing the effective, permitted and inherited capability sets as documented in  <b>cap_from_text</b>(3). Note that these capability sets are usually influenced (and filtered) by the capabilities attached to the executed file. Due to that  <i>CapabilityBoundingSet=</i> is probably a much more useful setting.</div>
<div class="spacer">
</div>
<i>ReadWriteDirectories=</i>, <i>ReadOnlyDirectories=</i>, <i>InaccessibleDirectories=</i><div style="margin-left: 4.00ex;">
Sets up a new file system namespace for executed processes. These options may be used to limit access a process might have to the main file system hierarchy. Each setting takes a space-separated list of absolute directory paths. Directories listed in  <i>ReadWriteDirectories=</i> are accessible from within the namespace with the same access rights as from outside. Directories listed in  <i>ReadOnlyDirectories=</i> are accessible for reading only, writing will be refused even if the usual file access controls would permit this. Directories listed in  <i>InaccessibleDirectories=</i> will be made inaccessible for processes inside the namespace. Note that restricting access with these options does not extend to submounts of a directory that are created later on. These options may be specified more than once in which case all directories listed will have limited access from within the namespace. If the empty string is assigned to this option, the specific list is reset, and all prior assignments have no effect.<div style="height: 1.00em;">
&#160;</div>
Paths in  <i>ReadOnlyDirectories=</i> and  <i>InaccessibleDirectories=</i> may be prefixed with &quot;-&quot;, in which case they will be ignored when they do not exist. Note that using this setting will disconnect propagation of mounts from the service to the host (propagation in the opposite direction continues to work). This means that this setting may not be used for services which shall be able to install mount points in the main mount namespace.</div>
<div class="spacer">
</div>
<i>PrivateTmp=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument. If true, sets up a new file system namespace for the executed processes and mounts private /tmp and /var/tmp directories inside it that is not shared by processes outside of the namespace. This is useful to secure access to temporary files of the process, but makes sharing between processes via /tmp or /var/tmp impossible. If this is enabled, all temporary files created by a service in these directories will be removed after the service is stopped. Defaults to false. It is possible to run two or more units within the same private /tmp and /var/tmp namespace by using the  <i>JoinsNamespaceOf=</i> directive, see  <b>systemd.unit</b>(5) for details. Note that using this setting will disconnect propagation of mounts from the service to the host (propagation in the opposite direction continues to work). This means that this setting may not be used for services which shall be able to install mount points in the main mount namespace.</div>
<div class="spacer">
</div>
<i>PrivateDevices=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument. If true, sets up a new /dev namespace for the executed processes and only adds API pseudo devices such as /dev/null, /dev/zero or /dev/random (as well as the pseudo TTY subsystem) to it, but no physical devices such as /dev/sda. This is useful to securely turn off physical device access by the executed process. Defaults to false. Enabling this option will also remove  <b>CAP_MKNOD</b> from the capability bounding set for the unit (see above), and set  <i>DevicePolicy=closed</i> (see  <b>systemd.resource-control</b>(5) for details). Note that using this setting will disconnect propagation of mounts from the service to the host (propagation in the opposite direction continues to work). This means that this setting may not be used for services which shall be able to install mount points in the main mount namespace.</div>
<div class="spacer">
</div>
<i>PrivateNetwork=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument. If true, sets up a new network namespace for the executed processes and configures only the loopback network device &quot;lo&quot; inside it. No other network devices will be available to the executed process. This is useful to securely turn off network access by the executed process. Defaults to false. It is possible to run two or more units within the same private network namespace by using the  <i>JoinsNamespaceOf=</i> directive, see  <b>systemd.unit</b>(5) for details. Note that this option will disconnect all socket families from the host, this includes AF_NETLINK and AF_UNIX. The latter has the effect that AF_UNIX sockets in the abstract socket namespace will become unavailable to the processes (however, those located in the file system will continue to be accessible).</div>
<div class="spacer">
</div>
<i>ProtectSystem=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument or &quot;full&quot;. If true, mounts the /usr and /boot directories read-only for processes invoked by this unit. If set to &quot;full&quot;, the /etc directory is mounted read-only, too. This setting ensures that any modification of the vendor supplied operating system (and optionally its configuration) is prohibited for the service. It is recommended to enable this setting for all long-running services, unless they are involved with system updates or need to modify the operating system in other ways. Note however that processes retaining the CAP_SYS_ADMIN capability can undo the effect of this setting. This setting is hence particularly useful for daemons which have this capability removed, for example with  <i>CapabilityBoundingSet=</i>. Defaults to off.</div>
<div class="spacer">
</div>
<i>ProtectHome=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument or &quot;read-only&quot;. If true, the directories /home, /root and /run/user are made inaccessible and empty for processes invoked by this unit. If set to &quot;read-only&quot;, the three directories are made read-only instead. It is recommended to enable this setting for all long-running services (in particular network-facing ones), to ensure they cannot get access to private user data, unless the services actually require access to the user's private data. Note however that processes retaining the CAP_SYS_ADMIN capability can undo the effect of this setting. This setting is hence particularly useful for daemons which have this capability removed, for example with  <i>CapabilityBoundingSet=</i>. Defaults to off.</div>
<div class="spacer">
</div>
<i>MountFlags=</i><div style="margin-left: 4.00ex;">
Takes a mount propagation flag:  <b>shared</b>,  <b>slave</b> or  <b>private</b>, which control whether mounts in the file system namespace set up for this unit's processes will receive or propagate mounts or unmounts. See  <b>mount</b>(2) for details. Defaults to  <b>shared</b>. Use  <b>shared</b> to ensure that mounts and unmounts are propagated from the host to the container and vice versa. Use  <b>slave</b> to run processes so that none of their mounts and unmounts will propagate to the host. Use  <b>private</b> to also ensure that no mounts and unmounts from the host will propagate into the unit processes' namespace. Note that  <b>slave</b> means that file systems mounted on the host might stay mounted continuously in the unit's namespace, and thus keep the device busy. Note that the file system namespace related options ( <i>PrivateTmp=</i>,  <i>PrivateDevices=</i>,  <i>ProtectSystem=</i>,  <i>ProtectHome=</i>,  <i>ReadOnlyDirectories=</i>,  <i>InaccessibleDirectories=</i> and  <i>ReadWriteDirectories=</i>) require that mount and unmount propagation from the unit's file system namespace is disabled, and hence downgrade  <b>shared</b> to  <b>slave</b>.</div>
<div class="spacer">
</div>
<i>UtmpIdentifier=</i><div style="margin-left: 4.00ex;">
Takes a four character identifier string for an  <b>utmp</b>(5) and wtmp entry for this service. This should only be set for services such as  <b>getty</b> implementations (such as  <b>agetty</b>(8)) where utmp/wtmp entries must be created and cleared before and after execution, or for services that shall be executed as if they were run by a  <b>getty</b> process (see below). If the configured string is longer than four characters, it is truncated and the terminal four characters are used. This setting interprets %I style string replacements. This setting is unset by default, i.e. no utmp/wtmp entries are created or cleaned up for this service.</div>
<div class="spacer">
</div>
<i>UtmpMode=</i><div style="margin-left: 4.00ex;">
Takes one of &quot;init&quot;, &quot;login&quot; or &quot;user&quot;. If  <i>UtmpIdentifier=</i> is set, controls which type of  <b>utmp</b>(5)/wtmp entries for this service are generated. This setting has no effect unless  <i>UtmpIdentifier=</i> is set too. If &quot;init&quot; is set, only an  <b>INIT_PROCESS</b> entry is generated and the invoked process must implement a  <b>getty</b>-compatible utmp/wtmp logic. If &quot;login&quot; is set, first an  <b>INIT_PROCESS</b> entry, followed by an  <b>LOGIN_PROCESS</b> entry is generated. In this case the invoked process must implement a  <b>login</b>(1)-compatible utmp/wtmp logic. If &quot;user&quot; is set, first an  <b>INIT_PROCESS</b> entry, then a  <b>LOGIN_PROCESS</b> entry and finally an  <b>USER_PROCESS</b> entry is generated. In this case the invoked process may be any process that is suitable to be run as session leader. Defaults to &quot;init&quot;.</div>
<div class="spacer">
</div>
<i>SELinuxContext=</i><div style="margin-left: 4.00ex;">
Set the SELinux security context of the executed process. If set, this will override the automated domain transition. However, the policy still needs to authorize the transition. This directive is ignored if SELinux is disabled. If prefixed by &quot;-&quot;, all errors will be ignored. See  <b>setexeccon</b>(3) for details.</div>
<div class="spacer">
</div>
<i>AppArmorProfile=</i><div style="margin-left: 4.00ex;">
Takes a profile name as argument. The process executed by the unit will switch to this profile when started. Profiles must already be loaded in the kernel, or the unit will fail. This result in a non operation if AppArmor is not enabled. If prefixed by &quot;-&quot;, all errors will be ignored.</div>
<div class="spacer">
</div>
<i>SmackProcessLabel=</i><div style="margin-left: 4.00ex;">
Takes a  <b>SMACK64</b> security label as argument. The process executed by the unit will be started under this label and SMACK will decide whether the processes is allowed to run or not based on it. The process will continue to run under the label specified here unless the executable has its own  <b>SMACK64EXEC</b> label, in which case the process will transition to run under that label. When not specified, the label that systemd is running under is used. This directive is ignored if SMACK is disabled.<div style="height: 1.00em;">
&#160;</div>
The value may be prefixed by &quot;-&quot;, in which case all errors will be ignored. An empty value may be specified to unset previous assignments.</div>
<div class="spacer">
</div>
<i>IgnoreSIGPIPE=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument. If true, causes  <b>SIGPIPE</b> to be ignored in the executed process. Defaults to true because  <b>SIGPIPE</b> generally is useful only in shell pipelines.</div>
<div class="spacer">
</div>
<i>NoNewPrivileges=</i><div style="margin-left: 4.00ex;">
Takes a boolean argument. If true, ensures that the service process and all its children can never gain new privileges. This option is more powerful than the respective secure bits flags (see above), as it also prohibits UID changes of any kind. This is the simplest, most effective way to ensure that a process and its children can never elevate privileges again.</div>
<div class="spacer">
</div>
<i>SystemCallFilter=</i><div style="margin-left: 4.00ex;">
Takes a space-separated list of system call names. If this setting is used, all system calls executed by the unit processes except for the listed ones will result in immediate process termination with the  <b>SIGSYS</b> signal (whitelisting). If the first character of the list is &quot;~&quot;, the effect is inverted: only the listed system calls will result in immediate process termination (blacklisting). If running in user mode and this option is used,  <i>NoNewPrivileges=yes</i> is implied. This feature makes use of the Secure Computing Mode 2 interfaces of the kernel ('seccomp filtering') and is useful for enforcing a minimal sandboxing environment. Note that the  <b>execve</b>,  <b>rt_sigreturn</b>,  <b>sigreturn</b>,  <b>exit_group</b>,  <b>exit</b> system calls are implicitly whitelisted and do not need to be listed explicitly. This option may be specified more than once in which case the filter masks are merged. If the empty string is assigned, the filter is reset, all prior assignments will have no effect.<div style="height: 1.00em;">
&#160;</div>
If you specify both types of this option (i.e. whitelisting and blacklisting), the first encountered will take precedence and will dictate the default action (termination or approval of a system call). Then the next occurrences of this option will add or delete the listed system calls from the set of the filtered system calls, depending of its type and the default action. (For example, if you have started with a whitelisting of  <b>read</b> and  <b>write</b>, and right after it add a blacklisting of  <b>write</b>, then  <b>write</b> will be removed from the set.)</div>
<div class="spacer">
</div>
<i>SystemCallErrorNumber=</i><div style="margin-left: 4.00ex;">
Takes an &quot;errno&quot; error number name to return when the system call filter configured with  <i>SystemCallFilter=</i> is triggered, instead of terminating the process immediately. Takes an error name such as  <b>EPERM</b>,  <b>EACCES</b> or  <b>EUCLEAN</b>. When this setting is not used, or when the empty string is assigned, the process will be terminated immediately when the filter is triggered.</div>
<div class="spacer">
</div>
<i>SystemCallArchitectures=</i><div style="margin-left: 4.00ex;">
Takes a space separated list of architecture identifiers to include in the system call filter. The known architecture identifiers are  <b>x86</b>,  <b>x86-64</b>,  <b>x32</b>,  <b>arm</b> as well as the special identifier  <b>native</b>. Only system calls of the specified architectures will be permitted to processes of this unit. This is an effective way to disable compatibility with non-native architectures for processes, for example to prohibit execution of 32-bit x86 binaries on 64-bit x86-64 systems. The special  <b>native</b> identifier implicitly maps to the native architecture of the system (or more strictly: to the architecture the system manager is compiled for). If running in user mode and this option is used,  <i>NoNewPrivileges=yes</i> is implied. Note that setting this option to a non-empty list implies that  <b>native</b> is included too. By default, this option is set to the empty list, i.e. no architecture system call filtering is applied.</div>
<div class="spacer">
</div>
<i>RestrictAddressFamilies=</i><div style="margin-left: 4.00ex;">
Restricts the set of socket address families accessible to the processes of this unit. Takes a space-separated list of address family names to whitelist, such as  <b>AF_UNIX</b>,  <b>AF_INET</b> or  <b>AF_INET6</b>. When prefixed with  <b>~</b> the listed address families will be applied as blacklist, otherwise as whitelist. Note that this restricts access to the  <b>socket</b>(2) system call only. Sockets passed into the process by other means (for example, by using socket activation with socket units, see  <b>systemd.socket</b>(5)) are unaffected. Also, sockets created with  <b>socketpair()</b> (which creates connected AF_UNIX sockets only) are unaffected. Note that this option has no effect on 32-bit x86 and is ignored (but works correctly on x86-64). If running in user mode and this option is used,  <i>NoNewPrivileges=yes</i> is implied. By default, no restriction applies, all address families are accessible to processes. If assigned the empty string, any previous list changes are undone.<div style="height: 1.00em;">
&#160;</div>
Use this option to limit exposure of processes to remote systems, in particular via exotic network protocols. Note that in most cases, the local  <b>AF_UNIX</b> address family should be included in the configured whitelist as it is frequently used for local communication, including for  <b>syslog</b>(2) logging.</div>
<div class="spacer">
</div>
<i>Personality=</i><div style="margin-left: 4.00ex;">
Controls which kernel architecture  <b>uname</b>(2) shall report, when invoked by unit processes. Takes one of  <b>x86</b> and  <b>x86-64</b>. This is useful when running 32-bit services on a 64-bit host system. If not specified, the personality is left unmodified and thus reflects the personality of the host system's kernel.</div>
<div class="spacer">
</div>
<i>RuntimeDirectory=</i>, <i>RuntimeDirectoryMode=</i><div style="margin-left: 4.00ex;">
Takes a list of directory names. If set, one or more directories by the specified names will be created below /run (for system services) or below  <i>$XDG_RUNTIME_DIR</i> (for user services) when the unit is started, and removed when the unit is stopped. The directories will have the access mode specified in  <i>RuntimeDirectoryMode=</i>, and will be owned by the user and group specified in  <i>User=</i> and  <i>Group=</i>. Use this to manage one or more runtime directories of the unit and bind their lifetime to the daemon runtime. The specified directory names must be relative, and may not include a &quot;/&quot;, i.e. must refer to simple directories to create or remove. This is particularly useful for unprivileged daemons that cannot create runtime directories in /run due to lack of privileges, and to make sure the runtime directory is cleaned up automatically after use. For runtime directories that require more complex or different configuration or lifetime guarantees, please consider using  <b>tmpfiles.d</b>(5).</div>
</div>
<div class="section">
<h1>ENVIRONMENT VARIABLES IN SPAWNED PROCESSES</h1> Processes started by the system are executed in a clean environment in which select variables listed below are set. System processes started by systemd do not inherit variables from PID 1, but processes started by user systemd instances inherit all environment variables from the user systemd instance.<div class="spacer">
</div>
<i>$PATH</i><div style="margin-left: 4.00ex;">
Colon-separated list of directories to use when launching executables. Systemd uses a fixed value of /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin.</div>
<div class="spacer">
</div>
<i>$LANG</i><div style="margin-left: 4.00ex;">
Locale. Can be set in  <b>locale.conf</b>(5) or on the kernel command line (see  <b>systemd</b>(1) and  <b>kernel-command-line</b>(7)).</div>
<div class="spacer">
</div>
<i>$USER</i>, <i>$LOGNAME</i>, <i>$HOME</i>, <i>$SHELL</i><div style="margin-left: 4.00ex;">
User name (twice), home directory, and the login shell. The variables are set for the units that have  <i>User=</i> set, which includes user  <b>systemd</b> instances. See  <b>passwd</b>(5).</div>
<div class="spacer">
</div>
<i>$XDG_RUNTIME_DIR</i><div style="margin-left: 4.00ex;">
The directory for volatile state. Set for the user  <b>systemd</b> instance, and also in user sessions. See  <b>pam_systemd</b>(8).</div>
<div class="spacer">
</div>
<i>$XDG_SESSION_ID</i>, <i>$XDG_SEAT</i>, <i>$XDG_VTNR</i><div style="margin-left: 4.00ex;">
The identifier of the session, the seat name, and virtual terminal of the session. Set by  <b>pam_systemd</b>(8) for login sessions.  <i>$XDG_SEAT</i> and  <i>$XDG_VTNR</i> will only be set when attached to a seat and a tty.</div>
<div class="spacer">
</div>
<i>$MAINPID</i><div style="margin-left: 4.00ex;">
The PID of the units main process if it is known. This is only set for control processes as invoked by  <i>ExecReload=</i> and similar.</div>
<div class="spacer">
</div>
<i>$MANAGERPID</i><div style="margin-left: 4.00ex;">
The PID of the user  <b>systemd</b> instance, set for processes spawned by it.</div>
<div class="spacer">
</div>
<i>$LISTEN_FDS</i>, <i>$LISTEN_PID</i><div style="margin-left: 4.00ex;">
Information about file descriptors passed to a service for socket activation. See  <b>sd_listen_fds</b>(3).</div>
<div class="spacer">
</div>
<i>$TERM</i><div style="margin-left: 4.00ex;">
Terminal type, set only for units connected to a terminal (<i>StandardInput=tty</i>,  <i>StandardOutput=tty</i>, or  <i>StandardError=tty</i>). See  <b>termcap</b>(5).</div>
<div class="spacer">
</div>
Additional variables may be configured by the following means: for processes spawned in specific units, use the  <i>Environment=</i> and  <i>EnvironmentFile=</i> options above; to specify variables globally, use  <i>DefaultEnvironment=</i> (see  <b>systemd-system.conf</b>(5)) or the kernel option  <i>systemd.setenv=</i> (see  <b>systemd</b>(1)). Additional variables may also be set through PAM, cf.&#160;<b>pam_env</b>(8).</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>systemd</b>(1),  <b>systemctl</b>(1),  <b>journalctl</b>(8),  <b>systemd.unit</b>(5),  <b>systemd.service</b>(5),  <b>systemd.socket</b>(5),  <b>systemd.swap</b>(5),  <b>systemd.mount</b>(5),  <b>systemd.kill</b>(5),  <b>systemd.resource-control</b>(5),  <b>systemd.directives</b>(7),  <b>tmpfiles.d</b>(5),  <b>exec</b>(3)</div>
<div class="section">
<h1>NOTES</h1><dl>
<dt>
 1.</dt>
<dd>
proc.txt</dd>
</dl>
<div style="margin-left: 4.00ex;">
https://www.kernel.org/doc/Documentation/filesystems/proc.txt</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
systemd 226</td>
</tr>
</table>
</div>
</body>
</html>

