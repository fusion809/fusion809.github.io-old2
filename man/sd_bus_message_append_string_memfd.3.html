<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
SD_BUS_MESSAGE_APPEND_STRING_MEMFD(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SD_BUS_MESSAGE_APPEND_STRING_MEMFD(3)</td>
<td class="head-vol">
sd_bus_message_append_string_memfd</td>
<td class="head-rtitle">
SD_BUS_MESSAGE_APPEND_STRING_MEMFD(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sd_bus_message_append_string_memfd, sd_bus_message_append_string_iovec, sd_bus_message_append_string_space - Attach a string to a message</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;systemd/sd-bus.h&gt;<br/>
<div class="spacer">
</div>
<div style="margin-left: 39.00ex;text-indent: -39.00ex;" class="spacer">
<b>int sd_bus_message_append_string_memfd(sd_bus_message&#160;*</b><i>m</i><b>, int&#160;</b><i>memfd</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 39.00ex;text-indent: -39.00ex;" class="spacer">
<b>int sd_bus_message_append_string_iovec(sd_bus_message&#160;*</b><i>m</i><b>, const&#160;struct&#160;iovec&#160;*</b><i>iov</i><b>, unsigned&#160;</b><i>n</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 39.00ex;text-indent: -39.00ex;" class="spacer">
<b>int sd_bus_message_append_string_space(sd_bus_message&#160;*</b><i>m</i><b>, size_t&#160;</b><i>size</i><b>, char&#160;**</b><i>s</i><b>);</b></div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The functions  <b>sd_bus_message_append_string_memfd</b> and  <b>sd_bus_message_append_string_iovec</b> can be used to append a single string (item of type &quot;s&quot;) to message  <i>m</i>.<div class="spacer">
</div>
In case of  <b>sd_bus_message_append_string_memfd</b>, the contents of  <i>memfd</i> are the string. They must satisfy the same constraints as described for the &quot;s&quot; type in  <b>sd_bus_message_append_basic</b>(3).<div class="spacer">
</div>
In case of  <b>sd_bus_message_append_string_iovec</b>, the payload of  <i>iov</i> is the string. It must satisfy the same constraints as described for the &quot;s&quot; type in  <b>sd_bus_message_append_basic</b>(3).<div class="spacer">
</div>
The  <i>iov</i> argument must point to  <i>n</i> struct iovec structures. Each structure may have the iov_base field set, in which case the memory pointed to will be copied into the message, or unset, in which case a block of spaces (ASCII 32) of length iov_len will be inserted. The memory pointed at by  <i>iov</i> may be changed after this call.<div class="spacer">
</div>
The  <b>sd_bus_message_append_string_space</b> function appends space for a string to message  <i>m</i>. It behaves similar to  <b>sd_bus_message_append_basic</b> with type &quot;s&quot;, but instead of copying a string into the message, it returns a pointer to the destination area to the caller in pointer  <i>p</i>. Space for the string of length  <i>size</i> plus the terminating  <b>NUL</b> is allocated.</div>
<div class="section">
<h1>RETURN VALUE</h1> On success, those calls return 0 or a positive integer. On failure, they returns a negative errno-style error code.</div>
<div class="section">
<h1>ERRORS</h1> Returned errors may indicate the following problems:<div class="spacer">
</div>
<b>-EINVAL</b><div style="margin-left: 4.00ex;">
Specified parameter is invalid.</div>
<div class="spacer">
</div>
<b>-EPERM</b><div style="margin-left: 4.00ex;">
Message has been sealed.</div>
<div class="spacer">
</div>
<b>-ESTALE</b><div style="margin-left: 4.00ex;">
Message is in invalid state.</div>
<div class="spacer">
</div>
<b>-ENXIO</b><div style="margin-left: 4.00ex;">
Message cannot be appended to.</div>
<div class="spacer">
</div>
<b>-ENOMEM</b><div style="margin-left: 4.00ex;">
Memory allocation failed.</div>
</div>
<div class="section">
<h1>NOTES</h1> The functions described here are available as a shared library, which can be compiled and linked to with the  <b>libsystemd</b>&#160;<b>pkg-config</b>(1) file.</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>systemd</b>(1),  <b>sd-bus</b>(3),  <b>sd_bus_message_append_basic</b>(3),  <b>The D-Bus specification</b>[1]</div>
<div class="section">
<h1>NOTES</h1><dl>
<dt>
 1.</dt>
<dd>
The D-Bus specification</dd>
</dl>
<div style="margin-left: 4.00ex;">
http://dbus.freedesktop.org/doc/dbus-specification.html</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
systemd 226</td>
</tr>
</table>
</div>
</body>
</html>

