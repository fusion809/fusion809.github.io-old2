<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
ARCHIVE_READ_EXTRACT(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">archive_read_extract</b>, <b class="name">archive_read_extract2</b>, <b class="name">archive_read_extract_set_progress_callback</b> &#8212; <span class="desc">functions for reading streaming archives</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> Streaming Archive Library (libarchive, -larchive)</div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">archive.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_read_extract</b>(<i class="farg">struct archive *</i>, <i class="farg">struct archive_entry *</i>, <i class="farg">int flags</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_read_extract2</b>(<i class="farg">struct archive *src</i>, <i class="farg">struct archive_entry *</i>, <i class="farg">struct archive *dest</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_read_extract_set_progress_callback</b>(<i class="farg">struct archive *</i>, <i class="farg">void (*func)(void *)</i>, <i class="farg">void *user_data</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_read_extract</b>(), <b class="fname">archive_read_extract_set_skip_file</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A convenience function that wraps the corresponding <a class="link-man">archive_write_disk(3)</a> interfaces. The first call to <b class="fname">archive_read_extract</b>() creates a restore object using <a class="link-man">archive_write_disk_new(3)</a> and <a class="link-man">archive_write_disk_set_standard_lookup(3)</a>, then transparently invokes <a class="link-man">archive_write_disk_set_options(3)</a>, <a class="link-man">archive_write_header(3)</a>, <a class="link-man">archive_write_data(3)</a>, and <a class="link-man">archive_write_finish_entry(3)</a> to create the entry on disk and copy data into it. The <b class="var">flags</b> argument is passed unmodified to <a class="link-man">archive_write_disk_set_options(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_read_extract2</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This is another version of <b class="fname">archive_read_extract</b>() that allows you to provide your own restore object. In particular, this allows you to override the standard lookup functions using <a class="link-man">archive_write_disk_set_group_lookup(3)</a>, and <a class="link-man">archive_write_disk_set_user_lookup(3)</a>. Note that <b class="fname">archive_read_extract2</b>() does not accept a <b class="var">flags</b> argument; you should use <b class="fname">archive_write_disk_set_options</b>() to set the restore options yourself.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_read_extract_set_progress_callback</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets a pointer to a user-defined callback that can be used for updating progress displays during extraction. The progress function will be invoked during the extraction of large regular files. The progress function will be invoked with the pointer provided to this call. Generally, the data pointed to should include a reference to the archive object and the archive_entry object so that various statistics can be retrieved for the progress display.</dd>
</dl>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Most functions return zero on success, non-zero on error. The possible return codes include: <b class="flag">ARCHIVE_OK</b> (the operation succeeded), <b class="flag">ARCHIVE_WARN</b> (the operation succeeded but a non-critical error was encountered), <b class="flag">ARCHIVE_EOF</b> (end-of-archive was encountered), <b class="flag">ARCHIVE_RETRY</b> (the operation failed but can be retried), and <b class="flag">ARCHIVE_FATAL</b> (there was a fatal error; the archive should be closed immediately).</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> Detailed error codes and textual descriptions are available from the <b class="fname">archive_errno</b>() and <b class="fname">archive_error_string</b>() functions.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man">tar(1)</a>, <a class="link-man">libarchive(3)</a>, <a class="link-man">archive_read(3)</a>, <a class="link-man">archive_read_data(3)</a>, <a class="link-man">archive_read_filter(3)</a>, <a class="link-man">archive_read_format(3)</a>, <a class="link-man">archive_read_open(3)</a>, <a class="link-man">archive_read_set_options(3)</a>, <a class="link-man">archive_util(3)</a>, <a class="link-man">tar(5)</a></div>
</div>
</body>
</html>

