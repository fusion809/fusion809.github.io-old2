<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
IP-NEIGHBOUR(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
IP-NEIGHBOUR(8)</td>
<td class="head-vol">
Linux</td>
<td class="head-rtitle">
IP-NEIGHBOUR(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ip-neighbour - neighbour/arp tables management.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
<b>ip</b> [ <i>OPTIONS</i> ] <b>neigh</b>  { <i>COMMAND</i> |  <b>help</b> }<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>ip neigh</b> { <b>add</b> | <b>del</b> | <b>change</b> | <b>replace</b> } {  <i>ADDR</i> [  <b>lladdr</b> <i>LLADDR</i> ] [  <b>nud</b> { <b>permanent</b> | <b>noarp</b> | <b>stale</b> | <b>reachable</b> } ] | <b>proxy</b> <i>ADDR</i> } [  <b>dev</b> <i>DEV</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip neigh</b> { <b>show</b> | <b>flush</b> } [ <b>proxy</b> ] [ <b>to</b> <i>PREFIX</i> ] [  <b>dev</b> <i>DEV</i> ] [  <b>nud</b> <i>STATE</i> ]<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>ip neigh</b> command manipulates <i>neighbour</i> objects that establish bindings between protocol addresses and link layer addresses for hosts sharing the same link. Neighbour entries are organized into tables. The IPv4 neighbour table is also known by another name - the ARP table.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The corresponding commands display neighbour bindings and their properties, add new neighbour entries and delete old ones.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
ip neighbour add</dt>
<dd>
add a new neighbour entry</dd>
</dl>
<dl>
<dt>
ip neighbour change</dt>
<dd>
change an existing entry</dd>
</dl>
<dl>
<dt>
ip neighbour replace</dt>
<dd>
add a new entry or change an existing one</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
These commands create new neighbour records or update existing ones.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>to</b><i> ADDRESS </i><b>(default)</b></dt>
<dd>
the protocol address of the neighbour. It is either an IPv4 or IPv6 address.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
the interface to which this neighbour is attached.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>lladdr</b><i> LLADDRESS</i></dt>
<dd>
the link layer address of the neighbour. <i>LLADDRESS</i> can also be <b>null</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>nud</b><i> NUD_STATE</i></dt>
<dd>
the state of the neighbour entry. <b>nud</b> is an abbreviation for 'Neighbour Unreachability Detection'. The state can take one of the following values:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>permanent</b></dt>
<dd>
the neighbour entry is valid forever and can be only be removed administratively.</dd>
</dl>
<dl>
<dt>
<b>noarp</b></dt>
<dd>
the neighbour entry is valid. No attempts to validate this entry will be made but it can be removed when its lifetime expires.</dd>
</dl>
<dl>
<dt>
<b>reachable</b></dt>
<dd>
the neighbour entry is valid until the reachability timeout expires.</dd>
</dl>
<dl>
<dt>
<b>stale</b></dt>
<dd>
the neighbour entry is valid but suspicious. This option to <b>ip neigh</b> does not change the neighbour state if it was valid and the address is not changed by this command.</dd>
</dl>
</div>
<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
ip neighbour delete</dt>
<dd>
delete a neighbour entry</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
The arguments are the same as with <b>ip neigh add</b>, except that <b>lladdr</b> and <b>nud</b> are ignored.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<b>Warning:</b> Attempts to delete or manually change a <b>noarp</b> entry created by the kernel may result in unpredictable behaviour. Particularly, the kernel may try to resolve this address even on a <b>NOARP</b> interface or if the address is multicast or broadcast.</div>
<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
ip neighbour show</dt>
<dd>
list neighbour entries</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>to</b><i> ADDRESS </i><b>(default)</b></dt>
<dd>
the prefix selecting the neighbours to list.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
only list the neighbours attached to this device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>proxy</b></dt>
<dd>
list neighbour proxies.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>unused</b></dt>
<dd>
only list neighbours which are not currently in use.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>nud</b><i> NUD_STATE</i></dt>
<dd>
only list neighbour entries in this state. <i>NUD_STATE</i> takes values listed below or the special value <b>all</b> which means all states.  This option may occur more than once. If this option is absent, <b>ip</b> lists all entries except for <b>none</b> and <b>noarp</b>.</dd>
</dl>
</div>
<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
ip neighbour flush</dt>
<dd>
flush neighbour entries</dd>
</dl>
<div style="margin-left: 5.00ex;">
This command has the same arguments as <b>show.</b> The differences are that it does not run when no arguments are given, and that the default neighbour states to be flushed do not include <b>permanent</b> and <b>noarp</b>.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
With the <b>-statistics</b> option, the command becomes verbose.  It prints out the number of deleted neighbours and the number of rounds made to flush the neighbour table.  If the option is given twice, <b>ip neigh flush</b> also dumps all the deleted neighbours.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>EXAMPLES</h1> ip neighbour<div style="margin-left: 5.00ex;">
Shows the current neighbour table in kernel.</div>
<div class="spacer">
</div>
ip neigh flush dev eth0<div style="margin-left: 5.00ex;">
Removes entries in the neighbour table on device eth0.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>ip</b>(8)<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Original Manpage by Michail Litvak &lt;mci@owl.openwall.com&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
20 Dec 2011</td>
<td class="foot-os">
iproute2</td>
</tr>
</table>
</div>
</body>
</html>

